<?php
/*--------------------------------------------------*/
/* FILE GENERATED BY INVISION POWER BOARD 3         */
/* CACHE FILE: Skin set id: 4               */
/* CACHE FILE: Generated: Wed, 29 Aug 2012 14:15:08 GMT */
/* DO NOT EDIT DIRECTLY - THE CHANGES WILL NOT BE   */
/* WRITTEN TO THE DATABASE AUTOMATICALLY            */
/*--------------------------------------------------*/

class skin_topic_4 extends skinMaster{

/**
* Construct
*/
function __construct( ipsRegistry $registry )
{
	parent::__construct( $registry );
	

$this->_funcHooks = array();
$this->_funcHooks['announcement_show'] = array('canmanage','disablelightbox');
$this->_funcHooks['archiveStatusMessage'] = array('isAdminArchivedTop','isModArchived','isArchivedDone','isAdminArchived','isRestoring');
$this->_funcHooks['hookFacebookLike'] = array('checkAccess','fbAppIdPresent');
$this->_funcHooks['likeSummaryContents'] = array('likeOnlyMembers');
$this->_funcHooks['pollDisplay'] = array('lastVoter','poll_voters','hasVoters','viewVoters','votersJs','multiVote','showingResults','poll_choices','votedClass','noGuestVote','poll_questions','showPollResults','publicPollNotice','deleteVote','cast','viewVotersLink','alreadyDisplayVotes','displayVotes','youCreatedPoll','voteButtonVoted','voteButtonMid','voteButton','editPoll');
$this->_funcHooks['post'] = array('sDeleted','postQueued','noRep','posRep','negRep','repIgnored','userIgnoredLang','userIgnoredLangTwo','userIgnored','isNotIgnoring','postMid','postModSelected','postModCheckbox','hasPages','postMember','accessModCP','postAdmin','postIp','repHighlight','postEditByReason','postEditBy','repButtonsLike','postSignature','canDelete','approveUnapprove','canEdit','controlsForUnapprovedPost','hideNormalControlsForUnapprovedPost','multiquote','replyButton','replyButtonWarn','canDelete','canHide','canEdit','hasblog','postIsReported','canReportPost','reportedPostData','sDeletedNot','initIgnoredPost','adCodeCheck','sDeletedNotMQ');
$this->_funcHooks['quickEditPost'] = array('editReasonQe','editByQe');
$this->_funcHooks['show_attachment_title'] = array('attachType','attach');
$this->_funcHooks['Show_attachments'] = array('hasmime');
$this->_funcHooks['softDeletedPostBit'] = array('postMid','postModSelected','postModCheckbox','postMember','postAdmin','postIp','showReason','postEditByReason','postEditBy','postSignature','showPost','sdOptions');
$this->_funcHooks['topicViewTemplate'] = array('isDelete','mod_links','mm','optRepFilterSelected','reputation_levels','post_data','topics','allowRating','canDeleteUrls','disablelightbox','linkAvatarOpen','linkAvatarclose','rate1','rate2','rate3','rate4','rate5','hasRates','jsHasRates','topicRating','hasTags','showReason','tbdSoftRestore','tbdRestore','topicHasBeenHidden','topicHasBeenDeleted','closedButtonLink','closedButtonLink','pollOnly','isMemberTop','replyButtonLink','replyButton','closedButton','topicDescription','modOptions','isArchivedPostBox','mmModOptions','modOptionsDropdown','repFilterDefault','reputationFilter','optSelectStar','repFilterOptions','reputationFilter','hasPosts','modOptions','hasUnreadNext','isLockedFR','isMember','loadJsManually','fastReply','canShare','sameTagged','auNames','topicActiveUsers','scrollToPost');


}

/* -- ajax__deletePost --*/
function ajax__deletePost() {
$IPBHTML = "";
$IPBHTML .= "<h3>{$this->lang->words['dlp_title']}</h3>
<div class='ipsBox'>
	<div class='ipsBox_container'>
		<div class='ipsPad ipsForm_center'>
			{$this->lang->words['dlp_remove_from_view_desc']}<br />
			<span class='desc lighter ipsType_smaller'>{$this->lang->words['dlp_remove_from_view_extra']}</span><br /><br />
			<form action='#{removeUrl}' method='POST'>
				<input type='text' name='deleteReason' id='delPop_reason' value='' class='input_text' style='width: 60%' /> <input type='submit' class='input_submit' value='{$this->lang->words['post_hide']}' />
			</form>
		</div>
	</div>
</div>
<script type='text/javascript'>
$('delPop_reason').defaultize( \"{$this->lang->words['post_hide_reason_default']}\" );
</script>";
return $IPBHTML;
}

/* -- ajax__doDeletePost --*/
function ajax__doDeletePost() {
$IPBHTML = "";
$IPBHTML .= "<h3>{$this->lang->words['post_delete']}</h3>
<div class='ipsBox'>
	<div class='ipsBox_container'>
		<div class='ipsPad ipsForm_center'>
			{$this->lang->words['post_delete_confirm']}<br />
			<br />
			<form action='#{permaUrl}' method='POST'>
				<input type='submit' class='input_submit' id='delPush' value='{$this->lang->words['post_delete']}' />
			</form>
		</div>
	</div>
</div>";
return $IPBHTML;
}

/* -- ajax__restoreTopicDialog --*/
function ajax__restoreTopicDialog() {
$IPBHTML = "";
$IPBHTML .= "<h3>{$this->lang->words['drestore_title']}</h3>
<div class='ipsBox'>
	<div class='ipsBox_container ipsPad'>
		{$this->lang->words['drestore_text']}
		<br />
		<br />
		<a href='#' class='ipsButton_secondary important' data-clicklaunch=\"restoreTopicDialogGo\" data-scope=\"topic\">{$this->lang->words['drestore_title']}</a>
	</div>
</div>";
return $IPBHTML;
}

/* -- ajaxSigCloseMenu --*/
function ajaxSigCloseMenu($post) {
$IPBHTML = "";
$IPBHTML .= "<ul class='ipbmenu_content'>
	<li class='clearfix'>
		<a href='#' data-clicklaunch='ignoreUsersSig' data-scope='ipb.topic' data-id=\"{$post['member_id']}\">" . sprintf( $this->lang->words['ignore_userx_signature'], $post['members_display_name'] ) . "</a>
	</li>
	<li class='clearfix'>
		<a href='#' data-clicklaunch='ignoreUsersSig' data-scope='ipb.topic' data-id=\"all\">{$this->lang->words['ignore_all_signatures']}</a>
	</li>
</ul>";
return $IPBHTML;
}

/* -- announcement_show --*/
function announcement_show($announce="",$author="") {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_topic', $this->_funcHooks['announcement_show'] ) )
{
$count_7213d5bd035948add64700e654fab8e4 = is_array($this->functionData['announcement_show']) ? count($this->functionData['announcement_show']) : 0;
$this->functionData['announcement_show'][$count_7213d5bd035948add64700e654fab8e4]['announce'] = $announce;
$this->functionData['announcement_show'][$count_7213d5bd035948add64700e654fab8e4]['author'] = $author;
}
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("topic", "0" ) . "
<h1 class='ipsType_pagetitle'>{$this->lang->words['announce_title']}: {$announce['announce_title']}</h1>
<br />
<h2 class='maintitle'>{$this->lang->words['posted_by']} " . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($author) : '' ) . "</h2>
<div class='post_block first hentry announcement' id='announce_id_{$announce['announce_id']}'>
	<div class='post_wrap'>
		<br />
		<div class='author_info'>
			" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userInfoPane' ) ? $this->registry->getClass('output')->getTemplate('global')->userInfoPane($author, 'announcement', array( 'id2' => $announce['announce_id'] )) : '' ) . "
		</div>
		<div class='post_body'>
			<div class='post entry-content'>
				{$announce['announce_post']}
			</div>
			<ul class='post_controls clear clearfix'>
				" . (($this->memberData['g_is_supmod'] == 1) ? ("
					<li class='post_edit'><a class='ipsButton_secondary' href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=modcp&amp;tab=announcements&amp;fromapp=forums&amp;_do=edit&amp;announce_id={$announce['announce_id']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['post_edit_announce']}' class='edit_post'>{$this->lang->words['post_edit_announce']}</a></li>
				") : ("")) . "
			</ul>
		</div>
	</div>
</div>
" . ((!$this->settings['disable_lightbox']) ? ("
" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'include_lightbox' ) ? $this->registry->getClass('output')->getTemplate('global')->include_lightbox() : '' ) . "
") : ("")) . "
" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'include_highlighter' ) ? $this->registry->getClass('output')->getTemplate('global')->include_highlighter(1) : '' ) . "";
return $IPBHTML;
}

/* -- archiveStatusMessage --*/
function archiveStatusMessage($topic, $forum) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_topic', $this->_funcHooks['archiveStatusMessage'] ) )
{
$count_d937ab15e149934dc14ffad6307d257c = is_array($this->functionData['archiveStatusMessage']) ? count($this->functionData['archiveStatusMessage']) : 0;
$this->functionData['archiveStatusMessage'][$count_d937ab15e149934dc14ffad6307d257c]['topic'] = $topic;
$this->functionData['archiveStatusMessage'][$count_d937ab15e149934dc14ffad6307d257c]['forum'] = $forum;
}
$IPBHTML .= "" . (($this->registry->class_forums->fetchArchiveTopicType($topic) == 'restore') ? ("<div class='message unspecific'>
		" . (($this->memberData['g_access_cp']) ? ("{$this->lang->words['top_archived_topic_restore']}") : ("{$this->lang->words['top_archived_topic']}")) . "
	</div>") : ("<div class='message unspecific'>
		{$this->lang->words['top_archived_topic']}
		" . (($this->memberData['is_mod']) ? ("{$this->lang->words['top_archived_topic_mod']}") : ("")) . "
		" . (($this->memberData['g_access_cp']) ? ("<br />
			" . (($this->registry->class_forums->fetchArchiveTopicType( $topic ) == 'archived') ? ("
				<a href='#' class='ipsButton_secondary' data-clicklaunch=\"restoreTopicDialog\" data-scope=\"topic\">{$this->lang->words['top_archived_topic_admin']}</a>
				<a href='#' class='ipsButton_secondary important' data-clicklaunch=\"deleteTopicDialog\" data-scope=\"topic\">{$this->lang->words['tarchived_delete']}</a>
			") : ("")) . "") : ("")) . "
	</div>")) . "";
return $IPBHTML;
}

/* -- hookFacebookLike --*/
function hookFacebookLike() {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_topic', $this->_funcHooks['hookFacebookLike'] ) )
{
$count_1cb8e599368c3fd564e3a4a683518ffc = is_array($this->functionData['hookFacebookLike']) ? count($this->functionData['hookFacebookLike']) : 0;
}
$IPBHTML .= "" . (($this->settings['fbc_appid']) ? ("" . (($this->registry->getClass('class_forums')->guestCanSeeTopic($this->request['f'], $this->settings['fbc_bot_group'])) ? ("
<br />
<div class='left facebook-like'>
	<fb:like href=\"{$this->registry->getClass('output')->fetchRootDocUrl()}\" layout=\"standard\" show_faces=\"false\" width=\"450\" action=\"like\" colorscheme=\"light\" />
</div>
<div id=\"fb-root\"></div>
<script>
  window.fbAsyncInit = function() {
    FB.init({appId: '{$this->settings['fbc_appid']}', status: true, cookie: true,
             xfbml: true});
  };
  (function() {
    var e = document.createElement('script'); e.async = true;
    e.src = document.location.protocol +
      '//connect.facebook.net/{$this->settings['fb_locale']}/all.js';
    document.getElementById('fb-root').appendChild(e);
  }());
</script>
") : ("")) . "") : ("")) . "";
return $IPBHTML;
}

/* -- likeSummary --*/
function likeSummary($data, $relId, $opts) {
$IPBHTML = "";
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("like", "0" ) . "
<div class='__like right' data-app=\"{$data['app']}\" data-area=\"{$data['area']}\" data-relid=\"{$relId}\" data-isfave=\"{$data['iLike']}\">
	" . ( method_exists( $this->registry->getClass('output')->getTemplate('topic'), 'likeSummaryContents' ) ? $this->registry->getClass('output')->getTemplate('topic')->likeSummaryContents($data, $relId, $opts) : '' ) . "
</div>
<script type=\"text/javascript\">
	var FAVE_TEMPLATE = new Template( \"<h3>" . sprintf( $this->lang->words['unset_fave_title'], $this->lang->words['like_ucfirst_un' . $data['vernacular'] ]) . "</h3><div class='ipsPad'><span class='desc'>" . sprintf( $this->lang->words['unset_fave_words'], $this->lang->words['like_un' . $data['vernacular'] ]) . "</span><br /><p class='ipsForm_center'><input type='button' value='" . sprintf( $this->lang->words['unset_button'], $this->lang->words['like_ucfirst_un' . $data['vernacular'] ]) . "' class='input_submit _funset' /></p></div>\");
</script>";
return $IPBHTML;
}

/* -- likeSummaryContents --*/
function likeSummaryContents($data, $relId, $opts=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_topic', $this->_funcHooks['likeSummaryContents'] ) )
{
$count_ddd78ef1f331a368ead16b7b1d2d53bf = is_array($this->functionData['likeSummaryContents']) ? count($this->functionData['likeSummaryContents']) : 0;
$this->functionData['likeSummaryContents'][$count_ddd78ef1f331a368ead16b7b1d2d53bf]['data'] = $data;
$this->functionData['likeSummaryContents'][$count_ddd78ef1f331a368ead16b7b1d2d53bf]['relId'] = $relId;
$this->functionData['likeSummaryContents'][$count_ddd78ef1f331a368ead16b7b1d2d53bf]['opts'] = $opts;
}
$IPBHTML .= "<span class='ipsButton_extra right " . (($data['totalCount']) ? ("_fmore clickable") : ("")) . "' title='" . sprintf( $this->lang->words['like_totalcount_' . $data['vernacular'] ], $data['totalCount'] ) . "' data-tooltip=\"" . sprintf( $this->lang->words['like_totalcount_' . $data['vernacular'] ], $data['totalCount'] ) . "\"><img src='{$this->settings['img_url']}/icon_users.png' /> <strong>{$data['totalCount']}</strong></span>
" . (($this->memberData['member_id']) ? ("<a href='#' title=\"" . (($data['iLike']) ? ("" . sprintf( $this->lang->words['fave_tt_on'], $this->lang->words['like_ucfirst_un' . $data['vernacular'] ]) . "") : ("" . sprintf( $this->lang->words['fave_tt_off'], $this->lang->words['like_ucfirst_' . $data['vernacular'] ]) . "")) . "\" class='ftoggle ipsButton_secondary'>" . (($data['iLike']) ? ("" . sprintf( $this->lang->words['unset_fave_button'], $this->lang->words['like_ucfirst_un' . $data['vernacular'] ]) . "") : ("" . sprintf( $this->lang->words['set_fave_button'], $this->lang->words['like_ucfirst_' . $data['vernacular'] ]) . "")) . "</a>") : ("")) . "";
return $IPBHTML;
}

/* -- pollDisplay --*/
function pollDisplay($poll, $topicData, $forumData, $pollData, $showResults, $editPoll=1) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_topic', $this->_funcHooks['pollDisplay'] ) )
{
$count_6fd3fae82b97862052445f2adefa0664 = is_array($this->functionData['pollDisplay']) ? count($this->functionData['pollDisplay']) : 0;
$this->functionData['pollDisplay'][$count_6fd3fae82b97862052445f2adefa0664]['poll'] = $poll;
$this->functionData['pollDisplay'][$count_6fd3fae82b97862052445f2adefa0664]['topicData'] = $topicData;
$this->functionData['pollDisplay'][$count_6fd3fae82b97862052445f2adefa0664]['forumData'] = $forumData;
$this->functionData['pollDisplay'][$count_6fd3fae82b97862052445f2adefa0664]['pollData'] = $pollData;
$this->functionData['pollDisplay'][$count_6fd3fae82b97862052445f2adefa0664]['showResults'] = $showResults;
$this->functionData['pollDisplay'][$count_6fd3fae82b97862052445f2adefa0664]['editPoll'] = $editPoll;
}
$IPBHTML .= "<script type='text/javascript'>
//<![CDATA[
	ipb.templates['poll_voters'] = new Template(\"<h3 class='bar'>{$this->lang->words['poll_voted_for']} #{title}</h3><div class='ipsPad'>#{content}</div>\");
//]]>
</script>
<div class='general_box alt poll' id='poll_{$poll['pid']}'>
	<form action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=extras&amp;section=vote&amp;t={$topicData['tid']}&amp;st={$this->request['st']}&amp;do=add&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "\" name='pollForm' method=\"post\">
		<h3>{$this->lang->words['poll']} {$poll['poll_question']}" . (($showResults) ? (" <span class='desc'>({$poll['_totalVotes']} {$this->lang->words['poll_vote_casted']})</span>") : ("")) . "</h3>
		" . (($this->settings['poll_allow_public'] AND $poll['poll_view_voters'] AND ! $showResults) ? ("
			<div class='message unspecified'>{$this->lang->words['poll_public_notice']}</div>
		") : ("")) . "
		".$this->__f__8d2f06113660fa6f6e0b1b403adc1901($poll,$topicData,$forumData,$pollData,$showResults,$editPoll)."		<fieldset class='submit'>
			<legend>{$this->lang->words['poll_vote']}</legend>
			" . (($topicData['state'] != 'closed') ? ("" . (($this->memberData['member_id']) ? ("" . (($poll['_memberVoted']) ? ("" . (($this->settings['poll_allow_vdelete'] OR $this->memberData['g_is_supmod']) ? ("
							<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=extras&amp;section=vote&amp;t={$topicData['tid']}&amp;st={$this->request['st']}&amp;do=delete&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' title='{$this->lang->words['poll_delete_vote']}' id='poll_deletevote' class='input_submit alt'>{$this->lang->words['poll_delete_vote']}</a>
						") : ("
							{$this->lang->words['poll_you_voted']}
						")) . "") : ("" . ((($poll['starter_id'] == $this->memberData['member_id']) and ($this->settings['allow_creator_vote'] != 1)) ? ("
							{$this->lang->words['poll_you_created']}
						") : ("<!-- VOTE Button -->
							" . (($this->request['mode'] != 'show') ? ("
								<input class='input_submit' type=\"submit\" name=\"submit\" value=\"{$this->lang->words['poll_add_vote']}\" title=\"{$this->lang->words['tt_poll_vote']}\" />
							") : ("")) . "
							<!-- SHOW Button -->
							" . (($this->settings['allow_result_view'] == 1) ? ("" . (($this->request['mode'] == 'show') ? ("" . ((! $poll_view_voters) ? ("
										<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topicData['tid']}&amp;st={$this->request['st']}", "public",'' ), "{$topicData['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['tt_poll_svote']}' id='poll_nullvote' class='input_submit alt'>{$this->lang->words['pl_show_vote']}</a>
									") : ("")) . "") : ("
									<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topicData['tid']}&amp;mode=show&amp;st={$this->request['st']}", "public",'' ), "{$topicData['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['tt_poll_show']}' id='poll_showresults' class='input_submit alt'>{$this->lang->words['pl_show_results']}</a>
								")) . "") : ("
								<input class='input_submit' type=\"submit\" name=\"nullvote\" value=\"{$this->lang->words['poll_null_vote']}\" title=\"{$this->lang->words['tt_poll_null']}\" />
							")) . "")) . "")) . "") : ("
					{$this->lang->words['poll_no_guests']}
				")) . "") : ("")) . "
			" . (($editPoll) ? ("
				<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=post&amp;section=post&amp;do=edit_post&amp;f={$poll['forum_id']}&amp;t={$poll['tid']}&amp;p={$topicData['topic_firstpost']}", "publicWithApp",'' ), "", "" ) . "' title='{$this->lang->words['poll_edit']}' class='input_submit alt' >{$this->lang->words['poll_edit']}</a>
			") : ("")) . "
		</fieldset>
	</form>
</div>";
return $IPBHTML;
}


function __f__910972326a5386b3de9e9997265d4384($poll, $topicData, $forumData, $pollData, $showResults, $editPoll=1,$questionID='',$questionData='',$choiceID='',$choiceData='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $choiceData['voters'] as $id => $member )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
												users += \"<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$member['member_id']}", "public",'' ), "{$member['members_seo_name']}", "showuser" ) . "'>{$member['members_colored_name']}</a>" . (($member['_last'] == 0) ? (", ") : ("")) . "\";
											
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__e8177d127536b13b07f65cd700f219f6($poll, $topicData, $forumData, $pollData, $showResults, $editPoll=1,$questionID='',$questionData='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $pollData[ $questionID ]['choices'] as $choiceID => $choiceData )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
							" . (($showResults) ? ("<li>
									<span class='answer'>" . ((is_array( $choiceData['voters'] ) AND in_array( $this->memberData['member_id'], array_keys( $choiceData['voters'] ) )) ? (" " . $this->registry->getClass('output')->getReplacement("your_vote") . " ") : ("")) . "{$choiceData['choice']}</span>
									" . (($poll['poll_view_voters'] AND is_array( $choiceData['voters'] ) AND $this->settings['poll_allow_public'] AND $choiceData['votes']) ? ("
										<a href='#' class='votes' id='l_voters_{$questionID}_{$choiceID}' title='{$this->lang->words['poll_view_voters']}'>({$choiceData['votes']} {$this->lang->words['poll_votes']} [{$choiceData['percent']}%] - <strong>{$this->lang->words['poll_view']}</strong>)</a>
									") : ("
										<span class='votes'> ({$choiceData['votes']} {$this->lang->words['poll_votes']} [{$choiceData['percent']}%])</span>
									")) . "
									" . (($poll['poll_view_voters'] AND is_array( $choiceData['voters'] ) AND $this->settings['poll_allow_public'] AND $choiceData['votes']) ? ("
										<script type='text/javascript'>
											$('l_voters_{$questionID}_{$choiceID}').observe('click', ipb.topic.showVoters.bindAsEventListener( this, {$questionID}, {$choiceID} ) );
											if( Object.isUndefined( ipb.topic.poll[ $questionID ] ) ){
												ipb.topic.poll[ $questionID ] = [];
											}
											
											var users = \"\";
											
											".$this->__f__910972326a5386b3de9e9997265d4384($poll,$topicData,$forumData,$pollData,$showResults,$editPoll,$questionID,$questionData,$choiceID,$choiceData)."											ipb.topic.poll[ $questionID ][ $choiceID ] = { name: \"{$choiceData['choice']}\", users: users};
										</script>
									") : ("")) . "
									<p class='progress_bar topic_poll' title='{$this->lang->words['poll_percent_of_vote']} {$choiceData['percent']}%'>
										<span style='width: {$choiceData['percent']}%'><span>{$this->lang->words['poll_percent_of_vote']} {$choiceData['percent']}%</span></span>
									</p>
								</li>") : ("" . (($choiceData['type'] == 'multi') ? ("
									<li><input type='checkbox' id='choice_{$questionID}_{$choiceID}' name='choice_{$questionID}_{$choiceID}' value='1' class='input_check' /> <label for='choice_{$questionID}_{$choiceID}'>{$choiceData['choice']}</label></li>
								") : ("
									<li><input type='radio' name='choice[{$questionID}]' id='choice_{$questionID}_{$choiceID}' class='input_radio' value='{$choiceID}' /> <label for='choice_{$questionID}_{$choiceID}'>{$choiceData['choice']}</label></li>
								")) . "")) . "
						
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__8d2f06113660fa6f6e0b1b403adc1901($poll, $topicData, $forumData, $pollData, $showResults, $editPoll=1)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $pollData as $questionID => $questionData )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			<div class='poll_question" . (($showResults) ? (" voted") : ("")) . "'>
				<h4 class='rounded'>{$pollData[ $questionID ]['question']}</h4>
				" . ((! $this->settings['allow_result_view'] AND ! $this->memberData['member_id']) ? ("
					{$this->lang->words['poll_noview_guest']}
				") : ("
					<ol>
						".$this->__f__e8177d127536b13b07f65cd700f219f6($poll,$topicData,$forumData,$pollData,$showResults,$editPoll,$questionID,$questionData)."					</ol>
				")) . "
			</div>
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- post --*/
function post($post, $displayData, $topic, $forum=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_topic', $this->_funcHooks['post'] ) )
{
$count_b675a5e6f16864593dde1993b6329e56 = is_array($this->functionData['post']) ? count($this->functionData['post']) : 0;
$this->functionData['post'][$count_b675a5e6f16864593dde1993b6329e56]['post'] = $post;
$this->functionData['post'][$count_b675a5e6f16864593dde1993b6329e56]['displayData'] = $displayData;
$this->functionData['post'][$count_b675a5e6f16864593dde1993b6329e56]['topic'] = $topic;
$this->functionData['post'][$count_b675a5e6f16864593dde1993b6329e56]['forum'] = $forum;
}
$IPBHTML .= "<!--post:{$post['post']['pid']}-->
" . (($post['post']['_isDeleted'] AND $post['post']['_softDeleteSee']) ? ("
	" . ( method_exists( $this->registry->getClass('output')->getTemplate('topic'), 'softDeletedPostBit' ) ? $this->registry->getClass('output')->getTemplate('topic')->softDeletedPostBit($post, $displayData['sdData'], $topic) : '' ) . "
") : ("")) . "
" . ((! $post['post']['_isDeleted']) ? ("<div class='post_block hentry clear clearfix " . (($post['post']['_isHidden']) ? ("moderated") : ("")) . "' id='post_id_{$post['post']['pid']}'>
		<a id='entry{$post['post']['pid']}'></a>
		" . ((!empty( $post['post']['_repignored'] ) AND $post['post']['_repignored'] == 1 && $post['post']['_ignored'] != 1) ? ("<div class='post_ignore'>
				" . (($post['post']['rep_points'] == 0) ? ("
					<span class='reputation zero' title='{$this->lang->words['top_rep']}'>
				") : ("")) . "
				" . (($post['post']['rep_points'] > 0) ? ("
					<span class='reputation positive' title='{$this->lang->words['top_rep']}'>
				") : ("")) . "
				" . (($post['post']['rep_points'] < 0) ? ("
					<span class='reputation negative' title='{$this->lang->words['top_rep']}' >
				") : ("")) . "
						{$post['post']['rep_points']}</span> {$this->lang->words['top_this_post_by']} " . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($post['author']) : '' ) . " {$this->lang->words['top_below_thresh']}. <a href='#' title='{$this->lang->words['ignore_view_post']}' id='unhide_post_{$post['post']['pid']}'>{$this->lang->words['rep_view_anyway']}</a>
			</div>") : ("")) . "
	
		" . (($post['post']['_repignored'] == 1 || $post['post']['_ignored']) ? ("<div class='post_ignore'>
				" . (($post['post']['_repignored'] == 1) ? ("{$this->lang->words['post_ignored_rep']}") : ("{$this->lang->words['post_ignored']}")) . " " . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($post['author']) : '' ) . ". <a href='#entry{$post['post']['pid']}' title='{$this->lang->words['ignore_view_post']}' style='display: none' id='unhide_post_{$post['post']['pid']}'>{$this->lang->words['rep_view_anyway']}</a>
				" . (($this->settings['reputation_enabled'] AND $post['post']['_repignored'] == 1) ? ("<div><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$post['post']['topic_id']}&amp;st={$this->request['st']}&amp;rep_filter_set=*&amp;rep_filter=update&amp;secure_key={$this->member->form_hash}", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "\">{$this->lang->words['post_ignore_reset_rep']}</a></div>") : ("")) . "
			</div>") : ("")) . "
		<div class='post_wrap' " . (($post['post']['_ignored'] == 1 || $post['post']['_repignored'] == 1) ? ("style='display: none'") : ("")) . ">
			" . (($post['author']['member_id']) ? ("
				<h3 class='row2'>
			") : ("
				<h3 class='guest row2'>
			")) . "
				" . (($this->memberData['is_mod'] && ! $topic['_isArchived']) ? ("<span class='right'>
						<label for='checkbox_{$post['post']['pid']}' class='post_mod hide'>{$this->lang->words['mod_select_post']}</label><input type='checkbox' id='checkbox_{$post['post']['pid']}' name='selectedpids[]' value='{$post['post']['pid']}' class='post_mod right'" . ((!empty( $post['post']['_pid_selected'] )) ? (" checked='checked'") : ("")) . " data-status='{$post['post']['queued']}' />
					</span>") : ("")) . "
				<span class='post_id right ipsType_small desc blend_links'>
					" . (($this->request['st']) ? ("
						<a itemprop=\"replyToUrl\" href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$post['post']['topic_id']}&amp;st={$this->request['st']}#entry{$post['post']['pid']}", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "' rel='bookmark' title='{$topic['title']}{$this->lang->words['link_to_post']} #{$post['post']['post_count']}'>
					") : ("
						<a itemprop=\"replyToUrl\" href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$post['post']['topic_id']}&#entry{$post['post']['pid']}", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "' rel='bookmark' title='{$topic['title']}{$this->lang->words['link_to_post']} #{$post['post']['post_count']}'>
					")) . "
					#{$post['post']['post_count']}
					</a>
				</span>
				" . (($post['author']['member_id']) ? ("
					<span itemprop=\"creator name\" class=\"author vcard\">" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($post['author']) : '' ) . "</span>
				") : ("
					" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($post['author']) : '' ) . "
				")) . "
			
				" . (($post['post']['_show_ip']) ? ("<span class='ip right ipsType_small'>({$this->lang->words['ip']}:
					" . (($post['author']['g_access_cp']) ? ("
						<em>{$this->lang->words['ip_private']}</em>
					") : ("" . (($this->memberData['g_is_supmod']) ? ("<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=modcp&amp;fromapp=members&amp;tab=iplookup&amp;ip={$post['post']['ip_address']}", "public",'' ), "", "" ) . "\" title='{$this->lang->words['info_about_this_ip']}'>{$post['post']['ip_address']}</a>") : ("{$post['post']['ip_address']}")) . "")) . ")
					</span>") : ("")) . "
			</h3>
			<div class='author_info'>
				" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userInfoPane' ) ? $this->registry->getClass('output')->getTemplate('global')->userInfoPane($post['author'], $post['post']['pid'], array( 'isTopicView' => true, 'wl_id' => $post['post']['wl_id'] )) : '' ) . "
			</div>
			<div class='post_body'>
				<p class='posted_info desc lighter ipsType_small'>
					{$this->lang->words['posted']} <abbr class=\"published\" itemprop=\"commentTime\" title=\"" . date( 'c', $post['post']['post_date'] ) . "\">" . $this->registry->getClass('class_localization')->getDate($post['post']['post_date'],"long", 0) . "</abbr>
				</p>
				" . (($this->settings['reputation_highlight'] AND $post['post']['rep_points'] >= $this->settings['reputation_highlight']) ? ("
					<p class='rep_highlight'>" . $this->registry->getClass('output')->getReplacement("popular_post") . "<br />{$this->lang->words['popular_post']}</p>
				") : ("")) . "
				<div itemprop=\"commentText\" class='post entry-content " . (($post['post']['_repignored'] == 1) ? ("imgsize_ignore") : ("")) . "'>
					{$post['post']['post']}
					{$post['post']['attachmentHtml']}
					<br />
					" . (($post['post']['edit_by']) ? ("<p class='edit'>
							{$post['post']['edit_by']}
							" . (($post['post']['post_edit_reason'] != '') ? ("
								<br />
								<span class='reason'>{$post['post']['post_edit_reason']}</span>
							") : ("")) . "
						</p>") : ("")) . "
				</div>
				
				" . ((! $topic['_isArchived']) ? ("
				" . ( method_exists( $this->registry->getClass('output')->getTemplate('global_other'), 'repButtons' ) ? $this->registry->getClass('output')->getTemplate('global_other')->repButtons($post['author'], array_merge( array( 'primaryId' => $post['post']['pid'], 'domLikeStripId' => 'like_post_' . $post['post']['pid'], 'domCountId' => 'rep_post_' . $post['post']['pid'], 'app' => 'forums', 'type' => 'pid', 'likeFormatted' => $post['post']['like']['formatted'] ), $post['post'] )) : '' ) . "
				") : ("")) . "
								
				" . (($post['post']['signature']) ? ("
					{$post['post']['signature']}
				") : ("")) . "
				
				" . (($this->memberData['is_mod'] && ! $topic['_isArchived'] && $post['post']['queued']) ? ("<ul id='postControlsUnapproved_{$post['post']['pid']}' class='post_controls clear clearfix'>
						" . (($post['post']['_can_delete'] === TRUE && ! $topic['_isArchived']) ? ("
							<li class='post_del'>
								<a class='ipsButton_secondary' href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "module=moderate&amp;section=moderate&amp;do=postchoice&amp;tact=deletedo&amp;f={$topic['forum_id']}&amp;t={$topic['tid']}&amp;selectedpids[]={$post['post']['pid']}&amp;st={$this->request['st']}&amp;auth_key={$this->member->form_hash}", "publicWithApp",'' ), "", "" ) . "' title='{$this->lang->words['post_delete_title']}' onclick='if( !confirm(\"{$this->lang->words['post_delete_confirm']}\") ){ return false; }' >{$this->lang->words['post_delete']}</a>
							</li>
						") : ("")) . "
						<li class='post_toggle toggle_post' id='toggle_post_{$post['post']['pid']}' style='display: none'>
							<a class='ipsButton_secondary' href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate&amp;do=postchoice&amp;tact=" . ((!$post['post']['queued']) ? ("unapprove") : ("approve")) . "&amp;selectedpids[{$post['post']['pid']}]={$post['post']['pid']}&amp;t={$topic['tid']}&amp;f={$forum['id']}&amp;auth_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' title='{$this->lang->words['post_toggle_visible']}'><span id='toggletext_post_{$post['post']['pid']}'>" . (($post['post']['queued']==1) ? ("{$this->lang->words['post_approve']}") : ("{$this->lang->words['post_unapprove']}")) . "</span></a>
						</li>
						" . (($post['post']['_can_edit'] === TRUE) ? ("
							<li class='post_edit'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "module=post&amp;section=post&amp;do=edit_post&amp;f={$topic['forum_id']}&amp;t={$topic['tid']}&amp;p={$post['post']['pid']}&amp;st={$this->request['st']}", "publicWithApp",'' ), "", "" ) . "' title='{$this->lang->words['post_edit_title']}' class='ipsButton_secondary edit_post' id='edit_post_{$post['post']['pid']}'>{$this->lang->words['post_edit']}</a></li>
						") : ("")) . "
					</ul>") : ("")) . "
			
				<ul id='postControlsNormal_{$post['post']['pid']}' class='post_controls clear clearfix' " . (($this->memberData['is_mod'] && ! $topic['_isArchived'] && $post['post']['queued']) ? ("style='display:none'") : ("")) . ">
					<li class='top hide'><a href='#ipboard_body' class='top' title='{$this->lang->words['back_top']}'>{$this->lang->words['back_top']}</a></li>
					" . ((!$this->memberData['unacknowledged_warnings'] && !$this->memberData['restrict_post']) ? ("" . (($post['post']['_canReply']) ? ("<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "module=post&amp;section=post&amp;do=reply_post&amp;f={$this->request['f']}&amp;t={$this->request['t']}&amp;qpid={$post['post']['pid']}", "publicWithApp",'' ), "", "" ) . "\"  class='_ips_trigger_quote ipsButton_secondary' pid=\"{$post['post']['pid']}\" title=\"{$this->lang->words['tt_reply_to_post']}\">{$this->lang->words['post_reply']}</a></li>
							" . ((!empty( $post['post']['_mq_selected'] )) ? ("
								<li class='selected multiquote' id='multiq_{$post['post']['pid']}' style='display: none'>
							") : ("
								<li class='multiquote' id='multiq_{$post['post']['pid']}' style='display: none'>
							")) . "
								<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "module=post&amp;section=post&amp;do=reply_post&amp;f={$this->request['f']}&amp;t={$this->request['t']}&amp;qpid={$post['post']['pid']}", "publicWithApp",'' ), "", "" ) . "\" title=\"{$this->lang->words['quote_with_mq']}\" class='ipsButton_secondary'>{$this->lang->words['mq']}</a>
							</li>") : ("")) . "") : ("")) . "
					" . (($post['post']['_can_delete'] === TRUE && ! $topic['_isArchived']) ? ("
						<li id='del_post_{$post['post']['pid']}' class='post_del'>
							<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "module=moderate&amp;section=moderate&amp;do=postchoice&amp;tact=deletedo&amp;f={$topic['forum_id']}&amp;t={$topic['tid']}&amp;selectedpids[]={$post['post']['pid']}&amp;st={$this->request['st']}&amp;auth_key={$this->member->form_hash}", "publicWithApp",'' ), "", "" ) . "' title='{$this->lang->words['post_delete_title']}' class='delete_post' onclick='return false;' >{$this->lang->words['post_delete']}</a>
						</li>
					") : ("")) . "
					" . (($post['post']['_softDelete'] && ! $topic['_isArchived']) ? ("
						<li id='hide_post_{$post['post']['pid']}'>
							<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "module=moderate&amp;section=moderate&amp;do=postchoice&amp;tact=delete&amp;f={$topic['forum_id']}&amp;t={$topic['tid']}&amp;selectedpids[]={$post['post']['pid']}&amp;st={$this->request['st']}&amp;auth_key={$this->member->form_hash}", "publicWithApp",'' ), "", "" ) . "' class='hide_post'>{$this->lang->words['post_hide']}</a>
						</li>
					") : ("")) . "
					" . (($post['post']['_can_edit'] === TRUE) ? ("
						<li class='post_edit'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "module=post&amp;section=post&amp;do=edit_post&amp;f={$topic['forum_id']}&amp;t={$topic['tid']}&amp;p={$post['post']['pid']}&amp;st={$this->request['st']}", "publicWithApp",'' ), "", "" ) . "' title='{$this->lang->words['post_edit_title']}' class='edit_post' id='edit_post_{$post['post']['pid']}'>{$this->lang->words['post_edit']}</a></li>
					") : ("")) . "
					" . (($this->settings['blog_allow_bthis'] AND $this->memberData['has_blog'] AND IPSLib::appIsInstalled( 'blog' ) AND $post['post']['_canReply']) ? ("
						<li>
							<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;blog_this=forums&amp;id1={$this->request['t']}&amp;id2={$post['post']['pid']}", "public",'' ), "", "" ) . "'>{$this->lang->words['blog_this']}</a>
						</li>
					") : ("")) . "
					" . (($topic['_canReport'] and ( $this->memberData['member_id'] ) && ! $topic['_isArchived']) ? ("<li class='report'>
							<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=reports&amp;rcom=post&amp;tid={$this->request['t']}&amp;pid={$post['post']['pid']}&amp;st={$this->request['st']}", "public",'' ), "", "" ) . "'>{$this->lang->words['report']}</a>
						</li>
						" . (($this->memberData['_cache']['report_temp']['post_marker']['post'][ $post['post']['pid'] ]['gfx'] > 0) ? ("
							<li class='report'>
								<a href=\"{$this->settings['base_url']}app=core&amp;module=reports&amp;section=reports&amp;do=show_report&amp;rid={$this->memberData['_cache']['report_temp']['post_marker']['post'][$post['post']['pid']]['info']['id']}\" id='post-report-{$post['post']['pid']}' class='ipbmenu'> <span id=\"rstat-{$this->memberData['_cache']['report_temp']['post_marker']['post'][ $post['post']['pid'] ]['info']['id']}\"><img src=\"{$this->settings['img_url']}/reports/post_alert_{$this->memberData['_cache']['report_temp']['post_marker']['post'][$post['post']['pid']]['gfx']}.png\" alt=\"\" /></span> </a>
							</li>
						") : ("")) . "") : ("")) . "
				</ul>
				" . ((! $topic['_isArchived'] AND $this->memberData['_cache']['report_temp']['post_marker']['post'][ $post['post']['pid'] ]['gfx'] > 0) ? ("
					<ul id='post-report-{$post['post']['pid']}_menucontent' class='ipbmenu_content report_menu'>
						<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=reports&amp;do=show_report&amp;rid={$this->memberData['_cache']['report_temp']['post_marker']['post'][ $post['post']['pid'] ]['info']['id']}", "public",'' ), "", "" ) . "\" id='report_mark_{$post['post']['pid']}'><img src='{$this->settings['img_url']}/reports/mark_complete.png' alt='' /> {$this->lang->words['report_menu_mark_complete']}</a></li>
						<li><a href=\"{$this->settings['base_url']}app=core&amp;module=reports&amp;section=reports&amp;do=show_report&amp;rid={$this->memberData['_cache']['report_temp']['post_marker']['post'][$post['post']['pid']]['info']['id']}\"><img src='{$this->settings['img_url']}/reports/view_report.png' alt='' /> {$this->lang->words['report_menu_view_report']}</a></li>
					</ul>
					<script type=\"text/javascript\">
						$('report_mark_{$post['post']['pid']}').observe('click',
						 	ipb.global.updateReportStatus.bindAsEventListener( 	
								this, {$this->memberData['_cache']['report_temp']['post_marker']['post'][$post['post']['pid']]['info']['id']},2,2
							)
						);
					</script>
				") : ("")) . "	
			</div>
		</div>
	</div>") : ("")) . "
		
		" . (($post['post']['_repignored'] == 1 || $post['post']['_ignored']) ? ("
			<script type='text/javascript'>
				ipb.topic.setPostHidden( {$post['post']['pid']} );
				$('unhide_post_{$post['post']['pid']}').show();
			</script>
		") : ("")) . "
		<hr />
		
		" . (($post['post']['_adCode']) ? ("
			{$post['post']['_adCode']}
		") : ("")) . "
<script type=\"text/javascript\">
var pid = parseInt({$post['post']['pid']});
if ( pid > ipb.topic.topPid ){
	ipb.topic.topPid = pid;
}
" . ((! $post['post']['_isDeleted']) ? ("
	// Show multiquote for JS browsers
	if ( $('multiq_{$post['post']['pid']}') )
	{
		$('multiq_{$post['post']['pid']}').show();
	}
	
	if( $('toggle_post_{$post['post']['pid']}') )
	{
		$('toggle_post_{$post['post']['pid']}').show();
	}
	
	// Add perm data
	ipb.topic.deletePerms[{$post['post']['pid']}] = { 'canDelete' : " . intval($post['post']['_can_delete']) . ", 'canSoftDelete' : " . intval($post['post']['_softDelete']) . " };
") : ("")) . "
</script>";
return $IPBHTML;
}

/* -- quickEditPost --*/
function quickEditPost($post) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_topic', $this->_funcHooks['quickEditPost'] ) )
{
$count_117afeafbd9ce45feffed2043bc74b2b = is_array($this->functionData['quickEditPost']) ? count($this->functionData['quickEditPost']) : 0;
$this->functionData['quickEditPost'][$count_117afeafbd9ce45feffed2043bc74b2b]['post'] = $post;
}
$IPBHTML .= "{$post['post']}
    {$post['attachmentHtml']}
	<br />
	" . (($post['edit_by']) ? ("<p class='edit'>
			{$post['edit_by']}
			" . (($post['post_edit_reason'] != '') ? ("
				<br />
				<span class='reason'>{$this->lang->words['reason_for_edit']} {$post['post_edit_reason']}</span>
			") : ("")) . "
		</p>") : ("")) . "";
return $IPBHTML;
}

/* -- show_attachment_title --*/
function show_attachment_title($title="",$data="",$type="") {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_topic', $this->_funcHooks['show_attachment_title'] ) )
{
$count_c975834b6828344a8a1a6679cd1443b4 = is_array($this->functionData['show_attachment_title']) ? count($this->functionData['show_attachment_title']) : 0;
$this->functionData['show_attachment_title'][$count_c975834b6828344a8a1a6679cd1443b4]['title'] = $title;
$this->functionData['show_attachment_title'][$count_c975834b6828344a8a1a6679cd1443b4]['data'] = $data;
$this->functionData['show_attachment_title'][$count_c975834b6828344a8a1a6679cd1443b4]['type'] = $type;
}
$IPBHTML .= "<div id='attach_wrap' class='clearfix'>
	<h4>{$title}</h4>
	<ul>
		".$this->__f__63648b9be22d52baadb3aa18add1d480($title,$data,$type)."	</ul>
</div>";
return $IPBHTML;
}


function __f__63648b9be22d52baadb3aa18add1d480($title="",$data="",$type="")
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $data as $file )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			<li class='" . (($type == 'attach') ? ("attachment") : ("")) . "'>
				{$file}
			</li>
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- Show_attachments --*/
function Show_attachments($data="") {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_topic', $this->_funcHooks['Show_attachments'] ) )
{
$count_c103c077dec03f876e103079b5f268b9 = is_array($this->functionData['Show_attachments']) ? count($this->functionData['Show_attachments']) : 0;
$this->functionData['Show_attachments'][$count_c103c077dec03f876e103079b5f268b9]['data'] = $data;
}
$IPBHTML .= "<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=attach&amp;section=attach&amp;attach_id={$data['attach_id']}", "public",'' ), "", "" ) . "\" title=\"{$this->lang->words['attach_dl']}\"><img src=\"{$this->settings['public_dir']}" . (($data['mime_image']) ? ("{$data['mime_image']}") : ("style_extra/mime_types/unknown.gif")) . "\" alt=\"{$this->lang->words['attached_file']}\" /></a>
&nbsp;<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=attach&amp;section=attach&amp;attach_id={$data['attach_id']}", "public",'' ), "", "" ) . "\" title=\"{$this->lang->words['attach_dl']}\"><strong>{$data['attach_file']}</strong></a> &nbsp;&nbsp;<span class='desc'><strong>{$data['file_size']}</strong></span>
&nbsp;&nbsp;<span class=\"desc lighter\">{$data['attach_hits']} {$this->lang->words['attach_hits']}</span>";
return $IPBHTML;
}

/* -- Show_attachments_img --*/
function Show_attachments_img($data=array()) {
$IPBHTML = "";
$IPBHTML .= "<a class='resized_img' rel='lightbox[{$data['attach_rel_id']}]' id='ipb-attach-url-{$data['_attach_id']}' href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=attach&amp;section=attach&amp;attach_rel_module={$data['type']}&amp;attach_id={$data['attach_id']}", "public",'' ), "", "" ) . "\" title=\"{$data['location']} - {$this->lang->words['attach_size']} {$data['file_size']}, {$this->lang->words['attach_ahits']} {$data['attach_hits']}\"><img itemprop=\"image\" src=\"{$this->settings['upload_url']}/{$data['o_location']}\" class='bbc_img linked-image' alt=\"{$data['location']}\" /></a>
" . $this->registry->output->addMetaTag( 'og:image', "{$this->settings['upload_url']}/{$data['o_location']}", false ) . "";
return $IPBHTML;
}

/* -- Show_attachments_img_thumb --*/
function Show_attachments_img_thumb($data=array()) {
$IPBHTML = "";
$IPBHTML .= "<a class='resized_img' rel='lightbox[{$data['attach_rel_id']}]' id='ipb-attach-url-{$data['_attach_id']}' href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=attach&amp;section=attach&amp;attach_rel_module={$data['type']}&amp;attach_id={$data['attach_id']}", "public",'' ), "", "" ) . "\" title=\"{$data['location']} - {$this->lang->words['attach_size']} {$data['file_size']}, {$this->lang->words['attach_ahits']} {$data['attach_hits']}\"><img itemprop=\"image\" src=\"{$this->settings['upload_url']}/{$data['t_location']}\" id='ipb-attach-img-{$data['_attach_id']}' style='width:{$data['t_width']};height:{$data['t_height']}' class='attach' width=\"{$data['t_width']}\" height=\"{$data['t_height']}\" alt=\"{$data['location']}\" /></a>
" . $this->registry->output->addMetaTag( 'og:image', "{$this->settings['upload_url']}/{$data['t_location']}", false ) . "";
return $IPBHTML;
}

/* -- softDeletedPostBit --*/
function softDeletedPostBit($post, $sdData, $topic) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_topic', $this->_funcHooks['softDeletedPostBit'] ) )
{
$count_bbead703c5a26cb8bd33612bec17d1ea = is_array($this->functionData['softDeletedPostBit']) ? count($this->functionData['softDeletedPostBit']) : 0;
$this->functionData['softDeletedPostBit'][$count_bbead703c5a26cb8bd33612bec17d1ea]['post'] = $post;
$this->functionData['softDeletedPostBit'][$count_bbead703c5a26cb8bd33612bec17d1ea]['sdData'] = $sdData;
$this->functionData['softDeletedPostBit'][$count_bbead703c5a26cb8bd33612bec17d1ea]['topic'] = $topic;
}

$_sD = $sdData[ $post['post']['pid'] ];
	$_sM = $_sD;
$IPBHTML .= "<div class='post_block hentry clear moderated' id='post_id_{$post['post']['pid']}'>
	<a id='entry{$post['post']['pid']}'></a>
	<div class='post_wrap'>
		" . (($post['author']['member_id']) ? ("
			<h3 class='row2'>
		") : ("
			<h3 class='row2 guest'>
		")) . "
			" . (($this->memberData['is_mod'] OR $this->memberData['g_is_supmod']) ? ("<span class='post_id right'>
					<label for='checkbox_{$post['post']['pid']}' class='post_mod hide'>{$this->lang->words['mod_select_post']}</label><input type='checkbox' id='checkbox_{$post['post']['pid']}' name='selectedpids[]' value='{$post['post']['pid']}' class='post_mod'" . ((!empty( $post['post']['_pid_selected'] )) ? (" checked='checked'") : ("")) . " data-status='{$post['post']['queued']}' />
				</span>") : ("")) . "
				" . (($post['author']['member_id']) ? ("
						<span class=\"author vcard\">" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($post['author']) : '' ) . "</span>
				") : ("
					" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($post['author']) : '' ) . "
				")) . "
				" . (($post['post']['_show_ip']) ? ("<span class='ip right ipsType_small'>({$this->lang->words['ip']}:
					" . (($post['author']['g_access_cp']) ? ("
						<em>{$this->lang->words['ip_private']}</em>
					") : ("
						<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=modcp&amp;tab=iplookup&amp;fromapp=forums&amp;_do=submit&amp;ip={$post['post']['ip_address']}", "public",'' ), "", "" ) . "\" title='{$this->lang->words['info_about_this_ip']}'>{$post['post']['ip_address']}</a>
					")) . "
					)</span>") : ("")) . "
			</h3>
		<div class='post_body' id='postsDelete_{$post['post']['pid']}' style='margin-left: 0;'>
			<div class='post entry-content' style='padding:10px'>
				{$this->lang->words['post_deleted_by']} " . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($_sD) : '' ) . " " . $this->registry->getClass('class_localization')->getDate($_sD['sdl_obj_date'],"long", 0) . ".
				" . (($post['post']['_softDeleteReason']) ? ("<p class='desc'>" . (($_sD['sdl_obj_reason']) ? ("{$_sD['sdl_obj_reason']}") : ("{$this->lang->words['no_reason_given']}")) . "</p>") : ("")) . "
			</div>
		</div>
		" . (($post['post']['_softDeleteContent']) ? ("<div id='postsDeleteShow_{$post['post']['pid']}' style='display:none'>
			<div class='author_info'>
				" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userInfoPane' ) ? $this->registry->getClass('output')->getTemplate('global')->userInfoPane($post['author'], $post['post']['pid'], array()) : '' ) . "
			</div>
			<div class='post_body'>
				<p class='posted_info'>
					{$this->lang->words['posted']} <abbr class=\"published\" title=\"" . @date( 'c', $post['post']['post_date'] ) . "\">" . $this->registry->getClass('class_localization')->getDate($post['post']['post_date'],"long", 0) . "</abbr>
				</p>
				<div class='post entry-content'>
					{$post['post']['post']}
					{$post['post']['attachmentHtml']}
					<br />
					" . (($post['post']['edit_by']) ? ("<p class='edit'>
							{$post['post']['edit_by']}
							" . (($post['post']['post_edit_reason'] != '') ? ("
								<br />
								<span class='reason'>{$this->lang->words['reason_for_edit']} {$post['post']['post_edit_reason']}</span>
							") : ("")) . "
						</p>") : ("")) . "
				</div>
				" . (($post['post']['signature']) ? ("
					{$post['post']['signature']}
				") : ("")) . "
			</div>
		</div>") : ("")) . "
		" . (($post['post']['_softDeleteContent'] OR $post['post']['_softDeleteRestore']) ? ("<ul class='post_controls clear clearfix'>
				" . (($post['post']['_can_delete']) ? ("
					<li>
						<a class='ipsButton_secondary' href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "module=moderate&amp;section=moderate&amp;do=04&amp;f={$topic['forum_id']}&amp;t={$topic['tid']}&amp;p={$post['post']['pid']}&amp;pid={$post['post']['pid']}&amp;st={$this->request['st']}&amp;auth_key={$this->member->form_hash}&amp;nr=1", "publicWithApp",'' ), "", "" ) . "' title='{$this->lang->words['post_delete_title']}' class='sd_remove' onclick='if( !confirm(\"{$this->lang->words['post_delete_confirm']}\") ){ return false; }'>{$this->lang->words['post_delete']}</a>
					</li>
				") : ("")) . "" . (($post['post']['_softDeleteRestore']) ? ("
					<li class='post_toggle sd_restore' id='restoreContent_{$post['post']['pid']}'>
						<a class='ipsButton_secondary' href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate&amp;do=postchoice&amp;tact=sundelete&amp;selectedpids[{$post['post']['pid']}]={$post['post']['pid']}&amp;pid={$post['post']['pid']}&amp;t={$topic['tid']}&amp;f={$topic['forum_id']}&amp;auth_key={$this->member->form_hash}&amp;nr=1", "public",'' ), "", "" ) . "'><span>{$this->lang->words['sdpost_restore']}</span></a>
					</li>
				") : ("")) . "" . (($post['post']['_softDeleteContent']) ? ("
					<li class='post_toggle sd_content' id='seeContent_{$post['post']['pid']}'>
						<a href='#'><span>{$this->lang->words['togglepostcontent']}</span></a>
					</li>
				") : ("")) . "
			</ul>") : ("")) . "
	</div>
</div>";
return $IPBHTML;
}

/* -- topicPreview --*/
function topicPreview($topic, $posts) {
$IPBHTML = "";
$IPBHTML .= "".$this->__f__65c077742e6f6f302d9acc36682b35ef($topic,$posts)."<br class='clear' />
<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "' class='ipsButton'>{$this->lang->words['tg_gototopic']}</a>
" . ((! $topic['_lastRead'] OR $topic['_unreadPosts']) ? ("&nbsp;&nbsp;<span class='desc'>
		" . (($topic['_unreadPosts']) ? ("
			{$topic['_unreadPosts']} {$this->lang->words['newpoststp']}
			&middot; <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}&amp;view=getnewpost", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "'>{$this->lang->words['tg_go_last_post']}</a>
		") : ("")) . "
		<a data-clicklaunch=\"topicMarkRead\" data-tid=\"{$topic['tid']}\" href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}&amp;view=getnewpost", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "\">" . (($topic['_unreadPosts']) ? ("&middot; ") : ("")) . "{$this->lang->words['mark_topic_read']}</a>
	</span>") : ("")) . "";
return $IPBHTML;
}


function __f__65c077742e6f6f302d9acc36682b35ef($topic, $posts)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $posts as $t => $post )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
	" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userSmallPhoto' ) ? $this->registry->getClass('output')->getTemplate('global')->userSmallPhoto(array_merge( $post, array( 'pp_small_photo' => $post['pp_thumb_photo'], '_customClass' => 'ipsUserPhoto_medium' ) )) : '' ) . "
	<div class='preview_col'>
		<p class='preview_info'>
			<strong>" . (($post['members_display_name']) ? ("" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($post) : '' ) . "") : ("{$this->settings['guest_name_pre']}{$post['author_name']}{$this->settings['guest_name_suf']}")) . "</strong> " . (($t != 'search') ? ("{$this->lang->words['tg_madethe']} <a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}&amp;findpost={$post['pid']}", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "\">{$this->lang->words['tg_'.$t]}</a>") : ("{$this->lang->words['tg_'.$t]}")) . "
		</p>
		{$post['post']}
	</div>
	<br class='clear' />

";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- topicViewTemplate --*/
function topicViewTemplate($forum, $topic, $post_data, $displayData) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_topic', $this->_funcHooks['topicViewTemplate'] ) )
{
$count_02b1615bf973567aadfe8ed666164b30 = is_array($this->functionData['topicViewTemplate']) ? count($this->functionData['topicViewTemplate']) : 0;
$this->functionData['topicViewTemplate'][$count_02b1615bf973567aadfe8ed666164b30]['forum'] = $forum;
$this->functionData['topicViewTemplate'][$count_02b1615bf973567aadfe8ed666164b30]['topic'] = $topic;
$this->functionData['topicViewTemplate'][$count_02b1615bf973567aadfe8ed666164b30]['post_data'] = $post_data;
$this->functionData['topicViewTemplate'][$count_02b1615bf973567aadfe8ed666164b30]['displayData'] = $displayData;
}

$pluginEditorHook = IPSLib::loadLibrary( IPS_ROOT_PATH . 'sources/classes/editor/composite.php', 'classes_editor_composite' );
	$editor = new $pluginEditorHook();
$IPBHTML .= "" . (($forum['forum_allow_rating']) ? ("
" . $this->registry->getClass('output')->addJSModule("rating", "0" ) . "
") : ("")) . "
" . $this->registry->getClass('output')->addJSModule("topic", "0" ) . "
<script type=\"text/javascript\">
//<![CDATA[
	ipb.topic.inSection = 'topicview';
	ipb.topic.topic_id  = {$topic['tid']};
	ipb.topic.forum_id  = {$forum['id']};
	ipb.topic.start_id  = " . intval($this->request['st']) . ";
	ipb.topic.topPid    = 0;
	ipb.topic.counts    = { postTotal: " . intval($topic['posts']+1) . ",
							curStart:  ipb.topic.start_id,
							perPage:   " . intval($this->settings['display_max_posts']) . " };
	//Search Setup
	ipb.vars['search_type']			= 'forum';
	ipb.vars['search_type_id']		= {$forum['id']};
	ipb.vars['search_type_2']		= 'topic';
	ipb.vars['search_type_id_2']	= {$topic['tid']};
	
	" . ((!$this->member->is_not_human) ? ("
	// Delete stuff set up
	ipb.topic.deleteUrls['hardDelete'] = new Template( ipb.vars['base_url'] + \"app=forums&module=moderate&section=moderate&do=04&f={$forum['id']}&t={$topic['tid']}&st={$this->request['st']}&auth_key={$this->member->form_hash}&p=#{pid}\" );
	ipb.topic.deleteUrls['softDelete'] = new Template( ipb.vars['base_url'] + \"app=forums&module=moderate&section=moderate&do=postchoice&tact=sdelete&t={$topic['tid']}&f={$forum['id']}&auth_key={$this->member->form_hash}&selectedpids[#{pid}]=#{pid}&pid=#{pid}\" );
	") : ("")) . "
	
	ipb.templates['post_moderation'] = new Template(\"<div id='comment_moderate_box' class='ipsFloatingAction' style='display: none'><span class='desc'>{$this->lang->words['comment_action_count']} </span><select id='tactInPopup' class='input_select'><option value='approve'>{$this->lang->words['cpt_approve']}</option><option value='delete'>{$this->lang->words['cpt_hide']}</option><option value='sundelete'>{$this->lang->words['cpt_undelete']}</option><option value='deletedo'>{$this->lang->words['cpt_delete']}</option><option value='merge'>{$this->lang->words['cpt_merge']}</option><option value='split'>{$this->lang->words['cpt_split']}</option><option value='move'>{$this->lang->words['cpt_move']}</option></select>&nbsp;&nbsp;<input type='button' class='input_submit' id='submitModAction' value='{$this->lang->words['comments_act_go']}' /></div>\");
	
//]]>
</script>
" . ((!$this->settings['disable_lightbox']) ? ("
" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'include_lightbox' ) ? $this->registry->getClass('output')->getTemplate('global')->include_lightbox() : '' ) . "
") : ("")) . "
{$displayData['follow_data']}
" . ((!empty($topic['_starter']['member_id']) && $this->memberData['g_mem_info']) ? ("
<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$topic['_starter']['member_id']}", "public",'' ), "{$topic['_starter']['members_seo_name']}", "showuser" ) . "' class='ipsUserPhotoLink'>
") : ("")) . "
	<img src='{$topic['_starter']['pp_small_photo']}' class='ipsUserPhoto ipsUserPhoto_medium left' />
" . ((!empty($topic['_starter']['member_id']) && $this->memberData['g_mem_info']) ? ("
</a>
") : ("")) . "
<div itemscope itemtype=\"http://schema.org/Article\" class='ipsBox_withphoto'>
	" . (($forum['forum_allow_rating']) ? ("<span itemprop=\"aggregateRating\" itemscope itemtype=\"http://schema.org/AggregateRating\" class='rating ipsType_smaller'>
			" . (($topic['_allow_rate']) ? ("
				<strong>{$this->lang->words['js_rate_me']}</strong>&nbsp;&nbsp;
			") : ("")) . "" . (($topic['_allow_rate']) ? ("
				<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=extras&amp;section=rating&amp;t={$topic['tid']}&amp;rating=1&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' id='topic_rate_1' title='{$this->lang->words['top_js_1star']}'>
			") : ("")) . "
			" . (($topic['_rate_int'] >= 1) ? ("
				" . $this->registry->getClass('output')->getReplacement("rate_on") . "
			") : ("
				" . $this->registry->getClass('output')->getReplacement("rate_off") . "
			")) . "
			" . (($topic['_allow_rate']) ? ("
				</a><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=extras&amp;section=rating&amp;t={$topic['tid']}&amp;rating=2&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' id='topic_rate_2' title='{$this->lang->words['top_js_2star']}'>
			") : ("")) . "
			" . (($topic['_rate_int'] >= 2) ? ("
				" . $this->registry->getClass('output')->getReplacement("rate_on") . "
			") : ("
				" . $this->registry->getClass('output')->getReplacement("rate_off") . "
			")) . "
			" . (($topic['_allow_rate']) ? ("
				</a><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=extras&amp;section=rating&amp;t={$topic['tid']}&amp;rating=3&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' id='topic_rate_3' title='{$this->lang->words['top_js_3star']}'>
			") : ("")) . "
			" . (($topic['_rate_int'] >= 3) ? ("
				" . $this->registry->getClass('output')->getReplacement("rate_on") . "
			") : ("
				" . $this->registry->getClass('output')->getReplacement("rate_off") . "
			")) . "
			" . (($topic['_allow_rate']) ? ("
				</a><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=extras&amp;section=rating&amp;t={$topic['tid']}&amp;rating=4&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' id='topic_rate_4' title='{$this->lang->words['top_js_4star']}'>
			") : ("")) . "
			" . (($topic['_rate_int'] >= 4) ? ("
				" . $this->registry->getClass('output')->getReplacement("rate_on") . "
			") : ("
				" . $this->registry->getClass('output')->getReplacement("rate_off") . "
			")) . "
			" . (($topic['_allow_rate']) ? ("
				</a><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=extras&amp;section=rating&amp;t={$topic['tid']}&amp;rating=5&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' id='topic_rate_5' title='{$this->lang->words['top_js_5star']}'>
			") : ("")) . "
			" . (($topic['_rate_int'] >= 5) ? ("
				" . $this->registry->getClass('output')->getReplacement("rate_on") . "
			") : ("
				" . $this->registry->getClass('output')->getReplacement("rate_off") . "
			")) . "
			" . (($topic['_allow_rate']) ? ("
				</a>
			") : ("")) . "
			<span id='rating_text'>
				" . (($topic['topic_rating_hits'] > 0) ? ("
					<span itemprop=\"ratingCount\" id='rating_hits'>{$topic['topic_rating_hits']}</span> <span>{$this->lang->words['poll_s_votes']}</span>
					<meta itemprop=\"ratingValue\" content=\"" . floor($topic['_rate_int']) . "\" />
				") : ("")) . "
			</span>
			" . (($topic['_allow_rate']) ? ("<script type='text/javascript'>
				//<![CDATA[
					rating = new ipb.rating( 'topic_rate_', { 
										url: ipb.vars['base_url'] + 'app=forums&module=ajax&section=topics&do=rateTopic&t={$topic['tid']}&md5check=' + ipb.vars['secure_hash'],
										cur_rating: {$topic['_rate_int']},
										rated: " . (($topic['_rating_value'] != -1) ? ("1") : ("0")) . ",
										allow_rate: {$topic['_allow_rate']},
										multi_rate: 1,
										show_rate_text: true
									  } );
				//]]>
				</script>") : ("")) . "
		</span>") : ("")) . "
	<h1 itemprop=\"name\" class='ipsType_pagetitle'>{$topic['title']}</h1>
	<div class='desc lighter blend_links'>
		 {$this->lang->words['started_by']} <span itemprop=\"creator\">" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($topic['_starter']) : '' ) . "</span>, <span itemprop=\"dateCreated\">" . $this->registry->getClass('class_localization')->getDate($topic['start_date'],"SHORT", 0) . "</span>
	</div>
	" . ((is_array($topic['tags'])) ? ("
		{$topic['tags']['formatted']['parsedWithoutComma']}
		<br />
	") : ("")) . "
	<meta itemprop=\"interactionCount\" content=\"UserComments:" . intval($topic['posts'] + 1) . "\" />
</div>
" . (($topic['approved'] == -1) ? ("<br />
	<div class='message error'>
		" . sprintf( $this->lang->words['tdb__forumindex'], $this->registry->output->getTemplate('global')->userHoverCard($topic['sdData']) ) . " " . $this->registry->getClass('class_localization')->getDate($topic['sdData']['sdl_obj_date'],"long", 0) . "
		" . (($this->registry->getClass('class_forums')->canSeeSoftDeleteReason( $forum['id'] )) ? ("<br /><span>" . (($topic['sdData']['sdl_obj_reason']) ? ("{$topic['sdData']['sdl_obj_reason']}") : ("{$this->lang->words['tdb__noreasongi']}")) . "</span>") : ("")) . "
		<br /><br />
		" . (($this->memberData['g_is_supmod'] == 1 || $this->memberData['forumsModeratorData'][ $forum['id'] ]['bw_mod_un_soft_delete_topic']) ? ("
			<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate&amp;f={$forum['id']}&amp;t={$topic['tid']}&amp;st={$this->request['st']}&amp;auth_key={$this->member->form_hash}&amp;do=sundelete", "public",'' ), "", "" ) . "' title='{$this->lang->words['dl_ths_restore']}' class='ipsButton_secondary'>{$this->lang->words['dl_ths_restore']}</a>
		") : ("")) . "
		" . (($this->memberData['g_is_supmod'] == 1 || $this->memberData['forumsModeratorData'][ $forum['id'] ]['delete_topic']) ? ("
			<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate&amp;f={$forum['id']}&amp;st={$this->request['st']}&amp;t={$topic['tid']}&amp;auth_key={$this->member->form_hash}&amp;do=08", "public",'' ), "", "" ) . "' title='{$this->lang->words['dl_ths_delete']}' class='ipsButton_secondary important'>{$this->lang->words['dl_ths_delete']}</a>
		") : ("")) . "
	</div>") : ("")) . "
" . (($topic['approved'] == 2) ? ("
	<br />
	<div class='message error'>
		{$this->lang->words['topic_deleted']}
		<br /><br />
		<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate&amp;do=topic_restore&amp;t={$topic['tid']}&amp;f={$forum['id']}&amp;auth_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' title='{$this->lang->words['dl_ths_restore']}' class='ipsButton_secondary'>{$this->lang->words['restore_post']}</a>
		<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate&amp;do=09&amp;t={$topic['tid']}&amp;f={$forum['id']}&amp;auth_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' title='{$this->lang->words['dl_ths_delete']}' class='ipsButton_secondary'>{$this->lang->words['perm_delete_post']}</a>
	</div>
") : ("")) . "
<br />
<div class='topic_controls'>
	{$topic['SHOW_PAGES']}
	" . (($topic['_isArchived']) ? ("
		" . ( method_exists( $this->registry->getClass('output')->getTemplate('topic'), 'archiveStatusMessage' ) ? $this->registry->getClass('output')->getTemplate('topic')->archiveStatusMessage($topic,$forum) : '' ) . "
	") : ("<ul class='topic_buttons'>
			" . (($displayData['reply_button']['image'] == 'locked') ? ("<li class='important'>
					" . ((isset($displayData['poll_data']['poll']['poll_only']) && $displayData['poll_data']['poll']['poll_only']) ? ("" . (($displayData['reply_button']['url']) ? ("
							<a href='{$displayData['reply_button']['url']}' accesskey='r'>" . $this->registry->getClass('output')->getReplacement("lock_icon") . " {$this->lang->words['top_poll_only_reply']}</a>
						") : ("
							<span>" . $this->registry->getClass('output')->getReplacement("lock_icon") . " {$this->lang->words['top_poll_only']}</span>
						")) . "") : ("" . (($displayData['reply_button']['url']) ? ("
							<a href='{$displayData['reply_button']['url']}' accesskey='r'>" . $this->registry->getClass('output')->getReplacement("lock_icon") . " {$this->lang->words['top_locked_reply']}</a>
						") : ("
							<span>" . $this->registry->getClass('output')->getReplacement("lock_icon") . " {$this->lang->words['top_locked']}</span>
						")) . "")) . "
				</li>") : ("" . (($displayData['reply_button']['image']) ? ("" . (($displayData['reply_button']['url']) ? ("
						<li><a href='{$displayData['reply_button']['url']}' title='{$this->lang->words['topic_add_reply']}' accesskey='r'>{$this->lang->words['topic_add_reply']}</a></li>
					") : ("<li class='disabled'><span>" . ((! $this->memberData['member_id']) ? ("{$this->lang->words['topic_no_reply_guest']}") : ("{$this->lang->words['top_cannot_reply']}")) . "</span></li>")) . "") : ("")) . "")) . "
			" . (($topic['hasUnreadPosts'] AND ( $topic['posts'] + 1 ) > $this->settings['display_max_posts']) ? ("
				<li class='non_button'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}&amp;view=getnewpost", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['first_unread_post']}'>{$this->lang->words['go_to_first_unread']}</a></li>
			") : ("")) . "
			" . (($displayData['mod_links'] AND ( $this->memberData['is_mod'] OR $this->memberData['member_id'] == $topic['starter_id'] )) ? ("
				<li class='non_button'><a href='#' id='topic_mod_options' title='{$this->lang->words['topic_moderation']}'>{$this->lang->words['topic_moderation']}</a></li>
			") : ("")) . "
		</ul>")) . "
</div>
" . (($displayData['mod_links'] AND ( $this->memberData['is_mod'] OR $this->memberData['member_id'] == $topic['starter_id'] )) ? ("<ul class='ipbmenu_content' id='topic_mod_options_menucontent'  style='display:none'>
	".$this->__f__1d5bc4ffbaa6bfccdea79a59816ac3f6($forum,$topic,$post_data,$displayData)."	" . (($topic['topic_queuedposts'] AND $this->registry->class_forums->canQueuePosts( $forum['id'] )) ? ("
		<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate&amp;t={$topic['tid']}&amp;f={$topic['forum_id']}&amp;st={$this->request['st']}&amp;auth_key={$this->member->form_hash}&amp;_fromTopic=1&amp;do=p_approve", "public",'' ), "", "" ) . "\">" . sprintf( $this->lang->words['nmo_p_approve'], $topic['topic_queuedposts']) . "</a></li>
	") : ("")) . "" . (($topic['topic_queuedposts'] AND $this->registry->class_forums->canHardDeletePosts( $forum['id'], $topic )) ? ("
		<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate&amp;t={$topic['tid']}&amp;f={$topic['forum_id']}&amp;st={$this->request['st']}&amp;auth_key={$this->member->form_hash}&amp;_fromTopic=1&amp;do=p_delete_approve", "public",'' ), "", "" ) . "\">" . sprintf( $this->lang->words['nmo_p_delete_approve'], $topic['topic_queuedposts']) . "</a></li>
	") : ("")) . "" . (($this->registry->class_forums->can_Un_SoftDeletePosts( $forum['id'] ) AND $topic['topic_deleted_posts']) ? ("
		<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate&amp;t={$topic['tid']}&amp;f={$topic['forum_id']}&amp;st={$this->request['st']}&amp;auth_key={$this->member->form_hash}&amp;_fromTopic=1&amp;do=p_restore", "public",'' ), "", "" ) . "\">" . sprintf( $this->lang->words['nmo_p_restore'], $topic['topic_deleted_posts']) . "</a></li>
	") : ("")) . "" . (($topic['topic_deleted_posts'] AND $this->registry->class_forums->canHardDeletePosts( $forum['id'], $topic )) ? ("
		<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate&amp;t={$topic['tid']}&amp;f={$topic['forum_id']}&amp;st={$this->request['st']}&amp;auth_key={$this->member->form_hash}&amp;_fromTopic=1&amp;do=p_delete_softed", "public",'' ), "", "" ) . "\">" . sprintf( $this->lang->words['nmo_p_delete_softed'], $topic['topic_deleted_posts']) . "</a></li>	
	") : ("")) . "
	" . ((is_array( $displayData['multi_mod'] ) AND count( $displayData['multi_mod'] )) ? ("
		".$this->__f__afa1e3368da91633f2f0aadb65985c69($forum,$topic,$post_data,$displayData)."	") : ("")) . "
</ul>
<script type='text/javascript'>
	document.observe(\"dom:loaded\", function()
	{
		new ipb.Menu( $('topic_mod_options'), $('topic_mod_options_menucontent') );
	} );
</script>") : ("")) . "
<div class='maintitle clear clearfix'>
	<span class='ipsType_small'>
		" . (($topic['posts']) ? ("" . sprintf( ( $topic['posts'] > 1 ) ? $this->lang->words['x_replies_to_topic'] : $this->lang->words['x_reply_to_topic'], $topic['posts'] ) . "") : ("
			{$this->lang->words['no_replies_to_topic']}
		")) . "
	</span>
	" . (($this->settings['reputation_enabled'] && $this->settings['reputation_point_types'] != 'like' && $this->settings['reputation_show_content'] && $this->memberData['member_id'] != 0 && is_array($this->caches['reputation_levels'])) ? ("<a href='#rep_filter_menucontent' id='rep_filter' class='right ipsType_smaller'>
			" . (($this->memberData['_members_cache']['rep_filter'] && $this->memberData['_members_cache']['rep_filter'] === '*') ? ("
				{$this->lang->words['rep_f_viewing_all']}
			") : ("
				" . sprintf( $this->lang->words['rep_f_hiding'], $this->memberData['_members_cache']['rep_filter'] ) . "
			")) . "
			<img src='{$this->settings['img_url']}/useropts_arrow.png' />
		</a>") : ("")) . "	
</div>
" . (($this->settings['reputation_enabled'] && $this->settings['reputation_point_types'] != 'like' && $this->settings['reputation_show_content'] && $this->memberData['member_id'] != 0 && is_array($this->caches['reputation_levels'])) ? ("<ul id='rep_filter_menucontent' class='ipbmenu_content with_checks' style='display: none'>
		<li " . ((isset( $this->memberData['_members_cache']['rep_filter'] ) AND $this->memberData['_members_cache']['rep_filter'] === '*') ? ("class='selected'") : ("")) . ">
			<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=forums&amp;section=topics&amp;rep_filter=update&amp;f={$topic['forum_id']}&amp;t={$topic['tid']}&amp;secure_key={$this->member->form_hash}&amp;st={$this->request['st']}&amp;rep_filter_set=*", "public",'' ), "", "" ) . "'>{$this->lang->words['rep_f_all_posts']}</a>
		</li>
		" . ((is_array($this->caches['reputation_levels'])) ? ("
			".$this->__f__26ab53ace1e29fbf1026ea00e3f3f410($forum,$topic,$post_data,$displayData)."		") : ("")) . "
	</ul>
	<script type='text/javascript'>
		new ipb.Menu( $('rep_filter'), $('rep_filter_menucontent') );
	</script>") : ("")) . "
<div class='topic hfeed clear clearfix'>
	
	{$displayData['poll_data']['html']}
" . ((is_array( $post_data ) AND count( $post_data )) ? ("
	<div class='ipsBox'>
		<div class='ipsBox_container' id='ips_Posts'>
			".$this->__f__84fb80289f79ed6fcbe6a9a6b7fc3f38($forum,$topic,$post_data,$displayData)."		</div>
	</div>
") : ("")) . "
<hr />
<div class='topic_controls clear ipsPad_top_bottom_half'>
	" . (($topic['SHOW_PAGES']) ? ("
		<div class='left'>{$topic['SHOW_PAGES']}</div>
	") : ("")) . "
	<div class='ipsPad_top_slimmer right'>
		" . (($displayData['mod_links'] AND ( $this->memberData['is_mod'] OR $this->memberData['member_id'] == $topic['starter_id'] )) ? ("
			<a href='#' id='topic_mod_options_alt'  class=\"ipsType_small desc\" title='{$this->lang->words['topic_moderation']}'>{$this->lang->words['topic_moderation']}</a> &middot;
		") : ("")) . "
		<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showforum={$forum['id']}", "public",'' ), "{$forum['name_seo']}", "showforum" ) . "' class=\"ipsType_small desc\">" . sprintf( $this->lang->words['go_back_to'], $forum['name'] ) . "</a>
		" . (($forum['_hasUnreadTopics']) ? ("
			&middot; <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}&amp;view=getnextunread", "public",'' ), "{$topic['title_seo']}", "showtopicnextunread" ) . "' class=\"ipsType_small desc\">{$this->lang->words['goto_next_unread_topic']}</a>
		") : ("")) . "
	</div>	
</div>
" . (($displayData['fast_reply'] && $displayData['reply_button']['url']) ? ("<hr />
<div class='ipsBox' id='fast_reply_wrapper'>
	<div class='ipsBox_container ipsPad'>
		<h1 class='ipsType_subtitle'>{$this->lang->words['topic_add_reply']}</h1>
		" . (($topic['state'] == 'closed') ? ("<span class='error'>{$this->lang->words['locked_reply_fr']}</span><br />") : ("")) . "
		<br />
		" . (($this->memberData['member_id']) ? ("
			<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$this->memberData['member_id']}", "public",'' ), "{$this->memberData['members_seo_name']}", "showuser" ) . "\" title='{$this->lang->words['your_profile']}' class='ipsUserPhotoLink left'><img src='{$this->memberData['pp_small_photo']}' alt=\"" . sprintf($this->lang->words['users_photo'],$this->memberData['members_display_name']) . "\" class='ipsUserPhoto ipsUserPhoto_medium' /></a>
		") : ("
			<div class='left'>" . IPSMember::buildNoPhoto(0, 'small' ) . "</div>
		")) . "
		<div class='ipsBox_withphoto clearfix'>
			<form action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "", "public",'' ), "", "" ) . "\" method=\"post\" id='ips_fastReplyForm'>
				<input type=\"hidden\" name=\"app\" value=\"forums\" />
				<input type=\"hidden\" name=\"module\" value=\"post\" />
				<input type=\"hidden\" name=\"section\" value=\"post\" />
				<input type=\"hidden\" name=\"do\" value=\"reply_post_do\" />
				<input type=\"hidden\" name=\"f\" value=\"{$forum['id']}\" />
				<input type=\"hidden\" name=\"t\" value=\"{$topic['tid']}\" />
				<input type=\"hidden\" name=\"st\" value=\"{$this->request['st']}\" />
				<input type=\"hidden\" name=\"auth_key\" value=\"{$this->member->form_hash}\" />
				<input type=\"hidden\" name=\"fast_reply_used\" value=\"1\" />
				<input type=\"hidden\" name=\"enableemo\" value=\"yes\" />
				<input type=\"hidden\" name=\"enablesig\" value=\"yes\" />
				" . (($this->memberData['auto_track']) ? ("
					<input type=\"hidden\" name=\"enabletrack\" value=\"1\" />
				") : ("")) . "" . ((is_array($topic['_fastReplyStatusMessage']) AND count($topic['_fastReplyStatusMessage']) AND strlen($topic['_fastReplyStatusMessage'][0])) ? ("
					<div class='message'>" . implode( '<br />', $topic['_fastReplyStatusMessage'] ) . "</div>
				") : ("")) . "" . $editor->show('Post', array( 'type' => 'full', 'minimize' => 1, 'isTypingCallBack' => 'ipb.topic.isTypingCallBack', 'height' => 180, 'autoSaveKey' => 'reply-' . $topic[tid], 'warnInfo' => 'fastReply', 'modAll' => $topic['_fastReplyModAll'] ), "")  . "
				<br />
				
				<fieldset class='right' id='fast_reply_controls'>
					<input type='submit' name=\"submit\" class='input_submit' value='{$this->lang->words['qr_post']}' tabindex='3' accesskey='s' id='submit_post' />&nbsp;&nbsp;<input type='submit' name=\"preview\" class='input_submit alt' value='{$this->lang->words['qr_more_opts']}' tabindex='0' id='full_compose' />			
				</fieldset>
			</form>
		</div>
		<div id='ips_HasReplies'></div>
	</div>
</div>
<script type='text/javascript'>
	ipb.topic.fastReplyId	= '{$this->settings['_lastEditorId']}';
</script>") : ("" . (($displayData['load_editor_js']) ? ("
		" . ( method_exists( $this->registry->getClass('output')->getTemplate('editors'), 'editorLoadJs' ) ? $this->registry->getClass('output')->getTemplate('editors')->editorLoadJs($displayData['smilies']) : '' ) . "
	") : ("")) . "")) . "
<!-- Close topic -->
</div>
<!-- BOTTOM BUTTONS -->
" . ((!$forum['disable_sharelinks'] AND $this->settings['sl_enable']) ? ("
	<br />
	<div class='clear clearfix left'>
		" . IPSLib::shareLinks( $topic['title'] ) . "
	</div>
	<br />
") : ("")) . "
<!-- SAME TAGGED -->
" . ((is_array( $displayData['same_tagged'] ) and count( $displayData['same_tagged'] )) ? ("
	<br />
	<div class='ipsBox'>
		<h3 class='maintitle'>" . sprintf( $this->lang->words['topic_same_tagged_as'], $topic['tags']['formatted']['string'] ) . "</h3>
		<div class='ipsBox_container'>
			<table class='ipb_table topic_list'>
			".$this->__f__9ff8a5cf7b855520394141cf0d5eb239($forum,$topic,$post_data,$displayData)."			</table>
		</div>
	</div>
") : ("")) . "
<!-- ACTIVE USERS -->
" . ((is_array( $displayData['active_users'] ) AND count( $displayData['active_users'] )) ? ("<div id='topic_stats' class='statistics clear clearfix'>
		<div id='topic_active_users' class='active_users'>
			<h4 class='statistics_head'>" . sprintf( $this->lang->words['active_users_title'], $displayData['active_users']['stats']['total'] ) . "</h4>
			<p class='statistics_brief desc'>" . sprintf( $this->lang->words['active_users_detail'], $displayData['active_users']['stats']['members'], $displayData['active_users']['stats']['guests'], $displayData['active_users']['stats']['anon'] ) . "</p>
			" . ((is_array( $displayData['active_users']['names'] ) AND count( $displayData['active_users']['names'] )) ? ("
				<br />
				<ul class='ipsList_inline'>
					" . implode( ', ', $displayData['active_users']['names'] ) . "
				</ul>
			") : ("")) . "
		</div>
	</div>") : ("")) . "
" . (($this->request['gopid']) ? ("
<script type='text/javascript'>
	var gopid = \"{$this->request['gopid']}\".replace(/&amp;/g, '');
	ipb.topic.scrollToPost( parseInt( gopid ) );
</script>
") : ("")) . "
" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'include_highlighter' ) ? $this->registry->getClass('output')->getTemplate('global')->include_highlighter(1) : '' ) . "
<div id='multiQuoteInsert' style='display: none;' class='ipsFloatingAction'>
	<span class='ipsButton no_width' id='mqbutton'>{$this->lang->words['mq_reply_quoted_posts']}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='#' id='multiQuoteClear' class='ipsType_smaller desc' title='{$this->lang->words['mq_clear_desc']}'>{$this->lang->words['mq_clear']}</a> &nbsp;&nbsp;&nbsp;
</div>
<form id=\"modform\" method=\"post\" action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "", "public",'' ), "", "" ) . "\">
	<input type=\"hidden\" name=\"app\" value=\"forums\" />
	<input type=\"hidden\" name=\"module\" value=\"moderate\" />
	<input type=\"hidden\" name=\"section\" value=\"moderate\" />
	<input type=\"hidden\" name=\"do\" value=\"postchoice\" />
	<input type=\"hidden\" name=\"f\" value=\"{$topic['forum_id']}\" />
	<input type=\"hidden\" name=\"t\" value=\"{$topic['tid']}\" />
	<input type=\"hidden\" name=\"auth_key\" value=\"{$this->member->form_hash}\" />
	<input type=\"hidden\" name=\"st\" value=\"{$this->request['st']}\" />
	<input type=\"hidden\" value=\"{$this->request['selectedpids']}\" name=\"selectedpidsJS\" id='selectedpidsJS' />
	<input type=\"hidden\" name=\"tact\" id=\"tact\" value=\"\" />
</form>";
return $IPBHTML;
}


function __f__1d5bc4ffbaa6bfccdea79a59816ac3f6($forum, $topic, $post_data, $displayData)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $displayData['mod_links'] as $_mod_link )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
		<li><a " . (($_mod_link['option'] == '08') ? (" data-confirmaction=\"true\"") : ("")) . " href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate&amp;t={$topic['tid']}&amp;f={$topic['forum_id']}&amp;st={$this->request['st']}&amp;auth_key={$this->member->form_hash}&amp;_fromTopic=1&amp;do={$_mod_link['option']}", "public",'' ), "", "" ) . "\" class='modlink_{$_mod_link['option']}'>{$_mod_link['value']}</a></li>
	
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__afa1e3368da91633f2f0aadb65985c69($forum, $topic, $post_data, $displayData)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $displayData['multi_mod'] as $mm_data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=multimod&amp;t={$topic['tid']}&amp;mm_id={$mm_data[0]}", "public",'' ), "", "" ) . "\">{$mm_data[1]}</a></li>
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__26ab53ace1e29fbf1026ea00e3f3f410($forum, $topic, $post_data, $displayData)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $this->caches['reputation_levels'] as $k => $v )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
				<li " . ((isset( $this->memberData['_members_cache']['rep_filter'] ) AND $v['level_points'] == $this->memberData['_members_cache']['rep_filter']) ? ("class='selected'") : ("")) . ">
					<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=forums&amp;section=topics&amp;rep_filter=update&amp;f={$topic['forum_id']}&amp;t={$topic['tid']}&amp;secure_key={$this->member->form_hash}&amp;st={$this->request['st']}&amp;rep_filter_set={$v['level_points']}", "public",'' ), "", "" ) . "' rel='nofollow'>
						{$this->lang->words['rep_f_hide']} <strong>{$v['level_points']} {$this->lang->words['rep_f_points']}</strong>
					</a>
				</li>
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__84fb80289f79ed6fcbe6a9a6b7fc3f38($forum, $topic, $post_data, $displayData)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $post_data as $post )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
				" . ( method_exists( $this->registry->getClass('output')->getTemplate('topic'), 'post' ) ? $this->registry->getClass('output')->getTemplate('topic')->post($post, $displayData, $topic, $forum) : '' ) . "
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__9ff8a5cf7b855520394141cf0d5eb239($forum, $topic, $post_data, $displayData)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $displayData['same_tagged'] as $tid => $tdata )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
				" . ( method_exists( $this->registry->getClass('output')->getTemplate('forum'), 'topic' ) ? $this->registry->getClass('output')->getTemplate('forum')->topic($tdata, $forum, array(), false) : '' ) . "
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}


}


/*--------------------------------------------------*/
/* END OF FILE                                      */
/*--------------------------------------------------*/

?>