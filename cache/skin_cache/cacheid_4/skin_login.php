<?php
/*--------------------------------------------------*/
/* FILE GENERATED BY INVISION POWER BOARD 3         */
/* CACHE FILE: Skin set id: 4               */
/* CACHE FILE: Generated: Wed, 29 Aug 2012 14:15:07 GMT */
/* DO NOT EDIT DIRECTLY - THE CHANGES WILL NOT BE   */
/* WRITTEN TO THE DATABASE AUTOMATICALLY            */
/*--------------------------------------------------*/

class skin_login_4 extends skinMaster{

/**
* Construct
*/
function __construct( ipsRegistry $registry )
{
	parent::__construct( $registry );
	

$this->_funcHooks = array();
$this->_funcHooks['ajax__inlineLogInForm'] = array('registerUsingFb','twitterBox','haswindowslive','registerServices','anonymous','hasRedirect');
$this->_funcHooks['showLogInForm'] = array('general_errors','fbcenabled','pagenumberintitle','isLargeTouch','isSmallTouch','referer','registerHasErrors','registerUsingFb','twitterBox','registerServices','lastvisit','isfloat','sqldebuglink','closesqldebuglink','showdebuglevel','includeLightboxDoReal');


}

/* -- ajax__inlineLogInForm --*/
function ajax__inlineLogInForm() {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_login', $this->_funcHooks['ajax__inlineLogInForm'] ) )
{
$count_f628c0e7de603ae35974db09e14b05ab = is_array($this->functionData['ajax__inlineLogInForm']) ? count($this->functionData['ajax__inlineLogInForm']) : 0;
}

$uses_name		= false;
	$uses_email		= false;
	$_redirect		= '';
	
	foreach( $this->cache->getCache('login_methods') as $method )
	{
		if( $method['login_user_id'] == 'username' or $method['login_user_id'] == 'either' )
		{
			$uses_name	= true;
		}
		
		if( $method['login_user_id'] == 'email' or $method['login_user_id'] == 'either' )
		{
			$uses_email	= true;
		}
		
		if( $method['login_login_url'] )
		{
			$_redirect	= $method['login_login_url'];
		}
	}
	if( $uses_name AND $uses_email )
	{
		$this->lang->words['enter_name']	= $this->lang->words['enter_name_and_email'];
	}
	else if( $uses_email )
	{
		$this->lang->words['enter_name']	= $this->lang->words['enter_useremail'];
	}
	else
	{
		$this->lang->words['enter_name']	= $this->lang->words['enter_username'];
	}
$IPBHTML .= "" . (($_redirect) ? ("
<script type='text/javascript'>
window.location = '{$_redirect}';
</script>
") : ("<div id='inline_login_form'>
	<form action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=login&amp;do=process", "public",'' ), "", "" ) . "\" method=\"post\" id='login'>
		<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
		<input type=\"hidden\" name=\"referer\" value=\"" . str_replace( array( '<', '>', '(', ')' ), '-', my_getenv('HTTP_REFERER') ) . "\" />
		<h3>{$this->lang->words['log_in']}</h3>
		" . ((IPSLib::loginMethod_enabled('facebook') || IPSLib::loginMethod_enabled('twitter') || IPSLib::loginMethod_enabled('live')) ? ("<div class='ipsBox_notice'>
				<ul class='ipsList_inline'>
					" . ((IPSLib::loginMethod_enabled('facebook')) ? ("
						<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=login&amp;serviceClick=facebook", "public",'' ), "", "" ) . "\"><img src=\"{$this->settings['img_url']}/facebook_login.png\" alt=\"\" /></a></li>
					") : ("")) . "
					" . ((IPSLib::loginMethod_enabled('twitter')) ? ("
						<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=login&amp;serviceClick=twitter", "public",'' ), "", "" ) . "\"><img src=\"{$this->settings['img_url']}/twitter_login.png\" alt=\"\" /></a></li>
					") : ("")) . "
					" . ((IPSLib::loginMethod_enabled('live')) ? ("
						<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=login&amp;do=process&amp;use_live=1&amp;auth_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' title='{$this->lang->words['use_live']}'>" . $this->registry->getClass('output')->getReplacement("live_small") . " {$this->lang->words['sign_in_winlive']}</a></li>
					") : ("")) . "
				</ul>
			</div>") : ("")) . "
		<br />
		<div class='ipsForm ipsForm_horizontal'>
			<fieldset>
				<ul>
					<li class='ipsField'>
						<div class='ipsField_content'>
							{$this->lang->words['register_prompt_1']} <a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=register", "public",'' ), "", "" ) . "\" title='{$this->lang->words['register_prompt_2']}'>{$this->lang->words['register_prompt_2']}</a>
						</div>
					</li>
					<li class='ipsField ipsField_primary'>
						<label for='ips_username' class='ipsField_title'>{$this->lang->words['enter_name']}</label>
						<div class='ipsField_content'>
							<input id='ips_username' type='text' class='input_text' name='ips_username' size='30' />
						</div>
					</li>
					<li class='ipsField ipsField_primary'>
						<label for='ips_password' class='ipsField_title'>{$this->lang->words['enter_pass']}</label>
						<div class='ipsField_content'>
							<input id='ips_password' type='password' class='input_text' name='ips_password' size='30' /><br />
							<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=lostpass", "public",'' ), "", "" ) . "' title='{$this->lang->words['retrieve_pw']}'>{$this->lang->words['login_forgotten_pass']}</a>
						</div>
					</li>
					<li class='ipsField ipsField_checkbox'>
						<input type='checkbox' id='inline_remember' checked='checked' name='rememberMe' value='1' class='input_check' />
						<div class='ipsField_content'>
							<label for='inline_remember'>
								<strong>{$this->lang->words['rememberme']}</strong><br />
								<span class='desc lighter'>{$this->lang->words['notrecommended']}</span>
							</label>
						</div>
					</li>
					" . ((!$this->settings['disable_anonymous']) ? ("
						<li class='ipsField ipsField_checkbox'>
							<input type='checkbox' id='inline_invisible' name='anonymous' value='1' class='input_check' />
							<div class='ipsField_content'>
								<label for='inline_invisible'>
									<strong>{$this->lang->words['form_invisible']}</strong><br />
									<span class='desc lighter'>{$this->lang->words['anon_name']}</span>
								</label>
							</div>
						</li>
					") : ("")) . "
				</ul>
			</fieldset>
			<div class='ipsForm_submit ipsForm_center'>
				<input type='submit' class='ipsButton' value='{$this->lang->words['log_in']}' />
			</div>
		</div>
	</form>
</div>")) . "";
return $IPBHTML;
}

/* -- errors --*/
function errors($data="") {
$IPBHTML = "";
$IPBHTML .= "<p class='message error'>
	{$data}
</p>
<br /><br />";
return $IPBHTML;
}

/* -- showLogInForm --*/
function showLogInForm($message="",$referer="",$extra_form="", $login_methods=array(), $documentHeadItems, $css, $jsModules, $metaTags, $header_items, $footer_items=array(), $stats=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_login', $this->_funcHooks['showLogInForm'] ) )
{
$count_fb21310997f4362d7522c9795c17665b = is_array($this->functionData['showLogInForm']) ? count($this->functionData['showLogInForm']) : 0;
$this->functionData['showLogInForm'][$count_fb21310997f4362d7522c9795c17665b]['message'] = $message;
$this->functionData['showLogInForm'][$count_fb21310997f4362d7522c9795c17665b]['referer'] = $referer;
$this->functionData['showLogInForm'][$count_fb21310997f4362d7522c9795c17665b]['extra_form'] = $extra_form;
$this->functionData['showLogInForm'][$count_fb21310997f4362d7522c9795c17665b]['login_methods'] = $login_methods;
$this->functionData['showLogInForm'][$count_fb21310997f4362d7522c9795c17665b]['documentHeadItems'] = $documentHeadItems;
$this->functionData['showLogInForm'][$count_fb21310997f4362d7522c9795c17665b]['css'] = $css;
$this->functionData['showLogInForm'][$count_fb21310997f4362d7522c9795c17665b]['jsModules'] = $jsModules;
$this->functionData['showLogInForm'][$count_fb21310997f4362d7522c9795c17665b]['metaTags'] = $metaTags;
$this->functionData['showLogInForm'][$count_fb21310997f4362d7522c9795c17665b]['header_items'] = $header_items;
$this->functionData['showLogInForm'][$count_fb21310997f4362d7522c9795c17665b]['footer_items'] = $footer_items;
$this->functionData['showLogInForm'][$count_fb21310997f4362d7522c9795c17665b]['stats'] = $stats;
}
$IPBHTML .= "<!DOCTYPE html>
	<html lang=\"en\" " . ((IPSLib::fbc_enabled() === TRUE || $this->settings['fbc_appid']) ? (" xmlns:fb=\"http://www.facebook.com/2008/fbml\"") : ("")) . ">
	<head>
		<meta charset=\"{$this->settings['gb_char_set']}\" />
		<title>{$header_items['title']}" . (($header_items['page']) ? (" {$this->lang->words['page_title_page']} {$header_items['page']}") : ("")) . "</title>
		<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />
		<link rel=\"shortcut icon\" href='" . (($this->registry->output->isHTTPS) ? ("{$this->settings['board_url_https']}") : ("{$this->settings['board_url']}")) . "/favicon.ico' />
		<link rel=\"image_src\" href='{$this->settings['meta_imagesrc']}' />
		<script type='text/javascript'>
		//<![CDATA[
			jsDebug			= " . intval($this->settings['_jsDebug']) . "; /* Must come before JS includes */
			USE_RTE			= 1;
			DISABLE_AJAX	= parseInt({$this->settings['disable_text_ajax']}); /* Disables ajax requests where text is sent to the DB; helpful for charset issues */
			inACP			= false;
			var isRTL		= false;
			var rtlIe		= '';
			var rtlFull		= '';
		//]]>
		</script>
		" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'includeCSS' ) ? $this->registry->getClass('output')->getTemplate('global')->includeCSS($css) : '' ) . "" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'includeMeta' ) ? $this->registry->getClass('output')->getTemplate('global')->includeMeta($metaTags) : '' ) . "
		" . (($this->registry->output->isLargeTouchDevice()) ? ("
		<!--<meta name=\"viewport\" content=\"width=device-width;\">-->
		") : ("")) . "
		" . (($this->registry->output->isSmallTouchDevice()) ? ("
		<meta name=\"viewport\" content=\"width=1024px\">
		") : ("")) . "
		" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'includeJS' ) ? $this->registry->getClass('output')->getTemplate('global')->includeJS($jsModules) : '' ) . "" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'includeFeeds' ) ? $this->registry->getClass('output')->getTemplate('global')->includeFeeds($documentHeadItems) : '' ) . "" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'includeRTL' ) ? $this->registry->getClass('output')->getTemplate('global')->includeRTL() : '' ) . "		
		" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'includeVars' ) ? $this->registry->getClass('output')->getTemplate('global')->includeVars($header_items) : '' ) . "
		<link rel=\"stylesheet\" type=\"text/css\"  href=\"https://fonts.googleapis.com/css?family=PT+Sans&subset=latin\" />
		<link rel=\"stylesheet\" type=\"text/css\" title='Main' media=\"screen\" href=\"{$this->settings['css_base_url']}style_css/{$this->registry->output->skin['_csscacheid']}/ipb_login.css\" />
	</head>
	<body id='ipboard_body'>
		<div id='ipbwrapper'>
			<div id=\"branding\">
				<div class=\"main_width\">
					<div id='logo'>
						<a href='{$this->settings['board_url']}' title='{$this->lang->words['go_home']}' rel=\"home\" accesskey='1'><img src='{style_images_url}/big-logo.png' alt='{$this->lang->words['logo']}' /></a>
					</div>
					<div id=\"login-box\">
						<form action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=login&amp;do=process", "public",'' ), "", "" ) . "\" method=\"post\" id='login'>
							<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
							" . (($referer) ? ("<input type=\"hidden\" name=\"referer\" value=\"{$referer}\" />") : ("")) . "
					        <table cellspacing=\"0\" cellpadding=\"0\">
						        <tbody>
							        <tr>
								        <td>
								        	<input id='ips_username' type='text' class='input_text' name='ips_username' size='50' tabindex='1' placeholder=\"{$this->lang->words['enter_name']}\" />
								        </td>
								        <td>
								        	<input id='ips_password' type='password' class='input_text' name='ips_password' size='50' tabindex='2' placeholder=\"{$this->lang->words['enter_pass']}\" />
								        </td>
								        <td>
									        <label class=\"ui-button\">
										        <input type=\"submit\" value=\"{$this->lang->words['sign_in_button']}\" class=\"ui-button\">
									        </label>
								        </td>
							        </tr>
							        <tr>
							            <td valign=\"middle\">
							            	<input type='checkbox' id='remember' checked='checked' name='rememberMe' value='1' class='input_check' />&nbsp;{$this->lang->words['rememberme']}
							            </td>
							            <td><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=lostpass", "public",'' ), "", "" ) . "' title='{$this->lang->words['retrieve_pw']}'>{$this->lang->words['login_forgotten_pass']}</a></td>
							            <td>&nbsp;</td>
							        </tr>
						        </tbody>
					        </table>
						</form>
			        </div>
				</div>
			</div>
			<div class=\"clearfix\" id=\"content\">
				" . ((is_array( $general_errors ) && count( $general_errors )) ? ("
				<div class='message error'>
					{$this->lang->words['following_errors']}
					<ul>
						".$this->__f__76e062fa44ebd68d3665b5c3e7afc37a($message,$referer,$extra_form,$login_methods,$documentHeadItems,$css,$jsModules,$metaTags,$header_items,$footer_items,$stats)."					</ul>
				</div>
				<br />
				") : ("")) . "
				<form action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=register", "public",'' ), "", "" ) . "\" method=\"post\" name=\"REG\" id='register'>
					<input type=\"hidden\" name=\"termsread\" value=\"1\" />
					<input type=\"hidden\" name=\"agree_to_terms\" value=\"1\" />
					<input type=\"hidden\" name=\"do\" value=\"process_form\" />
					<input type=\"hidden\" name=\"coppa_user\" value=\"{$data['coppa_user']}\" />
					<input type='hidden' name='nexus_pass' value='1' />
					<input type='hidden' name='time_offset' id='auto_time_offset' value='0' />
					<input type='hidden' name='dst' id='auto_dst' value='0' />
				<table width=\"50%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" style=\"width: 50%;\">
					<tbody>
						<tr>
							<td>Si no tienes cuenta registrate aqu&iacute;</td>
						</tr>
						<tr>
							<td><h2>Reg&iacute;strate</h2></td>
						</tr>
						<tr>
							<td>
								<label for=\"textfield\"></label>
								<input type=\"text\" class=\"input_text\" id=\"textfield\" placeholder=\"Nombre\" name=\"textfield\">
							</td>
						</tr>
						<tr>
							<td><input type=\"text\" class=\"input_text\" id=\"textfield2\" placeholder=\"Correo Electr&oacute;nico\" name=\"textfield2\"></td>
						</tr>
						<tr>
							<td><input type=\"text\" class=\"input_text\" id=\"textfield3\" placeholder=\"Contrase&ntilde;a\" name=\"textfield3\"></td>
						</tr>
						<tr>
							<td><input type=\"text\" class=\"input_text\" id=\"textfield4\" placeholder=\"Confirmar contrase&ntilde;a\" name=\"textfield4\"></td>
						</tr>
						<tr>
							<td>
							  <select id=\"sexo\" name=\"sexo\">
							    <option>Selecciona el sexo</option>
							    <option>Masculino</option>
							    <option>Femenino</option>
							    </select>
							</td>
						</tr>
						<tr>
							<td>
							  <select id=\"dia\" name=\"dia\">
							    <option>01</option>
							    <option>02</option>
							    <option>03</option>
							    </select>
							  <select id=\"mes\" name=\"mes\">
							    <option>Enero</option>
							    <option>Febrero</option>
							    <option>Marzo</option>
							    </select>
							  <select id=\"anio\" name=\"anio\">
							    <option>1950</option>
							    <option>1951</option>
							    <option>1952</option>
							  </select>
							</td>
						</tr>
						<tr>
							<td>Al hacer clic en Registrarse, acepta nuestros Condiciones, y que ley&oacute; y entendi&oacute; nuestra Pol&iacute;tica de uso de datos, incluido nuestro Uso de cookies.</td>
						</tr>
						<tr>
							<td>
							  <label class=\"ui-button cgray\">
							    <input type=\"submit\" value=\"Registrarse\" style=\"color: #333333 !important;\">
							  </label>
							</td>
						</tr>
					</tbody>
				</table>
				</form>
				<div class=\"signin\">
					o ingresa desde
					" . ((IPSLib::loginMethod_enabled('facebook') || IPSLib::loginMethod_enabled('twitter')) ? ("<div class='ipsForm_horizontal' id='external_services'>
									" . ((IPSLib::loginMethod_enabled('facebook')) ? ("
										<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=login&amp;serviceClick=facebook", "public",'' ), "", "" ) . "\" class=\"facebook\"></a>
									") : ("")) . "
									" . ((IPSLib::loginMethod_enabled('twitter')) ? ("
										<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=login&amp;serviceClick=twitter", "public",'' ), "", "" ) . "\" class=\"twitter\"></a>
									") : ("")) . "
						</div>") : ("")) . "
				</div>
			</div>
			<!--DEBUG LEVEL-->
			" . (($this->memberData['member_id'] and $this->settings['debug_level']) ? ("<div id='ipsDebug_footer'>
					<strong>{$this->lang->words['time_now']}</strong> {$footer_items['time']}
					" . (($this->memberData['member_id'] AND $this->memberData['last_visit']) ? ("<strong>{$this->lang->words['you_last_visit']}</strong> " . $this->registry->getClass('class_localization')->getDate($this->memberData['last_visit'],"short", 0) . "") : ("")) . "
					<strong>{$this->lang->words['stat_exec']}</strong> {$stats['ex_time']} " . ((is_float($stats['ex_time'])) ? ("{$this->lang->words['stats_sec']}") : ("")) . "
					<strong>{$this->lang->words['stat_load']}</strong> {$stats['server_load']}
					<strong>{$this->lang->words['stat_queries']}</strong> {$stats['queries']} " . ((IPS_SQL_DEBUG_MODE) ? ("<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$this->settings['query_string_safe']}&amp;debug=1", "public",'' ), "", "" ) . "'>") : ("")) . "{$this->lang->words['stats_queries']}" . ((IPS_SQL_DEBUG_MODE) ? ("</a>") : ("")) . "
					<strong>{$this->lang->words['stat_gzip']}</strong> {$stats['gzip_status']}
				</div>") : ("")) . "
			{$stats['task']}
			" . (($this->settings['do_include_lightbox_real']) ? ("
				" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'include_lightbox_real' ) ? $this->registry->getClass('output')->getTemplate('global')->include_lightbox_real() : '' ) . "
			") : ("
				<script type=\"text/javascript\">
					ipb.global.lightBoxIsOff();
				</script>
			")) . "
			" . ((!$this->memberData['member_id']) ? ("" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'inlineLogin' ) ? $this->registry->getClass('output')->getTemplate('global')->inlineLogin() : '' ) . "") : ("")) . "
		
		<!--DEBUG_STATS-->
	</body>
</html>";
return $IPBHTML;
}


function __f__76e062fa44ebd68d3665b5c3e7afc37a($message="",$referer="",$extra_form="", $login_methods=array(), $documentHeadItems, $css, $jsModules, $metaTags, $header_items, $footer_items=array(), $stats=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $general_errors as $r )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
							<li>{$r}</li>
						
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}


}


/*--------------------------------------------------*/
/* END OF FILE                                      */
/*--------------------------------------------------*/

?>