<?php
/*--------------------------------------------------*/
/* FILE GENERATED BY INVISION POWER BOARD 3         */
/* CACHE FILE: Skin set id: 4               */
/* CACHE FILE: Generated: Wed, 29 Aug 2012 14:15:07 GMT */
/* DO NOT EDIT DIRECTLY - THE CHANGES WILL NOT BE   */
/* WRITTEN TO THE DATABASE AUTOMATICALLY            */
/*--------------------------------------------------*/

class skin_blog_show_4 extends skinMaster{

/**
* Construct
*/
function __construct( ipsRegistry $registry )
{
	parent::__construct( $registry );
	

$this->_funcHooks = array();
$this->_funcHooks['blogArchive'] = array('entrymonths','archivedentries','feedburnerlink','blogNotEditorSettings','blogNotEditorRest','hasleftbar','hasrightbar','entriesexist','leftsidebar','rightsidebar');
$this->_funcHooks['blogEntryView'] = array('canRateEntryLinkStart','showRated','canRateEntryLinkEnd','ratingLoop','hasleftbar','hasrightbar','viewdraftcss','canFollow','viewpublish','viewdraft','viewlock','viewunlock','viewdelete','viewedit','sendtrackback','viewunfeature','viewfeature','unbanish','showOptions','futureblog2','isdraft','isfeatured','canRateEntry','hasRates','jsHasRates','canRateEntryJs','blogRatingEnabled','isrssimport','viewhascats','futureblog','hasTags','viewprivate','canReportEntry','hasShareReportLinks','hasComments','hasTrackbacks','leftsidebar','rightsidebar','disablelightbox');
$this->_funcHooks['blogView'] = array('viewdraftcss','viewpublish','viewdraft','viewlock','viewunlock','viewdelete','viewedit','sendtrackback','viewunfeature','viewfeature','unbanish','showOptions','futureblog2','isdraft','isfeatured','isrssimport','viewhascats','futureblog','blogRatingEnabled','hasTags','showFullList','viewprivate','entryHasMoreText','hasQueuedComments','islocked','viewentriesloop','feedburnerlink','blogNotEditorSettings','blogNotEditorRest','hasleftbar','hasrightbar','checkforentries','paginationBottom','leftsidebar','rightsidebar','disablelightbox');
$this->_funcHooks['entryAlbum'] = array('albumsloop','slideshow');
$this->_funcHooks['entryTrackbacks'] = array('trackbackqueued','trackbackapprove','trackbackhamspam','trackbackakismet','trackbackdelete','trackbackloop','trackbackrows');
$this->_funcHooks['pollDisplay'] = array('lastmember','pollvoters','gotvoters','viewvoters','showvoters','multichoice','resultsshown','pollchoice','votedcss','noguests','pollquestion','showresults','publicpoll','votelink','showlink','viewresults','pollcreator','havenotvoted','membervote','pollislocked');
$this->_funcHooks['show_attachment_title'] = array('attachType','attach');


}

/* -- blogArchive --*/
function blogArchive($blog, $links, $entries=array(), $cb_left_html="", $cb_right_html="", $followData='') {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_blog_show', $this->_funcHooks['blogArchive'] ) )
{
$count_dfa2a6a5e22eb274cdb907db885afe61 = is_array($this->functionData['blogArchive']) ? count($this->functionData['blogArchive']) : 0;
$this->functionData['blogArchive'][$count_dfa2a6a5e22eb274cdb907db885afe61]['blog'] = $blog;
$this->functionData['blogArchive'][$count_dfa2a6a5e22eb274cdb907db885afe61]['links'] = $links;
$this->functionData['blogArchive'][$count_dfa2a6a5e22eb274cdb907db885afe61]['entries'] = $entries;
$this->functionData['blogArchive'][$count_dfa2a6a5e22eb274cdb907db885afe61]['cb_left_html'] = $cb_left_html;
$this->functionData['blogArchive'][$count_dfa2a6a5e22eb274cdb907db885afe61]['cb_right_html'] = $cb_right_html;
$this->functionData['blogArchive'][$count_dfa2a6a5e22eb274cdb907db885afe61]['followData'] = $followData;
}

// Set some variables
			$prev_entrymonth	= "";

if ( ! isset( $this->registry->templateStriping['archive'] ) ) {
$this->registry->templateStriping['archive'] = array( FALSE, "row1","row2");
}
$IPBHTML .= "<script type='text/javascript'>
	ipb.blog.withBlocks = true;
</script>
{$followData}
<h1 class='ipsType_pagetitle'>
	{$blog['blog_name']}
	" . (($blog['blog_settings']['rssfeedburner']) ? ("
		<a href=\"http://feeds.feedburner.com/{$blog['blog_settings']['rssfeedburner']}\"><img src='{$this->settings['img_url']}/feed.png' alt='' /></a>		
	") : ("
		<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=rss&amp;type=blog&amp;blogid={$blog['blog_id']}", "public",'' ), "{$blog['blog_seo_name']}", "blogrss" ) . "\"><img src='{$this->settings['img_url']}/feed.png' alt='' /></a>
	")) . "
</h1>
<br />
<div class='topic_controls clearfix'>
	{$links}
	<ul class='topic_buttons'>
		" . (($this->registry->getClass('blogFunctions')->ownsBlog( $blog, $this->memberData ) OR in_array( $this->memberData['member_id'], $blog['blog_settings']['editors'] )) ? ("<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=post&amp;section=post&amp;do=showform&amp;blogid={$blog['blog_id']}", "public",'' ), "", "" ) . "'>{$this->lang->words['add_entry']}</a></li>
			" . (($this->registry->getClass('blogFunctions')->ownsBlog( $blog, $this->memberData )) ? ("<li><a href='#blocks' id='content_blocks' class='ipbmenu'>{$this->lang->words['add_cblocks']}<img src='{$this->settings['img_url']}/opts_arrow.png' alt='' /></a></li>
				" . (($this->settings['blog_themes']) ? ("
					<li><a href='#themes' id='themes_menu' class='ipbmenu'>{$this->lang->words['themes_menu']}<img src='{$this->settings['img_url']}/opts_arrow.png' alt='' /></a></li>
				") : ("")) . "
				<li><a href=\"#\" id='blog-{$blog['blog_id']}__mod_options' class='ipbmenu'>{$this->lang->words['blog_ucp_options']}<img src='{$this->settings['img_url']}/opts_arrow.png' alt='' /></a></li>") : ("")) . "") : ("")) . "
		<li class='non_button'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;blogid={$this->request['blogid']}", "public",'' ), "{$blog['blog_seo_name']}", "showblog" ) . "\">{$blog['blog_name']}</a></li>
	</ul>
	" . (($this->registry->getClass('blogFunctions')->ownsBlog( $blog, $this->memberData )) ? ("<ul class='ipbmenu_content' id='blog-{$blog['blog_id']}__mod_options_menucontent'>
			" . (($blog['_type'] != 'editor' AND $blog['blog_type'] != 'external' AND $blog['_type'] != 'privateclub' AND $blog['blog_type'] != 'external') ? ("<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=manage&amp;section=settings&amp;blogid={$blog['blog_id']}", "public",'' ), "false", "manageblog" ) . "' title='{$this->lang->words['bucpo_settings']}'>" . $this->registry->getClass('output')->getReplacement("generic_cog") . " {$this->lang->words['bucpo_settings']}</a></li>
				<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=manage&amp;section=categories&amp;blogid={$blog['blog_id']}", "public",'' ), "false", "manageblog" ) . "' title='{$this->lang->words['bucpo_categories']}'><img src=\"{$this->settings['img_url']}/blog/categories.png\" alt='' /> {$this->lang->words['bucpo_categories']}</a></li>
				<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=manage&amp;section=comments&amp;blogid={$blog['blog_id']}", "public",'' ), "false", "manageblog" ) . "' title='{$this->lang->words['bucpo_comments']}'><img src=\"{$this->settings['img_url']}/blog/comments.png\" alt='' /> {$this->lang->words['bucpo_comments']}</a></li>
				" . (($this->settings['blog_allow_rssimport'] AND $this->memberData['g_blog_rsspergo']) ? ("
					<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=manage&amp;section=settings&act=rssimport&amp;blogid={$blog['blog_id']}", "public",'' ), "false", "manageblog" ) . "' title='{$this->lang->words['bucpo_rssform']}'><img src=\"{$this->settings['img_url']}/blog/rss.png\" alt='' /> {$this->lang->words['bucpo_rssform']}</a></li>
				") : ("")) . "") : ("" . (($blog['_type'] != 'editor' AND $blog['_type'] != 'privateclub') ? ("
					<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=manage&amp;section=settings&amp;blogid={$blog['blog_id']}", "public",'' ), "false", "manageblog" ) . "' title='{$this->lang->words['bucpo_settings']}'>" . $this->registry->getClass('output')->getReplacement("generic_cog") . " {$this->lang->words['bucpo_settings']}</a></li>
				") : ("")) . "")) . "
			" . (($this->memberData['g_blog_allowdelete'] AND $blog['_type'] != 'group' AND $blog['_type'] != 'editor' AND $blog['_type'] != 'privateclub') ? ("
				<li><a class='__delete' id='blogDelete_{$blog['blog_id']}' href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=manage&amp;section=dashboard&act=delete&amp;blogid={$blog['blog_id']}&amp;form_hash={$this->member->form_hash}", "public",'' ), "false", "manageblog" ) . "' title='{$this->lang->words['bucpo_delete']}'>" . $this->registry->getClass('output')->getReplacement("folder_delete") . " {$this->lang->words['bucpo_delete']}</a></li>
			") : ("")) . "
		</ul>") : ("")) . "
</div>
<br class='clear' />
<div id='main_blog_wrapper' class='clearfix" . (($cb_left_html) ? (" with_left") : ("")) . "" . (($cb_right_html) ? (" with_right") : ("")) . "'>
	<div id='main_column'>
				
		<h3 class='maintitle'>{$this->lang->words['blog_archive']}</h3>
		" . ((is_array( $entries ) && count( $entries )) ? ("
			<table class='ipb_table'>
								".$this->__f__9e53dd45d6001e381e0b9bc7583b6e5e($blog,$links,$entries,$cb_left_html,$cb_right_html,$followData)."			</table>
		") : ("<p class='no_messages ipsType_subtitle short'>
				" . (($this->request['cat'] OR $this->request['tag']) ? ("{$this->lang->words['no_entry_matches']}") : ("{$blog['blog_name']} {$this->lang->words['no_entries_yet']}")) . "
			</p>")) . "
		
		<br />
		" . (($links) ? ("
			<div class='topic_controls'>
				{$links}
			</div>
		") : ("")) . "
		<br />
	</div>
		
	" . (($cb_left_html) ? ("
		{$cb_left_html}
	") : ("")) . "
	
	<!-- Left bar comes before this -->
	<span id='sidebar_holder'></span>
	<!-- Right bar comes after -->
	
	" . (($cb_right_html) ? ("
		{$cb_right_html}
	") : ("")) . "
</div>
<br class='clear' />";
return $IPBHTML;
}


function __f__9e53dd45d6001e381e0b9bc7583b6e5e($blog, $links, $entries=array(), $cb_left_html="", $cb_right_html="", $followData='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $entries as $entry )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
					" . (($entry['entry_month'] != $prev_entrymonth) ? ("" . (($prev_entrymonth = $entry['entry_month']) ? ("") : ("")) . "
						<tr class='header'>
							<th colspan='3' class='short'>{$this->lang->words['blog_monthrow']} {$prev_entrymonth}</th>
						</tr>") : ("")) . "
					<tr class='" .  IPSLib::next( $this->registry->templateStriping["archive"] ) . "'>
						<td class='altrow short blog_date' style='width: 10%'><span class='desc'>" . $this->registry->getClass('class_localization')->getDate($entry['_entry_date'],"manual{%d %b}", 1) . "</td>
						<td style='width: 60%'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;blogid={$entry['blog_id']}&amp;showentry={$entry['entry_id']}", "public",'' ), "{$entry['entry_name_seo']}", "showentry" ) . "\" title=\"{$this->lang->words['view_entry_alt']}\"><strong>{$entry['entry_name']}</strong></a></td>
						<td class='altrow' style='width: 30%'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;blogid={$entry['blog_id']}&amp;showentry={$entry['entry_id']}", "public",'' ), "{$entry['entry_name_seo']}", "showentry" ) . "#commentsStart\" title=\"{$this->lang->words['view_comments_alt']}\">{$entry['entry_num_comments']} {$this->lang->words['entry_comments']}</a></td>
					</tr>
				
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- blogEntryView --*/
function blogEntryView($blog, $comments_html, $header, $entry, $poll_html, $trackbacks_html, $links, $cblocks, $follow, $tags=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_blog_show', $this->_funcHooks['blogEntryView'] ) )
{
$count_da3217eb4a98fef577c44e1be068a377 = is_array($this->functionData['blogEntryView']) ? count($this->functionData['blogEntryView']) : 0;
$this->functionData['blogEntryView'][$count_da3217eb4a98fef577c44e1be068a377]['blog'] = $blog;
$this->functionData['blogEntryView'][$count_da3217eb4a98fef577c44e1be068a377]['comments_html'] = $comments_html;
$this->functionData['blogEntryView'][$count_da3217eb4a98fef577c44e1be068a377]['header'] = $header;
$this->functionData['blogEntryView'][$count_da3217eb4a98fef577c44e1be068a377]['entry'] = $entry;
$this->functionData['blogEntryView'][$count_da3217eb4a98fef577c44e1be068a377]['poll_html'] = $poll_html;
$this->functionData['blogEntryView'][$count_da3217eb4a98fef577c44e1be068a377]['trackbacks_html'] = $trackbacks_html;
$this->functionData['blogEntryView'][$count_da3217eb4a98fef577c44e1be068a377]['links'] = $links;
$this->functionData['blogEntryView'][$count_da3217eb4a98fef577c44e1be068a377]['cblocks'] = $cblocks;
$this->functionData['blogEntryView'][$count_da3217eb4a98fef577c44e1be068a377]['follow'] = $follow;
$this->functionData['blogEntryView'][$count_da3217eb4a98fef577c44e1be068a377]['tags'] = $tags;
}

$this->_showOpts = ( $entry['publish'] OR $entry['lock'] OR $entry['del_button'] OR $entry['edit_button'] OR $entry['allow_feature'] ) ? 1 : 0;
$IPBHTML .= "<script type='text/javascript'>
	ipb.blog.inEntry = 1;
	ipb.blog.ownerID = {$this->registry->blogFunctions->blog['member_id']};
	ipb.blog.blogID = {$this->registry->blogFunctions->blog['blog_id']};
	ipb.blog.blogURL = \"{$this->settings['blog_url']}\";
	ipb.blog.withBlocks = true;
</script>
<br class='clear' />
<div id='main_blog_wrapper' class='clearfix" . (($cblocks['left']) ? (" with_left") : ("")) . "" . (($cblocks['right']) ? (" with_right") : ("")) . "'>
	
	<!-- MAIN CONTENT -->
	<div id='main_column'>
		<div class=''>
			<div class='ipsBox_container'>
				<div class='entry" . (($entry['entry_status'] != 'published') ? (" moderated") : ("")) . "" . (($entry['hide_private']) ? (" private") : ("")) . "' id='entry_{$entry['entry_id']}'>
					<div class='entry_header row2 ipsPad_half'>
						<div class='right ipsPad_half' id='entry_header_right'>
							" . (($follow) ? ("
								{$follow}
								<br class='clear' /><br /><br />
							") : ("")) . "
							<!-- Entry Menu -->
							" . (($this->_showOpts) ? ("<div id='entry-{$entry['entry_id']}-options' class='ipbmenu buttonAPyA right'>{$this->lang->words['bview_options']} <img src='{$this->settings['img_url']}/opts_arrow.png' alt='' /></div>
								<ul class='ipbmenu_content menu_blog' id='entry-{$entry['entry_id']}-options_menucontent' style='display: none;'>
									" . (($entry['publish'] == 'publish') ? ("
										<li><strong><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=post&amp;section=mod&amp;do=dopublish&amp;entryid={$entry['entry_id']}&amp;blogid={$this->request['blogid']}&amp;auth_key={$this->member->form_hash}", "public",'' ), "", "" ) . "'>{$this->lang->words['publish_entry']}</a></strong></li>
									") : ("")) . "
									" . (($entry['publish'] == 'draft' AND ! $entry['entry_featured']) ? ("
										<li><strong><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=post&amp;section=mod&amp;do=dodraft&amp;entryid={$entry['entry_id']}&amp;blogid={$this->request['blogid']}&amp;auth_key={$this->member->form_hash}", "public",'' ), "", "" ) . "'>{$this->lang->words['make_draft']}</a></strong></li>
									") : ("")) . "
									" . (($entry['lock'] == 'lock') ? ("
										<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=post&amp;section=mod&amp;do=dolock&amp;entryid={$entry['entry_id']}&amp;blogid={$this->request['blogid']}&amp;auth_key={$this->member->form_hash}", "public",'' ), "", "" ) . "'>{$this->lang->words['lock_entry']}</a></li>
									") : ("")) . "
									" . (($entry['lock'] == 'unlock') ? ("
										<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=post&amp;section=mod&amp;do=dounlock&amp;entryid={$entry['entry_id']}&amp;blogid={$this->request['blogid']}&amp;auth_key={$this->member->form_hash}", "public",'' ), "", "" ) . "'>{$this->lang->words['unlock_entry']}</a></li>
									") : ("")) . "
									" . (($entry['del_button']) ? ("
										<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=post&amp;section=mod&amp;do=dodelentry&amp;entryid={$entry['entry_id']}&amp;blogid={$this->request['blogid']}&amp;auth_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' class='delete_entry'>{$this->lang->words['entry_delete']}</a></li>
									") : ("")) . "
									" . (($entry['edit_button']) ? ("
										<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=post&amp;section=post&amp;do=editentry&amp;eid={$entry['entry_id']}&amp;blogid={$this->request['blogid']}", "public",'' ), "", "" ) . "\">{$this->lang->words['entry_edit']}</a></li>
									") : ("")) . "
									" . (($entry['send_trackback']) ? ("
										<li>
											<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=external&amp;section=trackback&amp;do=sendtb&amp;blogid={$entry['blog_id']}&amp;eid={$entry['entry_id']}&amp;s={$this->member->session_id}", "public",'' ), "", "" ) . "\" id='sendtb_{$entry['entry_id']}'>{$this->lang->words['send_trackback']}</a>
										</li>
									") : ("")) . "
									" . (($entry['allow_feature']) ? ("" . (($entry['entry_featured']) ? ("
											<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;blogid={$entry['blog_id']}&amp;showentry={$entry['entry_id']}&amp;feature=1", "public",'' ), "{$entry['entry_name_seo']}", "showentry" ) . "' onclick=\"return confirm('{$this->lang->words['feature_confirm_undo']}');\">{$this->lang->words['feature_undo']}</a></li>
										") : ("		
											<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;blogid={$entry['blog_id']}&amp;showentry={$entry['entry_id']}&amp;feature=1", "public",'' ), "{$entry['entry_name_seo']}", "showentry" ) . "' onclick=\"return confirm('{$this->lang->words['feature_confirm_do']}');\">{$this->lang->words['feature_do']}</a></li>
										")) . "") : ("")) . "
									" . (($entry['entry_banish'] AND $this->memberData['g_is_supmod']) ? ("
										<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;blogid={$entry['blog_id']}&amp;showentry={$entry['entry_id']}&amp;banish=1", "public",'' ), "{$entry['entry_name_seo']}", "showentry" ) . "'\">{$this->lang->words['bentry_unbanish']}</a></li>
									") : ("")) . "
								</ul>") : ("")) . "	
							<!-- BADGES -->
							" . (($entry['entry_status'] != 'published') ? ("<span class='ipsBadge ipsBadge_red'>" . (($entry['entry_future_date']) ? ("{$this->lang->words['entry_is_future_date']}") : ("{$this->lang->words['entry_is_a_draft']}")) . "</span>") : ("")) . "
							" . (($entry['entry_featured']) ? ("<span class='ipsBadge ipsBadge_green'>{$this->lang->words['entry_is_featured']}</span>") : ("")) . "
						</div>
						
						<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$entry['member_id']}", "public",'' ), "{$entry['members_seo_name']}", "showuser" ) . "' class='ipsUserPhotoLink left ipsPad_half'>
							<img src='{$entry['pp_small_photo']}' alt='{$this->lang->words['photo']}' class='ipsUserPhoto ipsUserPhoto_blog' />
						</a>
						
						" . (($this->settings['blog_enable_rating']) ? ("" . (($blog['_allow_rating']) ? ("
								" . $this->registry->getClass('output')->addJSModule("rating", "0" ) . "
								<strong>{$this->lang->words['blog_rate_entry']}</strong>&nbsp;&nbsp;
							") : ("")) . "
							".$this->__f__09b1a53de1f5a15dc72fdea9a47255af($blog,$comments_html,$header,$entry,$poll_html,$trackbacks_html,$links,$cblocks,$follow,$tags)."							<span id='rating_text'>
								" . (($entry['entry_rating_count'] > 0) ? ("{$entry['entry_rating_count']} {$this->lang->words['votes']}") : ("")) . "
							</span>
							" . (($blog['_allow_rating']) ? ("<script type='text/javascript'>
									rating = new ipb.rating( 'entry_rate_', { 
														url:		'" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&&module=ajax&section=rate&blogid={$blog['blog_id']}&entry_id={$entry['entry_id']}&secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "',
														cur_rating:	{$entry['_rate_int']},
														rated:		" . (($entry['_my_rate']) ? ("1") : ("0")) . ",
														allow_rate:	{$blog['_allow_rating']},
														multi_rate:	{$this->settings['blog_allow_multirate']},
														show_rate_text:	false
													  } );
								</script>") : ("")) . "
							<br />") : ("")) . "
											
						<h1 class='ipsType_pagetitle'>{$entry['entry_name']}</h1>
											
						<div class='desc'>
							" . (($entry['entry_rss_import']) ? ("" . $this->registry->getClass('output')->getReplacement("blog_rss_import") . "&nbsp;") : ("")) . "
							{$this->lang->words['posted_by']} <strong>" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($entry) : '' ) . "</strong>, 
							" . (($entry['_categories']) ? ("
								" . ( method_exists( $this->registry->getClass('output')->getTemplate('blog_global'), 'catsAsList' ) ? $this->registry->getClass('output')->getTemplate('blog_global')->catsAsList($entry['blog_id'], $entry['_categories']) : '' ) . "
							") : ("")) . "
							" . (($entry['entry_future_date']) ? ("<img src=\"{$this->settings['img_url']}/blog/time_entry.png\" data-tooltip=\"{$entry['entry_date']}\" title=\"{$entry['entry_date']}\" />&nbsp;") : ("")) . "" . $this->registry->getClass('class_localization')->getDate($entry['_entry_date'],"short2", 1) . "
							 &middot; 
							" . $this->registry->getClass('class_localization')->formatNumber( $entry['entry_views'] ) . " {$this->lang->words['blog_num_views']}
						</div>
						" . ((!empty( $tags['formatted'] )) ? ("
							<br />
							{$tags['formatted']['parsedWithoutComma']}
						") : ("")) . "
						<br class='clear' />
					</div>
					<div class='entry_content ipsType_textblock ipsPad'>
						{$poll_html}
						" . (($entry['hide_private']) ? ("
							{$this->lang->words['blog_private_entry']}
							<div class='desc right'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;blogid={$entry['blog_id']}&amp;showentry={$entry['entry_id']}&amp;showprivate=1", "public",'' ), "{$entry['entry_name_seo']}", "showentry" ) . "\">{$this->lang->words['blog_show_privateentry']} {$this->lang->words['_rarr']}</a></div>
						") : ("" . (($entry['entry_image']) ? ("
								<a href='{$this->settings['upload_url']}/{$entry['entry_image']}' rel='lightbox' class='ipsPad_half'>
									<img src='{$this->settings['upload_url']}/{$entry['entry_image']}' alt='{$entry['entry_name']}' " . IPSLib::getTemplateDimensions("{$this->settings['upload_url']}/{$entry['entry_image']}", '400', '')  . " />
								</a>
							") : ("")) . "
							{$entry['entry']} <!--IBF.ATTACHMENT_{$entry['entry_id']}-->")) . "
						<br class='clear'/><br />
					</div>
					
					<!-- Reputation: -->
					
					<div class='ipsPad'>
						" . ( method_exists( $this->registry->getClass('output')->getTemplate('portal'), 'repButtons' ) ? $this->registry->getClass('output')->getTemplate('portal')->repButtons($entry, array_merge( array( 'primaryId' => $entry['entry_id'], 'domLikeStripId' => 'like_post_' . $entry['entry_id'], 'domCountId' => 'rep_post_' . $entry['entry_id'], 'app' => 'blog', 'type' => 'entry_id', 'likeFormatted' => $entry['like']['formatted'] ), $entry )) : '' ) . "<br class='clear' />
					</div>
				</div>
			</div>
		</div>
		" . (($this->settings['sl_enable'] || $this->memberData['member_id']) ? ("<div class='ipsPad'>
				" . (($this->memberData['member_id']) ? ("
					<div class='right'>
						<a class='ipsButton_secondary' href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=actions&amp;section=report&amp;blogid={$blog['blog_id']}&amp;eid={$entry['entry_id']}&amp;do=report", "public",'' ), "", "" ) . "\">{$this->lang->words['com_report_entry']}</a>
					</div>
				") : ("")) . "
				" . IPSLib::shareLinks( $entry['entry_name'], array( 'skip' => array( 'print', 'download' ) ) ) . "
			</div>
			<br />") : ("")) . "
		
		" . (($comments_html) ? ("
			<br class='clear' />
			{$comments_html}
		") : ("")) . "
		" . (($trackbacks_html) ? ("
			<br />
			{$trackbacks_html}
		") : ("")) . "
	</div>
	
	<!-- LEFT SIDEBAR -->
	" . (($cblocks['left']) ? ("
		{$cblocks['left']}
	") : ("")) . "
	
	<!-- Left bar comes before this -->
	<span id='sidebar_holder'></span>
	<!-- Right bar comes after -->
	
	" . (($cblocks['right']) ? ("
		{$cblocks['right']}
	") : ("")) . "
</div>
" . ((!$this->settings['disable_lightbox']) ? ("
	" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'include_lightbox' ) ? $this->registry->getClass('output')->getTemplate('global')->include_lightbox() : '' ) . "
") : ("")) . "
" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'include_highlighter' ) ? $this->registry->getClass('output')->getTemplate('global')->include_highlighter(1) : '' ) . "";
return $IPBHTML;
}


function __f__09b1a53de1f5a15dc72fdea9a47255af($blog, $comments_html, $header, $entry, $poll_html, $trackbacks_html, $links, $cblocks, $follow, $tags=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( array(1,2,3,4,5) as $_rating )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
								" . (($blog['_allow_rating']) ? ("<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=actions&amp;section=dorate&amp;secure_key={$this->member->form_hash}&amp;blogid={$entry['blog_id']}&amp;entry_id={$entry['entry_id']}&amp;rating={$_rating}", "public",'' ), "", "" ) . "' id='entry_rate_{$_rating}' title='{$this->lang->words['top_js_'.$_rating.'star']}'>") : ("")) . "" . (($entry['_rate_int'] >= $_rating) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "" . (($blog['_allow_rating']) ? ("</a>") : ("")) . "
							
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- blogView --*/
function blogView($blog, $links, $entries=array(), $dates=array(), $cblocks=array(), $followData="") {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_blog_show', $this->_funcHooks['blogView'] ) )
{
$count_870a4896a21683faafd2ba250010f7be = is_array($this->functionData['blogView']) ? count($this->functionData['blogView']) : 0;
$this->functionData['blogView'][$count_870a4896a21683faafd2ba250010f7be]['blog'] = $blog;
$this->functionData['blogView'][$count_870a4896a21683faafd2ba250010f7be]['links'] = $links;
$this->functionData['blogView'][$count_870a4896a21683faafd2ba250010f7be]['entries'] = $entries;
$this->functionData['blogView'][$count_870a4896a21683faafd2ba250010f7be]['dates'] = $dates;
$this->functionData['blogView'][$count_870a4896a21683faafd2ba250010f7be]['cblocks'] = $cblocks;
$this->functionData['blogView'][$count_870a4896a21683faafd2ba250010f7be]['followData'] = $followData;
}

// Set some variables
				$prev_entrydate		= "";
				$prev_entrymonth	= "";
				$this->_totalEntries = count( $entries );
$IPBHTML .= "<script type='text/javascript'>
	ipb.blog.inEntry = 1;
	ipb.blog.ownerID = {$this->registry->blogFunctions->blog['member_id']};
	ipb.blog.blogID = {$this->registry->blogFunctions->blog['blog_id']};
	ipb.blog.blogURL = \"{$this->settings['blog_url']}\";
	ipb.blog.withBlocks = true;
</script>
{$followData}
<h1 class='ipsType_pagetitle' style=\"font-size: 20px;\">
	{$blog['blog_name']}
	" . (($blog['blog_settings']['rssfeedburner']) ? ("
		<a href=\"http://feeds.feedburner.com/{$blog['blog_settings']['rssfeedburner']}\"><img src='{$this->settings['img_url']}/feed.png' alt='' /></a>		
	") : ("
		<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=rss&amp;type=blog&amp;blogid={$blog['blog_id']}", "public",'' ), "{$blog['blog_seo_name']}", "blogrss" ) . "\"><img src='{$this->settings['img_url']}/feed.png' alt='' /></a>
	")) . "
</h1>
<br />
<div class='topic_controls clearfix'>
	{$links}
	<ul class='topic_buttons'>
		" . (($this->registry->getClass('blogFunctions')->ownsBlog( $blog, $this->memberData ) OR in_array( $this->memberData['member_id'], $blog['blog_settings']['editors'] )) ? ("<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=post&amp;section=post&amp;do=showform&amp;blogid={$blog['blog_id']}", "public",'' ), "", "" ) . "'>{$this->lang->words['add_entry']}</a></li>
			" . (($this->registry->getClass('blogFunctions')->ownsBlog( $blog, $this->memberData )) ? ("<li><a href='#blocks' id='content_blocks' class='ipbmenu'>{$this->lang->words['add_cblocks']}<img src='{$this->settings['img_url']}/opts_arrow.png' alt='' /></a></li>
				" . (($this->settings['blog_themes']) ? ("
					<!--li><a href='#themes' id='themes_menu' class='ipbmenu'>{$this->lang->words['themes_menu']}<img src='{$this->settings['img_url']}/opts_arrow.png' alt='' /></a></li-->
				") : ("")) . "
				<li><a href=\"#\" id='blog-{$blog['blog_id']}__mod_options' class='ipbmenu'>{$this->lang->words['blog_ucp_options']}<img src='{$this->settings['img_url']}/opts_arrow.png' alt='' /></a></li>") : ("")) . "") : ("")) . "
		<li class='non_button'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=archive&amp;blogid={$this->request['blogid']}", "public",'' ), "{$blog['blog_seo_name']}", "blogarchive" ) . "\">{$this->lang->words['blog_archive']}</a></li>
	</ul>
	" . (($this->registry->getClass('blogFunctions')->ownsBlog( $blog, $this->memberData )) ? ("<ul class='ipbmenu_content' id='blog-{$blog['blog_id']}__mod_options_menucontent'>
			" . (($blog['_type'] != 'editor' AND $blog['blog_type'] != 'external' AND $blog['_type'] != 'privateclub' AND $blog['blog_type'] != 'external') ? ("<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=manage&amp;section=settings&amp;blogid={$blog['blog_id']}", "public",'' ), "false", "manageblog" ) . "' title='{$this->lang->words['bucpo_settings']}'>" . $this->registry->getClass('output')->getReplacement("generic_cog") . " {$this->lang->words['bucpo_settings']}</a></li>
				<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=manage&amp;section=categories&amp;blogid={$blog['blog_id']}", "public",'' ), "false", "manageblog" ) . "' title='{$this->lang->words['bucpo_categories']}'><img src=\"{$this->settings['img_url']}/blog/categories.png\" alt='' /> {$this->lang->words['bucpo_categories']}</a></li>
				<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=manage&amp;section=comments&amp;blogid={$blog['blog_id']}", "public",'' ), "false", "manageblog" ) . "' title='{$this->lang->words['bucpo_comments']}'><img src=\"{$this->settings['img_url']}/blog/comments.png\" alt='' /> {$this->lang->words['bucpo_comments']}</a></li>
				" . (($this->settings['blog_allow_rssimport'] AND $this->memberData['g_blog_rsspergo']) ? ("
					<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=manage&amp;section=settings&act=rssimport&amp;blogid={$blog['blog_id']}", "public",'' ), "false", "manageblog" ) . "' title='{$this->lang->words['bucpo_rssform']}'><img src=\"{$this->settings['img_url']}/blog/rss.png\" alt='' /> {$this->lang->words['bucpo_rssform']}</a></li>
				") : ("")) . "") : ("" . (($blog['_type'] != 'editor' AND $blog['_type'] != 'privateclub') ? ("
					<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=manage&amp;section=settings&amp;blogid={$blog['blog_id']}", "public",'' ), "false", "manageblog" ) . "' title='{$this->lang->words['bucpo_settings']}'>" . $this->registry->getClass('output')->getReplacement("generic_cog") . " {$this->lang->words['bucpo_settings']}</a></li>
				") : ("")) . "")) . "
		</ul>") : ("")) . "
</div>
<br class='clear' />
<div id='main_blog_wrapper' class='clearfix" . (($cblocks['left']) ? (" with_left") : ("")) . "" . (($cblocks['right']) ? (" with_right") : ("")) . "'>
	
	<!-- MAIN CONTENT -->
	<div id='main_column'>
		<!-- Pagination -->
		" . ((!is_array($entries) || !count($entries)) ? ("<p class='no_messages ipsType_subtitle short'>
				" . (($this->request['cat'] OR $this->request['tag']) ? ("{$this->lang->words['no_entry_matches']}") : ("{$blog['blog_name']} {$this->lang->words['no_entries_yet']}")) . "
			</p>") : ("
						<div class='backColor'>
				".$this->__f__60a7690018d7256a132191c1aa5e55d7($blog,$links,$entries,$dates,$cblocks,$followData)."				<br class='clear' />
			</div>
		")) . "
		<br />
		<!-- Pagination -->
		" . (($links) ? ("
			{$links}
			<br class='clear' />
		") : ("")) . "
		<br />
	</div>
	
	<!-- LEFT SIDEBAR -->
	" . (($cblocks['left']) ? ("
		{$cblocks['left']}
	") : ("")) . "
	
	<!-- Left bar comes before this -->
	<span id='sidebar_holder'></span>
	<!-- Right bar comes after -->
	
	" . (($cblocks['right']) ? ("
		{$cblocks['right']}
	") : ("")) . "
	
</div>
" . ((!$this->settings['disable_lightbox']) ? ("
	" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'include_lightbox' ) ? $this->registry->getClass('output')->getTemplate('global')->include_lightbox() : '' ) . "
") : ("")) . "
" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'include_highlighter' ) ? $this->registry->getClass('output')->getTemplate('global')->include_highlighter(1) : '' ) . "";
return $IPBHTML;
}


function __f__60a7690018d7256a132191c1aa5e55d7($blog, $links, $entries=array(), $dates=array(), $cblocks=array(), $followData="")
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $entries as $entry )
	{
		
$this->_showOpts = ( $entry['publish'] OR $entry['lock'] OR $entry['del_button'] OR $entry['edit_button'] OR $entry['allow_feature'] ) ? 1 : 0;

		$__iteratorCount++;
		$_ips___x_retval .= "
										<div class='ipsBox_container'>
						<div class='entry" . (($entry['entry_featured']) ? (" featured") : ("")) . "" . (($entry['entry_status'] != 'published') ? (" moderated") : ("")) . "" . (($entry['hide_private']) ? (" private") : ("")) . "' id='entry_{$entry['entry_id']}'>
							<div class='entry_header row2 ipsPad_half'>
								<div class='ipsPad_half right' id='entry_header_right'>
									" . (($this->_showOpts) ? ("<div id='entry-{$entry['entry_id']}-options' class='ipbmenu ipsButton_secondary clickable right'>{$this->lang->words['bview_options']}</div>
										<ul class='ipbmenu_content menu_blog' id='entry-{$entry['entry_id']}-options_menucontent' style='display: none;'>
											" . (($entry['publish'] == 'publish') ? ("
												<li><strong><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=post&amp;section=mod&amp;do=dopublish&amp;entryid={$entry['entry_id']}&amp;blogid={$this->request['blogid']}&amp;auth_key={$this->member->form_hash}", "public",'' ), "", "" ) . "'>{$this->lang->words['publish_entry']}</a></strong></li>
											") : ("")) . "
											" . (($entry['publish'] == 'draft' AND ! $entry['entry_featured']) ? ("
												<li><strong><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=post&amp;section=mod&amp;do=dodraft&amp;entryid={$entry['entry_id']}&amp;blogid={$this->request['blogid']}&amp;auth_key={$this->member->form_hash}", "public",'' ), "", "" ) . "'>{$this->lang->words['make_draft']}</a></strong></li>
											") : ("")) . "
											" . (($entry['lock'] == 'lock') ? ("
												<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=post&amp;section=mod&amp;do=dolock&amp;entryid={$entry['entry_id']}&amp;blogid={$this->request['blogid']}&amp;auth_key={$this->member->form_hash}", "public",'' ), "", "" ) . "'>{$this->lang->words['lock_entry']}</a></li>
											") : ("")) . "
											" . (($entry['lock'] == 'unlock') ? ("
												<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=post&amp;section=mod&amp;do=dounlock&amp;entryid={$entry['entry_id']}&amp;blogid={$this->request['blogid']}&amp;auth_key={$this->member->form_hash}", "public",'' ), "", "" ) . "'>{$this->lang->words['unlock_entry']}</a></li>
											") : ("")) . "
											" . (($entry['del_button']) ? ("
												<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=post&amp;section=mod&amp;do=dodelentry&amp;entryid={$entry['entry_id']}&amp;blogid={$this->request['blogid']}&amp;auth_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' class='delete_entry'>{$this->lang->words['entry_delete']}</a></li>
											") : ("")) . "
											" . (($entry['edit_button']) ? ("
												<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=post&amp;section=post&amp;do=editentry&amp;eid={$entry['entry_id']}&amp;blogid={$this->request['blogid']}", "public",'' ), "", "" ) . "\">{$this->lang->words['entry_edit']}</a></li>
											") : ("")) . "
											" . (($entry['send_trackback']) ? ("
												<li>
													<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=external&amp;section=trackback&amp;do=sendtb&amp;blogid={$entry['blog_id']}&amp;eid={$entry['entry_id']}&amp;s={$this->member->session_id}", "public",'' ), "", "" ) . "\" id='sendtb_{$entry['entry_id']}'>{$this->lang->words['send_trackback']}</a>
												</li>
											") : ("")) . "
											" . (($entry['allow_feature']) ? ("" . (($entry['entry_featured']) ? ("
													<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;blogid={$entry['blog_id']}&amp;showentry={$entry['entry_id']}&amp;feature=1", "public",'' ), "{$entry['entry_name_seo']}", "showentry" ) . "' onclick=\"return confirm('{$this->lang->words['feature_confirm_undo']}');\">{$this->lang->words['feature_undo']}</a></li>
												") : ("		
													<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;blogid={$entry['blog_id']}&amp;showentry={$entry['entry_id']}&amp;feature=1", "public",'' ), "{$entry['entry_name_seo']}", "showentry" ) . "' onclick=\"return confirm('{$this->lang->words['feature_confirm_do']}');\">{$this->lang->words['feature_do']}</a></li>
												")) . "") : ("")) . "
											" . (($entry['entry_banish'] AND $this->memberData['g_is_supmod']) ? ("
												<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;blogid={$entry['blog_id']}&amp;showentry={$entry['entry_id']}&amp;banish=1", "public",'' ), "{$entry['entry_name_seo']}", "showentry" ) . "'\">{$this->lang->words['bentry_unbanish']}</a></li>
											") : ("")) . "
										</ul>") : ("")) . "	
									<!-- BADGES -->
									" . (($entry['entry_status'] != 'published') ? ("<span class='ipsBadge ipsBadge_red'>" . (($entry['entry_future_date']) ? ("{$this->lang->words['entry_is_future_date']}") : ("{$this->lang->words['entry_is_a_draft']}")) . "</span>") : ("")) . "
									" . (($entry['entry_featured']) ? ("<span class='ipsBadge ipsBadge_green'>{$this->lang->words['entry_is_featured']}</span>") : ("")) . "
								</div>
								{$entry['tags']['formatted']['prefix']}
								<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$entry['member_id']}", "public",'' ), "{$entry['members_seo_name']}", "showuser" ) . "' class='ipsUserPhotoLink left ipsPad_half'>
									<img src='{$entry['pp_small_photo']}' alt='{$this->lang->words['photo']}' class='ipsUserPhoto ipsUserPhoto_medium' />
								</a>
								<h2 class='ipsType_pagetitle'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;blogid={$entry['blog_id']}&amp;showentry={$entry['entry_id']}", "public",'' ), "{$entry['entry_name_seo']}", "showentry" ) . "\" title='{$this->lang->words['view_entry_alt']}'>{$entry['entry_name']}</a></h2>
								
								<div class='desc'>
									" . (($entry['entry_rss_import']) ? ("" . $this->registry->getClass('output')->getReplacement("blog_rss_import") . "&nbsp;") : ("")) . "
									{$this->lang->words['posted_by']} <strong>" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($entry) : '' ) . "</strong>, 
									" . (($entry['_categories']) ? ("
										" . ( method_exists( $this->registry->getClass('output')->getTemplate('blog_global'), 'catsAsList' ) ? $this->registry->getClass('output')->getTemplate('blog_global')->catsAsList($entry['blog_id'], $entry['_categories']) : '' ) . "
									") : ("")) . "
									" . (($entry['entry_future_date']) ? ("<img src=\"{$this->settings['img_url']}/blog/time_entry.png\" data-tooltip=\"{$entry['entry_date']}\" title=\"{$entry['entry_date']}\" />&nbsp;") : ("")) . "" . $this->registry->getClass('class_localization')->getDate($entry['_entry_date'],"short2", 1) . "" . (($this->settings['blog_enable_rating']) ? (" - <span title=\"{$this->lang->words['entryhas_votes']} " . $this->registry->getClass('class_localization')->formatNumber( $entry['_rate_int'] ) . " {$this->lang->words['rate_out_of']}; {$this->lang->words['rate_votes']} " . $this->registry->getClass('class_localization')->formatNumber( $entry['entry_rating_count'] ) . "\">" . ( method_exists( $this->registry->getClass('output')->getTemplate('blog_list'), 'blog_rating' ) ? $this->registry->getClass('output')->getTemplate('blog_list')->blog_rating($entry['_rate_int']) : '' ) . "</span>") : ("")) . "
									 &middot; 
									" . $this->registry->getClass('class_localization')->formatNumber( $entry['entry_views'] ) . " {$this->lang->words['blog_num_views']}
								</div>
								" . ((!empty( $entry['tags']['formatted'] )) ? ("
									<span class='ipsType_small desc blend_links'><img src='{$this->settings['img_url']}/icon_tag.png' /> {$entry['tags']['formatted']['truncatedWithLinks']}</span>
								") : ("")) . "
								<br class='clear' />
							</div>
							<div class='entry_content ipsType_textblock ipsPad'>
								" . (($entry['hide_private']) ? ("
									{$this->lang->words['blog_private_entry']}
									<div class='desc right'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;blogid={$entry['blog_id']}&amp;showentry={$entry['entry_id']}&amp;showprivate=1", "public",'' ), "{$entry['entry_name_seo']}", "showentry" ) . "\">{$this->lang->words['blog_show_privateentry']} {$this->lang->words['_rarr']}</a></div>
								") : ("" . (($this->settings['blog_list_full']) ? ("" . (($entry['entry_image']) ? ("
											<a href='{$this->settings['upload_url']}/{$entry['entry_image']}' rel='lightbox' class='ipsPad_half left'>
												<img src='{$this->settings['upload_url']}/thumb_{$entry['entry_image']}' alt='{$entry['entry_name']}' />
											</a>
										") : ("")) . "
										{$entry['entry']}
										<!--IBF.ATTACHMENT_{$entry['entry_id']}-->") : ("" . (($entry['entry_image']) ? ("
											<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;blogid={$entry['blog_id']}&amp;showentry={$entry['entry_id']}", "public",'' ), "", "" ) . "' class='ipsPad_half left'>
												<img src='{$this->settings['upload_url']}/thumb_{$entry['entry_image']}' alt='{$entry['entry_name']}' " . IPSLib::getTemplateDimensions("{$this->settings['upload_url']}/{$entry['entry_image']}", '', '')  . " />
											</a>
										") : ("")) . "
										{$entry['entry_short']}")) . "")) . "
								<br class='clear'/>
								<br />
								<div class='isPad'>
									" . (($entry['_hasMore']) ? ("
										<br /><br />
										<div class='right'>
											<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;blogid={$entry['blog_id']}&amp;showentry={$entry['entry_id']}", "public",'' ), "{$entry['entry_name_seo']}", "showentry" ) . "\">
												<span class='ipsButton_more position'>{$this->lang->words['read_more_go_on']}</span>
											</a>
										</div>
									") : ("")) . "
									" . (($entry['entry_queued_comments'] && $entry['_can_approve']) ? ("<span class='ipsBadge ipsBadge_orange' data-tooltip=\"" . sprintf( $this->lang->words['entry_queued_comments'], $entry['entry_queued_comments'] ) . "\">{$this->lang->words['f_queued_badge']}</span>") : ("")) . "
									" . (($entry['entry_locked']) ? ("" . $this->registry->getClass('output')->getReplacement("blog_locked") . "") : ("" . (($entry['entry_num_comments'] AND $entry['entry_last_comment_date'] > $entry['_lastRead']) ? ("" . $this->registry->getClass('output')->getReplacement("blog_comments_new") . "") : ("" . $this->registry->getClass('output')->getReplacement("blog_comments") . "")) . "")) . "
									<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;blogid={$entry['blog_id']}&amp;showentry={$entry['entry_id']}", "public",'' ), "{$entry['entry_name_seo']}", "showentry" ) . "#commentsStart\">{$entry['entry_num_comments']} {$this->lang->words['entry_comments']}</a>
								</div>
							</div>
						</div>
					</div>
					<br />
				
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- entryAlbum --*/
function entryAlbum($album="",$album_id) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_blog_show', $this->_funcHooks['entryAlbum'] ) )
{
$count_65db128ee5343e55c16be5c62bc420a6 = is_array($this->functionData['entryAlbum']) ? count($this->functionData['entryAlbum']) : 0;
$this->functionData['entryAlbum'][$count_65db128ee5343e55c16be5c62bc420a6]['album'] = $album;
$this->functionData['entryAlbum'][$count_65db128ee5343e55c16be5c62bc420a6]['album_id'] = $album_id;
}
$IPBHTML .= "" . (($this->memberData['g_slideshows']) ? ("
	<ul class='topic_options'>
		<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=gallery&amp;module=images&amp;section=slideshow&amp;show=first&amp;album={$album_id}&amp;duration=5&amp;closewindow=1&amp;hfoff=1", "public",'' ), "", "" ) . "\">" . $this->registry->getClass('output')->getReplacement("gallery_slideshow") . " {$this->lang->words['slideshow']}</a></li>
	</ul>
") : ("")) . "
<div id='attach_wrap' class='rounded clearfix'>
	<ul>
		".$this->__f__e6a0568043a922cee4981678eb6ac569($album,$album_id)."	</ul>
</div>
<br />";
return $IPBHTML;
}


function __f__e6a0568043a922cee4981678eb6ac569($album="",$album_id)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $album as $img )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			<li>{$img}</li> 
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- entryTrackbacks --*/
function entryTrackbacks($entry_id="",$rows=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_blog_show', $this->_funcHooks['entryTrackbacks'] ) )
{
$count_edfc12a662cc9f94c90f28d3975be45b = is_array($this->functionData['entryTrackbacks']) ? count($this->functionData['entryTrackbacks']) : 0;
$this->functionData['entryTrackbacks'][$count_edfc12a662cc9f94c90f28d3975be45b]['entry_id'] = $entry_id;
$this->functionData['entryTrackbacks'][$count_edfc12a662cc9f94c90f28d3975be45b]['rows'] = $rows;
}

if ( ! isset( $this->registry->templateStriping['trackbacks'] ) ) {
$this->registry->templateStriping['trackbacks'] = array( FALSE, "row1","row2");
}
$IPBHTML .= "<a id='trackbacks'></a>
<h3>{$this->lang->words['entry_trackback_forentry']} <span class='trackback_url'>[ <a title=\"{$this->lang->words['show_trackback_url']}\" href=\"#\" onclick=\"link_to_trackbackurl(); return false;\">{$this->lang->words['entry_trackback_url']}</a> ]</span></h3>
" . ((is_array( $rows ) && count( $rows )) ? ("
	<div id='trackbacks'>
				".$this->__f__2f3c2050b72e5a7ce8e2c1849f978c1a($entry_id,$rows)."	</div>
") : ("
	<p class='no_messages'>{$this->lang->words['entry_no_trackbacks']}</p>
")) . "
			
<script type=\"text/javascript\">
//<![CDATA[
	function link_to_trackbackurl(){
		temp = prompt( \"{$this->lang->words['trackback_url_prompt']}\", \"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&module=external&section=trackback&eid={$entry_id}", "public",'' ), "", "" ) . "\" );
		return false;
	}
//]]>
</script>";
return $IPBHTML;
}


function __f__2f3c2050b72e5a7ce8e2c1849f978c1a($entry_id="",$rows=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $rows as $trackback )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			" . (($trackback['trackback_queued']) ? ("
				<div class='trackback moderated'>
			") : ("
				<div class='trackback " .  IPSLib::next( $this->registry->templateStriping["trackbacks"] ) . "'>
			")) . "
			
				<h4>
					<a href=\"{$trackback['trackback_url']}\" title=\"{$trackback['trackback_excerpt']}\" target=\"_blank\">{$trackback['trackback_title']}</a> {$this->lang->words['trackback_from']} {$trackback['trackback_blog_name']}
				</h4>
			
				<span class='posted_date desc'>
					{$this->lang->words['trackback_on']} {$trackback['trackback_date']}
				</span>
				
				<ul class='ipsList_inline right ipsType_small'>
					" . (($trackback['trackback_queued']) ? ("
						<li><strong><a href=\"{$this->settings['base_url']}app=blog&module=post&amp;section=mod&amp;do=doapprovetb&amp;blogid={$trackback['blog_id']}&amp;eid={$trackback['entry_id']}&amp;tbid={$trackback['trackback_id']}&amp;st={$this->request['st']}&amp;auth_key={$trackback['key']}\">{$this->lang->words['trackback_approve']}</a></strong></li>
					") : ("")) . "
					" . (($trackback['allow_deltrackback']) ? ("<li><strong><a href=\"{$this->settings['base_url']}app=blog&module=post&amp;section=mod&amp;do=dodeltrackback&amp;blogid={$trackback['blog_id']}&amp;eid={$trackback['entry_id']}&amp;tbid={$trackback['trackback_id']}&amp;st={$this->request['st']}&amp;auth_key={$trackback['key']}\">{$this->lang->words['trackback_delete']}</a></strong></li>
						" . (($this->settings['blog_akismet_key']) ? ("" . (($trackback['trackback_queued']) ? ("
								<li><strong><a href=\"{$this->settings['blog_url']}module=actions&amp;section=report&amp;do=submitham&amp;blogid={$trackback['blog_id']}&amp;cid={$trackback['trackback_id']}&amp;st={$this->request['st']}&amp;trackback=1\" title='{$this->lang->words['submit_ham_over']}'>{$this->lang->words['submit_ham']}</a></strong></li>
							") : ("
								<li><strong><a href=\"{$this->settings['blog_url']}module=actions&amp;section=report&amp;do=submitspam&amp;blogid={$trackback['blog_id']}&amp;cid={$trackback['trackback_id']}&amp;st={$this->request['st']}&amp;trackback=1\" title='{$this->lang->words['submit_spam_over']}'>{$this->lang->words['submit_spam']}</a></strong></li>
							")) . "") : ("")) . "") : ("")) . "
				</ul>
			</div>
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- pollDisplay --*/
function pollDisplay($poll, $entry, $pollData, $showResults) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_blog_show', $this->_funcHooks['pollDisplay'] ) )
{
$count_4af2f52c8801e30125f47cc21ca020f1 = is_array($this->functionData['pollDisplay']) ? count($this->functionData['pollDisplay']) : 0;
$this->functionData['pollDisplay'][$count_4af2f52c8801e30125f47cc21ca020f1]['poll'] = $poll;
$this->functionData['pollDisplay'][$count_4af2f52c8801e30125f47cc21ca020f1]['entry'] = $entry;
$this->functionData['pollDisplay'][$count_4af2f52c8801e30125f47cc21ca020f1]['pollData'] = $pollData;
$this->functionData['pollDisplay'][$count_4af2f52c8801e30125f47cc21ca020f1]['showResults'] = $showResults;
}
$IPBHTML .= "<script type='text/javascript'>
	ipb.templates['poll_voters'] = new Template(\"<h3 class='bar'>{$this->lang->words['who_voted_for']} #{title}</h3><div class='general_box'>#{content}</div>\");
</script>
<div class='general_box alt poll' id='poll_{$poll['pid']}'>
	<form action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=actions&amp;section=dovote&amp;eid={$entry['entry_id']}&amp;blogid={$this->request['blogid']}&amp;st={$this->request['st']}&amp;auth_key={$this->member->form_hash}", "public",'' ), "", "" ) . "\" method=\"post\">
		<h3>{$this->lang->words['poll_prefix']} {$poll['poll_question']}" . (($showResults) ? (" <span class='desc'>({$poll['_totalVotes']} {$this->lang->words['votes_cast_suffix']})</span>") : ("")) . "</h3>
		" . (($this->settings['poll_allow_public'] AND $poll['poll_view_voters'] AND ! $showResults) ? ("
			<div class='message unspecified'>{$this->lang->words['public_poll']}</div>
		") : ("")) . "
		".$this->__f__dcdf5027d4e702ea5971702592a39519($poll,$entry,$pollData,$showResults)."		" . ((!$entry['entry_locked']) ? ("<fieldset class='submit'>
			<legend>{$this->lang->words['vote_legend']}</legend>
			
			" . (($this->memberData['member_id']) ? ("" . ((! $poll['_memberVoted']) ? ("" . ((($poll['starter_id'] == $this->memberData['member_id']) and ($this->settings['allow_creator_vote'] != 1)) ? ("
						{$this->lang->words['poll_you_created']}
					") : ("<!-- VOTE Button -->
						" . (($this->request['mode'] != 'show') ? ("
							<input class='input_submit' type=\"submit\" name=\"submit\" value=\"{$this->lang->words['poll_add_vote']}\" title=\"{$this->lang->words['tt_poll_vote']}\" />
						") : ("")) . "
						<!-- SHOW Button -->
						" . (($this->settings['allow_result_view'] == 1) ? ("" . (($this->request['mode'] != 'show') ? ("
								<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;blogid={$entry['blog_id']}&amp;showentry={$entry['entry_id']}&amp;mode=show&amp;st={$this->request['st']}", "public",'' ), "{$entry['entry_name_seo']}", "showentry" ) . "' title='{$this->lang->words['tt_poll_show']}' id='poll_showresults' class='input_submit alt'>{$this->lang->words['pl_show_results']}</a>
							") : ("")) . "") : ("
							<input class='input_submit' type=\"submit\" name=\"nullvote\" value=\"{$this->lang->words['poll_null_vote']}\" title=\"{$this->lang->words['tt_poll_null']}\" />
						")) . "")) . "") : ("")) . "") : ("
				{$this->lang->words['poll_no_guests']}
			")) . "
		</fieldset>") : ("")) . "
	</form>
</div>";
return $IPBHTML;
}


function __f__a3ffffae017d57c8124645126c91b1e2($poll, $entry, $pollData, $showResults,$questionID='',$questionData='',$choiceID='',$choiceData='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $choiceData['voters'] as $id => $member )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
												users += \"<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$member['member_id']}", "public",'' ), "{$member['members_seo_name']}", "showuser" ) . "'>{$member['members_colored_name']}</a>" . (($member['_last'] == 0) ? (", ") : ("")) . "\";
											
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__9a4b158acb372216ac26cc9c3a79f294($poll, $entry, $pollData, $showResults,$questionID='',$questionData='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $pollData[ $questionID ]['choices'] as $choiceID => $choiceData )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
							" . (($showResults) ? ("<li>
									<span class='answer'>" . ((is_array( $choiceData['voters'] ) AND in_array( $this->memberData['member_id'], array_keys( $choiceData['voters'] ) )) ? (" " . $this->registry->getClass('output')->getReplacement("your_vote") . " ") : ("")) . "{$choiceData['choice']}</span>
									" . (($poll['poll_view_voters'] AND is_array( $choiceData['voters'] ) AND $this->settings['poll_allow_public'] AND $choiceData['votes']) ? ("
										<a href='#' class='votes' id='l_voters_{$questionID}_{$choiceID}' title='{$this->lang->words['view_voters']}'>({$choiceData['votes']} {$this->lang->words['votes']} [{$choiceData['percent']}%] - <strong>{$this->lang->words['view_votes_link']}</strong>)</a>
									") : ("
										<span class='votes'> ({$choiceData['votes']} {$this->lang->words['votes']} [{$choiceData['percent']}%])</span>
									")) . "
									" . (($poll['poll_view_voters'] AND is_array( $choiceData['voters'] ) AND $this->settings['poll_allow_public'] AND $choiceData['votes']) ? ("
										<script type='text/javascript'>
											$('l_voters_{$questionID}_{$choiceID}').observe('click', ipb.topic.showVoters.bindAsEventListener( this, {$questionID}, {$choiceID} ) );
											if( Object.isUndefined( ipb.topic.poll[ $questionID ] ) ){
												ipb.topic.poll[ $questionID ] = [];
											}
											
											var users = \"\";
											
											".$this->__f__a3ffffae017d57c8124645126c91b1e2($poll,$entry,$pollData,$showResults,$questionID,$questionData,$choiceID,$choiceData)."											ipb.topic.poll[ $questionID ][ $choiceID ] = { name: \"{$choiceData['choice']}\", users: users};
										</script>
									") : ("")) . "
									<p class='progress_bar topic_poll' title='Percentage of vote: {$choiceData['percent']}%'>
										<span style='width: {$choiceData['percent']}%'><span>{$this->lang->words['percentage_of_votes']} {$choiceData['percent']}%</span></span>
									</p>
								</li>") : ("" . (($choiceData['type'] == 'multi') ? ("
									<li><input type='checkbox' id='choice_{$questionID}_{$choiceID}' name='choice_{$questionID}_{$choiceID}' value='1' class='input_check' /> <label for='choice_{$questionID}_{$choiceID}'>{$choiceData['choice']}</label></li>
								") : ("
									<li><input type='radio' name='choice[{$questionID}]' id='choice_{$questionID}_{$choiceID}' class='input_radio' value='{$choiceID}' /> <label for='choice_{$questionID}_{$choiceID}'>{$choiceData['choice']}</label></li>
								")) . "")) . "
						
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__dcdf5027d4e702ea5971702592a39519($poll, $entry, $pollData, $showResults)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $pollData as $questionID => $questionData )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			<div class='poll_question" . (($showResults) ? (" voted") : ("")) . "'>
				<h4>{$pollData[ $questionID ]['question']}</h4>
				" . ((! $this->settings['allow_result_view'] AND ! $this->memberData['member_id']) ? ("
					{$this->lang->words['poll_noview_guest']}
				") : ("
					<ol>
						".$this->__f__9a4b158acb372216ac26cc9c3a79f294($poll,$entry,$pollData,$showResults,$questionID,$questionData)."					</ol>
				")) . "
			</div>
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- show_attachment_title --*/
function show_attachment_title($title="",$data="",$type="") {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_blog_show', $this->_funcHooks['show_attachment_title'] ) )
{
$count_d89566a0357ed4e06b35e7abaea4d405 = is_array($this->functionData['show_attachment_title']) ? count($this->functionData['show_attachment_title']) : 0;
$this->functionData['show_attachment_title'][$count_d89566a0357ed4e06b35e7abaea4d405]['title'] = $title;
$this->functionData['show_attachment_title'][$count_d89566a0357ed4e06b35e7abaea4d405]['data'] = $data;
$this->functionData['show_attachment_title'][$count_d89566a0357ed4e06b35e7abaea4d405]['type'] = $type;
}
$IPBHTML .= "<div id='attach_wrap' class='rounded clearfix'>
	<h4>{$title}</h4>
	<ul>
		".$this->__f__1a9013d288d411bfcc5e744711646cd9($title,$data,$type)."	</ul>
</div>";
return $IPBHTML;
}


function __f__1a9013d288d411bfcc5e744711646cd9($title="",$data="",$type="")
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $data as $file )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			<li class='" . (($type == 'attach') ? ("clear") : ("")) . "'>
				{$file}
			</li>
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- Show_attachments --*/
function Show_attachments($data="") {
$IPBHTML = "";
$IPBHTML .= "<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=attach&amp;section=attach&amp;attach_id={$data['attach_id']}", "public",'' ), "", "" ) . "\" title=\"{$this->lang->words['attach_dl']}\"><img src=\"{$this->settings['public_dir']}{$data['mime_image']}\" alt=\"{$this->lang->words['attached_file']}\" /></a>
&nbsp;<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=attach&amp;section=attach&amp;attach_id={$data['attach_id']}", "public",'' ), "", "" ) . "\" title=\"{$this->lang->words['attach_dl']}\">{$data['attach_file']}</a> <span class='desc'><strong>({$data['file_size']})</strong></span>
<br /><span class=\"desc info\">{$this->lang->words['attach_hits']}: {$data['attach_hits']}</span>";
return $IPBHTML;
}

/* -- Show_attachments_img --*/
function Show_attachments_img($data=array()) {
$IPBHTML = "";
$IPBHTML .= "<a class='resized_img' rel='lightbox[{$data['attach_rel_id']}]' id='ipb-attach-url-{$data['_attach_id']}' href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=attach&amp;section=attach&amp;attach_rel_module={$data['type']}&amp;attach_id={$data['attach_id']}", "public",'' ), "", "" ) . "\" title=\"{$data['location']} - {$this->lang->words['attach_size']} {$data['file_size']}, {$this->lang->words['attach_ahits']} {$data['attach_hits']}\"><img src=\"{$this->settings['blog_upload_url']}/{$data['o_location']}\" class='bbc_img linked-image' alt=\"{$this->lang->words['pic_attach']}: {$data['location']}\" /></a>";
return $IPBHTML;
}

/* -- Show_attachments_img_thumb --*/
function Show_attachments_img_thumb($data=array()) {
$IPBHTML = "";
$IPBHTML .= "<a class='resized_img' rel='lightbox[{$data['attach_rel_id']}]' id='ipb-attach-url-{$data['_attach_id']}' href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=attach&amp;section=attach&amp;attach_rel_module={$data['type']}&amp;attach_id={$data['attach_id']}", "public",'' ), "", "" ) . "\" title=\"{$data['location']} - {$this->lang->words['attach_size']} {$data['file_size']}, {$this->lang->words['attach_ahits']} {$data['attach_hits']}\"><img src=\"{$this->settings['blog_upload_url']}/{$data['t_location']}\" id='ipb-attach-img-{$data['_attach_id']}' style='width:{$data['t_width']};height:{$data['t_height']}' class='attach' width=\"{$data['t_width']}\" height=\"{$data['t_height']}\" alt=\"{$this->lang->words['pic_attach']}\" /></a>";
return $IPBHTML;
}


}


/*--------------------------------------------------*/
/* END OF FILE                                      */
/*--------------------------------------------------*/

?>