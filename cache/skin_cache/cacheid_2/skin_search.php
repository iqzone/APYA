<?php
/*--------------------------------------------------*/
/* FILE GENERATED BY INVISION POWER BOARD 3         */
/* CACHE FILE: Skin set id: 2               */
/* CACHE FILE: Generated: Wed, 29 Aug 2012 14:15:00 GMT */
/* DO NOT EDIT DIRECTLY - THE CHANGES WILL NOT BE   */
/* WRITTEN TO THE DATABASE AUTOMATICALLY            */
/*--------------------------------------------------*/

class skin_search_2 extends skinMaster{

/**
* Construct
*/
function __construct( ipsRegistry $registry )
{
	parent::__construct( $registry );
	

$this->_funcHooks = array();
$this->_funcHooks['activePostsView'] = array('ACFixHelp','ACInactiveFixHelp','ACOnThisTab','ACloopAll','APapps','NCresultsAsForum','subResult','results','NPasForumAC','AChasResults','AChasResultsPages');
$this->_funcHooks['asForumPosts'] = array('notLastFtAsForum','topicsForumTrail','haslastpage','pages','resultIsPostAsForum','isNewPostAsForum','multipages');
$this->_funcHooks['asForumTopics'] = array('notLastFtAsForum','topicsForumTrail','resultIsPostAsForum','isNewPostAsForum','multipages','isNewContent');
$this->_funcHooks['calEventRangedSearchResult'] = array('showCalendarContent');
$this->_funcHooks['calEventSearchResult'] = array('showCalendarContent');
$this->_funcHooks['followedContentForumsWrapper'] = array('NCresultsAsForum');
$this->_funcHooks['followedContentForumsWrapperForums'] = array('NCresultsAsForum');
$this->_funcHooks['followedContentView'] = array('supportsLikes','apps','searchedApp','NPTotal','memberFollow','memberFollow');
$this->_funcHooks['forumAdvancedSearchFilters'] = array('noOptsSphinxforums');
$this->_funcHooks['helpSearchResult'] = array('showHelpContent');
$this->_funcHooks['memberCommentsSearchResult'] = array('isUpdate','hasMore','maxReplies');
$this->_funcHooks['newContentView'] = array('appIsSearched','appIsSearchable','apps','canFollowFilter','forumsTab','membersTab','helpTab','hazVNC','hazMember','checked','hasFilters','vncFilterForumsOnly','NPTotal');
$this->_funcHooks['newPostsView'] = array('NPhasResults','NPTotal');
$this->_funcHooks['searchAdvancedForm'] = array('searchTermsRemoved','searchError');
$this->_funcHooks['searchResults'] = array('subResult','results');
$this->_funcHooks['searchResultsWrapper'] = array('hasSearchResults','forumsTab','membersTab','helpTab','helpTab','searchResultsTermsRemoved','hasSearchResults','noResultsTerm','hasTotal');
$this->_funcHooks['searchRowGenericFormat'] = array('showGenericContent');
$this->_funcHooks['topicPostSearchResult'] = array('notLastFtAsForum','topicsForumTrail','haslastpage','pages','resultIsPost','isNewPost','multipages');
$this->_funcHooks['topicPostSearchResultAsForum'] = array('whichWayToGo');
$this->_funcHooks['userPostsView'] = array('appIsSearched','appIsSearchable','apps','NPhasResults','forumsTab','membersTab','helpTab','NPTotal');


}

/* -- activePostsView --*/
function activePostsView($results, $pagination, $total, $asForum) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_search', $this->_funcHooks['activePostsView'] ) )
{
$count_5341d27a761e844724f8e99c3cc50735 = is_array($this->functionData['activePostsView']) ? count($this->functionData['activePostsView']) : 0;
$this->functionData['activePostsView'][$count_5341d27a761e844724f8e99c3cc50735]['results'] = $results;
$this->functionData['activePostsView'][$count_5341d27a761e844724f8e99c3cc50735]['pagination'] = $pagination;
$this->functionData['activePostsView'][$count_5341d27a761e844724f8e99c3cc50735]['total'] = $total;
$this->functionData['activePostsView'][$count_5341d27a761e844724f8e99c3cc50735]['asForum'] = $asForum;
}

if ( ! isset( $this->registry->templateStriping['searchStripe'] ) ) {
$this->registry->templateStriping['searchStripe'] = array( FALSE, "row1","row2");
}
$IPBHTML .= "<h2>" . sprintf($this->lang->words['active_content'], $this->lang->words['actperiod_' . $this->request['period'] ]) . "</h2>
<p class='message'>
	{$this->lang->words['active_have_been']} <em><strong>{$total}</strong></em> " . sprintf($this->lang->words['active_entries'], $this->lang->words['actperiod_' . $this->request['period'] ]) . "
</p>
<br />
<div class='topic_controls'>
{$pagination}
</div>
<ol id='member_alpha' class='tab_bar no_title'>
	".$this->__f__15c4a212e5c6fa2cc1e2299f7ea16cb5($results,$pagination,$total,$asForum)."</ol>
" . (($total) ? ("" . (($asForum) ? ("
		<table class='ipb_table topic_list' id='forum_table'>
			<tr class='header'>
				<th scope='col' class='col_f_icon'>&nbsp;</th>
				<th scope='col' class='col_f_topic'>{$this->lang->words['forum_topic']}</th>
				<th scope='col' class='col_f_starter'>{$this->lang->words['forum_forum']}</th>
				<th scope='col' class='col_f_starter short'>{$this->lang->words['forum_started_by']}</th>
				<th scope='col' class='col_f_views stats'>{$this->lang->words['forum_stats']}</th>
				<th scope='col' class='col_f_post'>{$this->lang->words['forum_last_post_info']}</th>
			</tr>
			".$this->__f__e5e5b009d400a3aafe0bad174894d76e($results,$pagination,$total,$asForum)."		</table>
	") : ("
				<div id='search_results'>
			<ol>
				".$this->__f__0d0817bbf2fb1023797aced3c8a3fc80($results,$pagination,$total,$asForum)."			</ol>
		</div>
	")) . "") : ("
	<div class='no_messages'>{$this->lang->words['active_none']}</div>
")) . "
<div class='filter_bar rounded clear clearfix'>
	<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=active&amp;search_filter_app[{$app['app_directory']}]=1", "public",'' ), "", "" ) . "' method='post'>
	<div class='right'>
		{$this->lang->words['getactive_for']} 
		<select name='period'>
			<option value='today'" . (($this->request['period']=='today') ? (" selected='selected'") : ("")) . ">{$this->lang->words['actperiod_today']}</option>
			<option value='week'" . (($this->request['period']=='week') ? (" selected='selected'") : ("")) . ">{$this->lang->words['actperiod_week']}</option>
			<option value='weeks'" . (($this->request['period']=='weeks') ? (" selected='selected'") : ("")) . ">{$this->lang->words['actperiod_weeks']}</option>
			<option value='month'" . (($this->request['period']=='month') ? (" selected='selected'") : ("")) . ">{$this->lang->words['actperiod_month']}</option>
			<option value='months'" . (($this->request['period']=='months') ? (" selected='selected'") : ("")) . ">{$this->lang->words['actperiod_months']}</option>
			<option value='year'" . (($this->request['period']=='year') ? (" selected='selected'") : ("")) . ">{$this->lang->words['actperiod_year']}</option>
		</select>&nbsp;
		<input type=\"submit\" name=\"gobutton\" value=\"{$this->lang->words['active_go']}\" class=\"input_submit alt\" />
	</div>
	</form>
</div>
" . (($total) ? ("
	<br class='clear' />{$pagination}
") : ("")) . "";
return $IPBHTML;
}


function __f__15c4a212e5c6fa2cc1e2299f7ea16cb5($results, $pagination, $total, $asForum)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $this->registry->getApplications() as $app )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
		" . ((IPSLib::appIsSearchable( $app['app_directory'] )) ? ("" . (($this->request['search_app'] == $app['app_directory']) ? ("<li class='active'><strong>" . ((strtolower($app['app_title']) == 'system') ? ("{$this->lang->words['livesearch_helpfiles']}") : ("" . IPSLib::getAppTitle( $app['app_directory'] ) . "")) . "</strong></li>") : ("<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=active&amp;search_filter_app[{$app['app_directory']}]=1&amp;period={$this->request['period']}", "public",'' ), "", "" ) . "'>" . ((strtolower($app['app_title']) == 'system') ? ("{$this->lang->words['livesearch_helpfiles']}") : ("" . IPSLib::getAppTitle( $app['app_directory'] ) . "")) . "</a></li>")) . "") : ("")) . "
	
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__e5e5b009d400a3aafe0bad174894d76e($results, $pagination, $total, $asForum)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $results as $result )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
				{$result['html']}
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__0d0817bbf2fb1023797aced3c8a3fc80($results, $pagination, $total, $asForum)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $results as $result )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "	
					" . (($result['sub']) ? ("
						<li class='" .  IPSLib::next( $this->registry->templateStriping["searchStripe"] ) . " sub clearfix clear'>
							{$result['html']}
						</li>
					") : ("
						<li class='" .  IPSLib::next( $this->registry->templateStriping["searchStripe"] ) . " clearfix clear'>
							{$result['html']}
						</li>
					")) . "
				
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- asForumPosts --*/
function asForumPosts($data) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_search', $this->_funcHooks['asForumPosts'] ) )
{
$count_b3d8d67c551ab15d06799ed6d7c60e0a = is_array($this->functionData['asForumPosts']) ? count($this->functionData['asForumPosts']) : 0;
$this->functionData['asForumPosts'][$count_b3d8d67c551ab15d06799ed6d7c60e0a]['data'] = $data;
}
$IPBHTML .= "<div class='row'>
	<div class='icon'>" . $this->registry->getClass('output')->getReplacement("{$data['_icon']}") . "</div>
	<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$data['type_id_2']}&amp;view=" . (($this->request['do']=='new_posts' OR $this->request['do']=='active') ? ("getnewpost") : ("" . (($data['misc']) ? ("findpost&amp;p={$data['misc']}") : ("")) . "")) . "&amp;hl={$this->request['search_higlight']}&amp;fromsearch=1", "public",'' ), "{$data['title_seo']}", "showtopic" ) . "' title='" . (($data['_shortTitle'] != $data['_longTitle']) ? ("{$data['_longTitle']}") : ("{$this->lang->words['view_result']}")) . "'><strong>{$data['_shortTitle']}</strong></a>
	
	{$this->lang->words['in']}
	".$this->__f__a1d64bc8cbea4c9285e3d73f95d569fd($data)."	
	" . ((isset( $data['pages'] ) AND is_array( $data['pages'] ) AND count( $data['pages'] )) ? ("
		<span class='mini_pagination'>
			".$this->__f__387e8a7eb02dd08d5a8483972eda74d8($data)."		</span>
	") : ("")) . "
	<br />
	<span class='subtext'>" . sprintf( $this->lang->words['sr_as_post_string'], $data['post_date'], $data['members_display_name'] ) . "</span>
</div>";
return $IPBHTML;
}


function __f__a1d64bc8cbea4c9285e3d73f95d569fd($data)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $data['_forum_trail'] as $i => $f )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
		" . (($i+1 == count( $data['_forum_trail'] )) ? ("<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$f[1]}", "public",'' ), "{$f[2]}", "showforum" ) . "'>{$f[0]}</a>") : ("")) . "
	
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__387e8a7eb02dd08d5a8483972eda74d8($data)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $data['pages'] as $page )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
				" . (($page['last']) ? ("
					<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$data['tid']}&amp;st={$page['st']}", "public",'' ), "{$data['title_seo']}", "showtopic" ) . "\" title='{$this->lang->words['topic_goto_page']} {$page['page']}'>{$page['page']} {$this->lang->words['_rarr']}</a>
				") : ("
					<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$data['tid']}&amp;st={$page['st']}", "public",'' ), "{$data['title_seo']}", "showtopic" ) . "\" title='{$this->lang->words['topic_goto_page']} {$page['page']}'>{$page['page']}</a>
				")) . "
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- asForumTopics --*/
function asForumTopics($data) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_search', $this->_funcHooks['asForumTopics'] ) )
{
$count_5bd1d7b35115a8c4d6875a9acd1dc871 = is_array($this->functionData['asForumTopics']) ? count($this->functionData['asForumTopics']) : 0;
$this->functionData['asForumTopics'][$count_5bd1d7b35115a8c4d6875a9acd1dc871]['data'] = $data;
}
$IPBHTML .= "<div class='row touch-row " . ((!empty( $data['_unreadUrl'] )) ? ("unread") : ("")) . "' id=\"sr-{$data['type_id_2']}\">
	<div class='icon'>
		" . ( method_exists( $this->registry->getClass('output')->getTemplate('global_other'), 'generateTopicIcon' ) ? $this->registry->getClass('output')->getTemplate('global_other')->generateTopicIcon($data['_icon'], $data['_unreadUrl']) : '' ) . "	
	</div>
	<div class='rowContent'>
		<a class=\"title\" href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$data['type_id_2']}&amp;view=" . (($this->request['do']=='viewNewContent') ? ("getnewpost") : ("" . (($data['misc']) ? ("findpost&amp;p={$data['misc']}") : ("")) . "")) . "&amp;hl={$this->request['search_higlight']}&amp;fromsearch=1", "public",'' ), "{$data['title_seo']}", "showtopic" ) . "' title='" . (($data['_shortTitle'] != $data['_longTitle']) ? ("{$data['_longTitle']}") : ("{$this->lang->words['view_result']}")) . "'>{$data['_shortTitle']}</a>
		" . ((isset( $data['pages'] ) AND is_array( $data['pages'] ) AND count( $data['pages'] )) ? ("
			<span class='mini_pagination'>
				" . sprintf( $this->lang->words['mini_page_count'], $data['pages'][0]['total'] ) . "
			</span>
		") : ("")) . "
		<div>
			" . ucfirst($this->lang->words['in']) . "".$this->__f__8b68f27cb03e2bbecdd091e59a9983ce($data)."		</div>
		" . (($this->request['do']=='viewNewContent') ? ("
			<span class='subtext'>" . sprintf( $this->lang->words['sr_as_lastpost_string'], "<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$data['tid']}&amp;view=getlastpost", "public",'' ), "{$data['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['goto_last_post']}'>" . $this->registry->getClass('class_localization')->getDate( $data['last_post'], 'SHORT' ) . "</a>", $data['last_poster'] ) . "</span>
		") : ("
			<span class='subtext'>" . sprintf( $this->lang->words['sr_as_post_string'], "<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$data['tid']}&amp;view=getlastpost", "public",'' ), "{$data['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['goto_last_post']}'>" . $this->registry->getClass('class_localization')->getDate( $data['post_date'], 'SHORT' ) . "</a>", $data['last_poster'] ) . "</span>
		")) . "
	</div>
</div>";
return $IPBHTML;
}


function __f__8b68f27cb03e2bbecdd091e59a9983ce($data)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $data['_forum_trail'] as $i => $f )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
				" . (($i+1 == count( $data['_forum_trail'] )) ? ("{$f[0]}") : ("")) . "
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- calEventRangedSearchResult --*/
function calEventRangedSearchResult($r, $resultAsTitle=false) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_search', $this->_funcHooks['calEventRangedSearchResult'] ) )
{
$count_0018f3121314e9b49d9041feff3b5eeb = is_array($this->functionData['calEventRangedSearchResult']) ? count($this->functionData['calEventRangedSearchResult']) : 0;
$this->functionData['calEventRangedSearchResult'][$count_0018f3121314e9b49d9041feff3b5eeb]['r'] = $r;
$this->functionData['calEventRangedSearchResult'][$count_0018f3121314e9b49d9041feff3b5eeb]['resultAsTitle'] = $resultAsTitle;
}
$IPBHTML .= "<div class='result_info'>
	<h3><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;cal_id={$r['type_id']}&amp;do=showevent&amp;event_id={$r['type_id_2']}&amp;hl={$this->request['search_higlight']}", "public",'' ), "", "" ) . "'>{$r['content_title']}</a> (" . $this->registry->getClass('class_localization')->getDate($r['updated'],"short", 0) . " {$this->lang->words['to']} " . $this->registry->getClass('class_localization')->getDate($r['misc'],"short", 0) . ")</h3>
	" . ((!$resultAsTitle) ? ("
	<p>
		{$r['content']}
	</p>
	") : ("")) . "
</div>
<div class='result_details desc'>
	<ul>
		<li>{$this->lang->words['search_by']} " . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($r) : '' ) . "</li>
	</ul>
</div>";
return $IPBHTML;
}

/* -- calEventSearchResult --*/
function calEventSearchResult($r, $resultAsTitle=false) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_search', $this->_funcHooks['calEventSearchResult'] ) )
{
$count_989edd7206c0969b4e9eebc9ea84c0ab = is_array($this->functionData['calEventSearchResult']) ? count($this->functionData['calEventSearchResult']) : 0;
$this->functionData['calEventSearchResult'][$count_989edd7206c0969b4e9eebc9ea84c0ab]['r'] = $r;
$this->functionData['calEventSearchResult'][$count_989edd7206c0969b4e9eebc9ea84c0ab]['resultAsTitle'] = $resultAsTitle;
}
$IPBHTML .= "<div class='result_info'>
	<h3><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;cal_id={$r['type_id']}&amp;do=showevent&amp;event_id={$r['type_id_2']}&amp;hl={$this->request['search_higlight']}", "public",'' ), "", "" ) . "'>{$r['content_title']}</a> (" . $this->registry->getClass('class_localization')->getDate($r['updated'],"short", 0) . " {$this->lang->words['to']} " . $this->registry->getClass('class_localization')->getDate($r['misc'],"short", 0) . ")</h3>
	" . ((!$resultAsTitle) ? ("
	<p>
		{$r['content']}
	</p>
	") : ("")) . "
</div>
<div class='result_details desc'>
	<ul>
		<li>{$this->lang->words['search_by']} " . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($r) : '' ) . "</li>
	</ul>
</div>";
return $IPBHTML;
}

/* -- followData --*/
function followData($followData) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- followedContentForumsWrapper --*/
function followedContentForumsWrapper($results) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_search', $this->_funcHooks['followedContentForumsWrapper'] ) )
{
$count_1d21acda08a7361bd439a139e074872d = is_array($this->functionData['followedContentForumsWrapper']) ? count($this->functionData['followedContentForumsWrapper']) : 0;
$this->functionData['followedContentForumsWrapper'][$count_1d21acda08a7361bd439a139e074872d]['results'] = $results;
}
$IPBHTML .= "" . ((count($results)) ? ("".$this->__f__4261455eba0ee9588b475ab16431303f($results)."") : ("")) . "";
return $IPBHTML;
}


function __f__4261455eba0ee9588b475ab16431303f($results)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $results as $result )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
		{$result['html']}
	
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- followedContentForumsWrapperForums --*/
function followedContentForumsWrapperForums($results) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_search', $this->_funcHooks['followedContentForumsWrapperForums'] ) )
{
$count_24c29db72c4fce16597081883d5ef951 = is_array($this->functionData['followedContentForumsWrapperForums']) ? count($this->functionData['followedContentForumsWrapperForums']) : 0;
$this->functionData['followedContentForumsWrapperForums'][$count_24c29db72c4fce16597081883d5ef951]['results'] = $results;
}
$IPBHTML .= "<script type='text/javascript'>
//<![CDATA[
	var markerURL  = ipb.vars['base_url'] + \"app=forums&module=ajax&section=markasread&i=1\"; // Ajax URL so don't use &amp;
	var unreadIcon = \"<img src='{$this->settings['img_url']}/f_icon_read.png' />\";
//]]>
</script>
<div class='master_list'>
	".$this->__f__109809ed2c27239b5dacc59057eda99a($results)."</div>";
return $IPBHTML;
}


function __f__109809ed2c27239b5dacc59057eda99a($results)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $results as $forum_data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
		<div class='row touch-row'>
			<div class='rowContent'>
				<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showforum={$forum_data['id']}", "public",'' ), "{$forum_data['name_seo']}", "showforum" ) . "\" title='{$forum_data['name']}'>{$forum_data['name']}</a>
				<br />
				<span class='desc'>
					<strong>{$forum_data['topics']}</strong> {$this->lang->words['topics']}, <strong>{$forum_data['posts']}</strong> {$this->lang->words['replies']}
				</span>
			</div>
		</div>
	
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- followedContentView --*/
function followedContentView($results, $pagination, $total, $error, $contentTypes) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_search', $this->_funcHooks['followedContentView'] ) )
{
$count_8cfe8f1f0e95fa3c44d9334fdeebd813 = is_array($this->functionData['followedContentView']) ? count($this->functionData['followedContentView']) : 0;
$this->functionData['followedContentView'][$count_8cfe8f1f0e95fa3c44d9334fdeebd813]['results'] = $results;
$this->functionData['followedContentView'][$count_8cfe8f1f0e95fa3c44d9334fdeebd813]['pagination'] = $pagination;
$this->functionData['followedContentView'][$count_8cfe8f1f0e95fa3c44d9334fdeebd813]['total'] = $total;
$this->functionData['followedContentView'][$count_8cfe8f1f0e95fa3c44d9334fdeebd813]['error'] = $error;
$this->functionData['followedContentView'][$count_8cfe8f1f0e95fa3c44d9334fdeebd813]['contentTypes'] = $contentTypes;
}
$IPBHTML .= "" . (($pagination) ? ("
<div class='controls'>
	<div class='buttons'>{$pagination}</ul>
</div>
") : ("")) . "
<div class='master_list'>
	<h2>
		{$this->lang->words['followed_content']} (" . (($this->request['search_app']) ? ("" . IPSLib::getAppTitle( $this->request['search_app'] ) . "") : ("{$this->lang->words['search_all']}")) . ")
	</h2>
	<div>
		" . (($total) ? ("
			{$results}
		") : ("
			<p class='no_messages'>{$this->lang->words['followed_content_none']}</p>
		")) . "
	</div>
</div>
<div class='master_list'>
	<h2>{$this->lang->words['filter_by_app']}</h2>
	<div class='ipsPad'>
		<ul>
		" . ((IPSLib::appSupportsExtension( 'forums', array('like') )) ? ("<li class='button secondary'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=followed&amp;search_app=forums&amp;sid={$this->request['_sid']}", "public",'' ), "", "" ) . "'>" . IPSLib::getAppTitle( 'forums' ) . "</a></li>") : ("")) . "
		" . ((IPSLib::appSupportsExtension( 'members', array('like') )) ? ("<li <if class='button secondary'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=followed&amp;search_app=members&amp;sid={$this->request['_sid']}", "public",'' ), "", "" ) . "'>" . IPSLib::getAppTitle( 'members' ) . "</a></li>") : ("")) . "
		".$this->__f__78f841015866757568534e64cda23347($results,$pagination,$total,$error,$contentTypes)."		</ul>
	</div>
</div>
<div class='master_list'>
	<h2>{$this->lang->words['filter_by_section']}</h2>
	<div class='ipsPad'>
		<ul>
			".$this->__f__0dab890497d44fe63231c2e83639ed76($results,$pagination,$total,$error,$contentTypes)."		</ul>
	</div>
</div>";
return $IPBHTML;
}


function __f__78f841015866757568534e64cda23347($results, $pagination, $total, $error, $contentTypes)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $this->registry->getApplications() as $app )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			" . ((IPSLib::appSupportsExtension( $app['app_directory'], array('like') ) AND !in_array( $app['app_directory'], array('core','forums','members') )) ? ("
				<li class='button secondary'>
					<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=followed&amp;search_app={$app['app_directory']}&amp;sid={$this->request['_sid']}", "public",'' ), "", "" ) . "'>
						" . IPSLib::getAppTitle( $app['app_directory'] ) . "
					</a>
				</li>
				") : ("")) . "
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__0dab890497d44fe63231c2e83639ed76($results, $pagination, $total, $error, $contentTypes)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $contentTypes as $type )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
				<li class='button secondary'>
					<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=followed&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;contentType={$type}", "public",'' ), "", "" ) . "'>{$this->lang->words['followed_type__' . $type]}</a>
				</li>
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- forumAdvancedSearchFilters --*/
function forumAdvancedSearchFilters($forums) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_search', $this->_funcHooks['forumAdvancedSearchFilters'] ) )
{
$count_6f1e463f61e63737b656c836aae20a88 = is_array($this->functionData['forumAdvancedSearchFilters']) ? count($this->functionData['forumAdvancedSearchFilters']) : 0;
$this->functionData['forumAdvancedSearchFilters'][$count_6f1e463f61e63737b656c836aae20a88]['forums'] = $forums;
}
$IPBHTML .= "<div class='ipsField'>
	<label class='ipsField_title'>{$this->lang->words['find_forum']}</label>
	<select name='search_app_filters[forums][forums][]' class='input_select' size='6' style='width: 20em' multiple='multiple'>
		{$forums}
	</select>
</div>
" . (($this->settings['search_method'] != 'sphinx') ? ("
	<!--<div class='ipsField'>
		<input id='f_content_only' type='checkbox' name='search_app_filters[forums][contentOnly]' class='input_checkbox' value='1' /> 		
		<label class='ipsField_content'>{$this->lang->words['s_search_posts']}</label>
	</div>-->
") : ("")) . "";
return $IPBHTML;
}

/* -- forumsVncFilters --*/
function forumsVncFilters($data, $currentPrefs) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- helpSearchResult --*/
function helpSearchResult($r, $resultAsTitle=false) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_search', $this->_funcHooks['helpSearchResult'] ) )
{
$count_9d1b2db5c6685540d2e8010511fc1960 = is_array($this->functionData['helpSearchResult']) ? count($this->functionData['helpSearchResult']) : 0;
$this->functionData['helpSearchResult'][$count_9d1b2db5c6685540d2e8010511fc1960]['r'] = $r;
$this->functionData['helpSearchResult'][$count_9d1b2db5c6685540d2e8010511fc1960]['resultAsTitle'] = $resultAsTitle;
}
$IPBHTML .= "<div class='result_info'>
	<h3><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=help&amp;do=01&amp;HID={$r['type_id_2']}&amp;hl={$this->request['search_higlight']}", "public",'' ), "", "" ) . "'>{$r['content_title']}</a></h3>
	" . ((!$resultAsTitle) ? ("
	<p>
		{$r['content']}
	</p>
	") : ("")) . "
</div>";
return $IPBHTML;
}

/* -- memberCommentsSearchResult --*/
function memberCommentsSearchResult($r, $resultAsTitle=false) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_search', $this->_funcHooks['memberCommentsSearchResult'] ) )
{
$count_f08600f19b0e7fe94723ac3b6dc57585 = is_array($this->functionData['memberCommentsSearchResult']) ? count($this->functionData['memberCommentsSearchResult']) : 0;
$this->functionData['memberCommentsSearchResult'][$count_f08600f19b0e7fe94723ac3b6dc57585]['r'] = $r;
$this->functionData['memberCommentsSearchResult'][$count_f08600f19b0e7fe94723ac3b6dc57585]['resultAsTitle'] = $resultAsTitle;
}
$IPBHTML .= "<span class='icon'>
	" . IPSMember::buildPhotoTag( $r['status_author'], 'small' ) . "
</span>
<div class='result_info'>
	<h3>
		" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($r['status_author']) : '' ) . "
		" . (($r['status_member_id'] != $r['status_author_id']) ? ("
			&rarr;
			" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($r['status_member']) : '' ) . "
		") : ("")) . "
	</h3>
	<span class='desc breadcrumb'>
		<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=status&amp;type=single&amp;status_id={$r['status_id']}", "public",'' ), "true", "members_status_single" ) . "'>{$this->lang->words['results_pf_comment']}</a>, " . $this->registry->getClass('class_localization')->getDate($r['status_date'],"short", 0) . "
	</span>
	<p>{$r['status_content']}</p>
	<div id=\"statusFeedback-{$r['status_id']}\" class='status_feedback'>
		" . (($r['status_replies'] AND count( $r['replies'] )) ? ("" . (($r['status_replies'] > 3) ? ("
				<div class='status_mini_wrap row2 altrow' id='statusMoreWrap-{$r['status_id']}'>
					<img src=\"{$this->settings['img_url']}/comments.png\" alt=\"\" /> &nbsp;<a href=\"#\" id=\"statusMore-{$r['status_id']}\" class='__showAll __x{$r['status_id']}'>" . sprintf( $this->lang->words['status_show_all_x'], $r['status_replies'] ) . "</a>
				</div>
			") : ("")) . "
			<ul id='statusReplies-{$r['status_id']}' class='ipsList_withtinyphoto clear'>
				" . ( method_exists( $this->registry->getClass('output')->getTemplate('profile'), 'statusReplies' ) ? $this->registry->getClass('output')->getTemplate('profile')->statusReplies($r['replies'], 1) : '' ) . "
			</ul>") : ("")) . "
		<div id='statusReplyBlank-{$r['status_id']}'></div>
		<div class='status_mini_wrap row2 altrow' id='statusMaxWrap-{$r['status_id']}' " . (($r['status_replies'] < $this->settings['su_max_replies']) ? ("style='display:none'") : ("")) . ">
			<img src=\"{$this->settings['img_url']}/locked_replies.png\" title=\"{$this->lang->words['status_too_many_replies']}\" alt='x' /> {$this->lang->words['status_too_many_replies']}
		</div>
	</div>
</div>";
return $IPBHTML;
}

/* -- memberSearchResult --*/
function memberSearchResult($r, $resultAsTitle=false) {
$IPBHTML = "";
$IPBHTML .= "<div class='row'>
	<div class='icon'>
		" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userSmallPhoto' ) ? $this->registry->getClass('output')->getTemplate('global')->userSmallPhoto($r) : '' ) . "
	</div>
	<strong>" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($r) : '' ) . "</strong><br />
	<span class='subtext'>{$this->lang->words['member_joined']} " . $this->registry->getClass('class_localization')->getDate($r['joined'],"short", 0) . "</span>
</div>";
return $IPBHTML;
}

/* -- newContentView --*/
function newContentView($results, $pagination, $total, $sortDropDown, $sortIn, $dateCutSet=0) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_search', $this->_funcHooks['newContentView'] ) )
{
$count_b403bcdde8dccb49165b251fd171ef6c = is_array($this->functionData['newContentView']) ? count($this->functionData['newContentView']) : 0;
$this->functionData['newContentView'][$count_b403bcdde8dccb49165b251fd171ef6c]['results'] = $results;
$this->functionData['newContentView'][$count_b403bcdde8dccb49165b251fd171ef6c]['pagination'] = $pagination;
$this->functionData['newContentView'][$count_b403bcdde8dccb49165b251fd171ef6c]['total'] = $total;
$this->functionData['newContentView'][$count_b403bcdde8dccb49165b251fd171ef6c]['sortDropDown'] = $sortDropDown;
$this->functionData['newContentView'][$count_b403bcdde8dccb49165b251fd171ef6c]['sortIn'] = $sortIn;
$this->functionData['newContentView'][$count_b403bcdde8dccb49165b251fd171ef6c]['dateCutSet'] = $dateCutSet;
}

$i = 2;
	
	if( is_array($sortIn) AND count( $sortIn ) ){ $i++;	}
	if( IPSLib::appIsSearchable( $this->request['search_app'], 'vncWithFollowFilter' ) AND $this->memberData['member_id'] ){ $i++; }
	
	switch( $i ){
		case 3:
			$classname = 'three_';
		break;
		case 4:
			$classname = 'four_';
		break;
		default:
			$classname = 'two_';
		break;
	}
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("search", "0" ) . "
<input type='hidden' name=\"usedInJsLater\" id=\"urlString\" value=\"" . base64_encode( $this->registry->output->buildUrl( "app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}", "public" ) ) . "\" />
<h2>{$this->lang->words['new_content']}</h2>	
<div class='ipsFilterBar {$classname}filters clearfix' id='vnc_filters'>
	<ul>
		<li id='filter_app' class='filter'><a href='#'>{$this->lang->words['short_filter_by_app']}</a></li>
		" . ((is_array($sortIn) AND count( $sortIn )) ? ("
			<li id='filter_section' class='filter'><a href='#'>{$this->lang->words['short_filter_by_section']}</a></li>
		") : ("")) . "
		<li id='filter_time' class='filter'><a href='#'>{$this->lang->words['short_filter_by_time']}</a></li>
		" . ((IPSLib::appIsSearchable( $this->request['search_app'], 'vncWithFollowFilter' ) AND $this->memberData['member_id']) ? ("
			<li id='filter_other' class='filter'><a href='#'>{$this->lang->words['short_filter_by_other']}</a></li>
		") : ("")) . "
	</ul>
</div>
<div class='ipsFilterPane' id='filter_app_pane' style='display: none'>
	<a href='#' class='ipsFilterPane_close'><span>&times;</span></a>
	<div>
		<h4>{$this->lang->words['mobile_filter_by_app']}</h4>
		<ul>
			" . ((IPSLib::appIsSearchable( 'forums', 'vnc' ) || IPSLib::appIsSearchable( 'forums', 'active' )) ? ("<li " . (($this->request['search_app'] == 'forums') ? ("class='active'") : ("")) . "><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=viewNewContent&amp;search_app=forums&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request[ $this->request['search_app_filters'][$this->request['search_app']]['searchInKey'] ]}&amp;period={$this->request['period']}&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}", "public",'' ), "", "" ) . "'>" . IPSLib::getAppTitle( 'forums' ) . "</a></li>") : ("")) . "" . ((IPSLib::appIsSearchable( 'members', 'vnc' ) || IPSLib::appIsSearchable( 'members', 'active' )) ? ("<li " . (($this->request['search_app'] == 'members') ? ("class='active'") : ("")) . "><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=viewNewContent&amp;search_app=members&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request[ $this->request['search_app_filters'][$this->request['search_app']]['searchInKey'] ]}&amp;period={$this->request['period']}&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}", "public",'' ), "", "" ) . "'>" . IPSLib::getAppTitle( 'members' ) . "</a></li>") : ("")) . "" . ((IPSLib::appIsSearchable( 'core', 'vnc' ) || IPSLib::appIsSearchable( 'core', 'active' )) ? ("<li " . (($this->request['search_app'] == 'core') ? ("class='active'") : ("")) . "><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=viewNewContent&amp;search_app=core&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request[ $this->request['search_app_filters'][$this->request['search_app']]['searchInKey'] ]}&amp;period={$this->request['period']}&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}", "public",'' ), "", "" ) . "'>" . IPSLib::getAppTitle( 'core' ) . "</a></li>") : ("")) . "".$this->__f__80c916c228757928adb0f0f84c729f57($results,$pagination,$total,$sortDropDown,$sortIn,$dateCutSet)."		</ul>
	</div>
</div>
" . ((is_array($sortIn) AND count( $sortIn )) ? ("
	<div class='ipsFilterPane' id='filter_section_pane' style='display: none'>
		<a href='#' class='ipsFilterPane_close'><span>&times;</span></a>
		<div>
			<h4>{$this->lang->words['mobile_filter_by_section']}</h4>
			<ul>
				".$this->__f__2aa542e71b69fdbac6b3f385c15eeaee($results,$pagination,$total,$sortDropDown,$sortIn,$dateCutSet)."			</ul>		
		</div>
	</div>
") : ("")) . "
<div class='ipsFilterPane' id='filter_time_pane' style='display: none'>
	<a href='#' class='ipsFilterPane_close'><span>&times;</span></a>
	<div>
		<h4>{$this->lang->words['mobile_filter_by_time']}</h4>
		<ul>
			" . (($this->memberData['member_id']) ? ("" . ((IPSLib::appIsSearchable( IPSSearchRegistry::get('in.search_app'), 'vncWithUnreadContent' )) ? ("<li " . (($this->request['period']=='unread') ? ("class='active'") : ("")) . ">
						<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;change=1&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;period=unread&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}", "public",'' ), "", "" ) . "'>{$this->lang->words['filter_not_read']}</a>
					</li>") : ("")) . "
				<li " . (($this->request['period']=='lastvisit') ? ("class='active'") : ("")) . ">
					<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;change=1&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;period=lastvisit&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}", "public",'' ), "", "" ) . "'>{$this->lang->words['filter_new_visit']}</a>
				</li>") : ("")) . "
			<li " . (($this->request['period']=='today') ? ("class='active'") : ("")) . ">
				<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;change=1&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;period=today&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}", "public",'' ), "", "" ) . "'>{$this->lang->words['actperiod_today']}</a>
			</li>
			<li " . (($this->request['period']=='week') ? ("class='active'") : ("")) . ">
				<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;change=1&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;period=week&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}", "public",'' ), "", "" ) . "'>{$this->lang->words['actperiod_week']}</a>
			</li>
			<li " . (($this->request['period']=='weeks') ? ("class='active'") : ("")) . ">
				<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;change=1&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;period=weeks&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}", "public",'' ), "", "" ) . "'>{$this->lang->words['actperiod_weeks']}</a>
			</li>
			<li " . (($this->request['period']=='month') ? ("class='active'") : ("")) . ">
				<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;change=1&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;period=month&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}", "public",'' ), "", "" ) . "'>{$this->lang->words['actperiod_month']}</a>
			</li>
			<li " . (($this->request['period']=='months') ? ("class='active'") : ("")) . ">
				<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;change=1&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;period=months&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}", "public",'' ), "", "" ) . "'>{$this->lang->words['actperiod_months']}</a>
			</li>
			<li " . (($this->request['period']=='year') ? ("class='active'") : ("")) . ">
				<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;change=1&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;period=year&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}", "public",'' ), "", "" ) . "'>{$this->lang->words['actperiod_year']}</a>
			</li>
		</ul>
	</div>
</div>
<div class='ipsFilterPane' id='filter_other_pane' style='display: none'>
	<a href='#' class='ipsFilterPane_close'><span>&times;</span></a>
	<div>
		<h4>{$this->lang->words['mobile_filter_by_other']}</h4>
		<ul>
			" . (($this->request['followedItemsOnly']) ? ("
				<li class=\"active\">
					<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request[ $this->request['search_app_filters'][$this->request['search_app']]['searchInKey'] ]}&amp;period={$this->request['period']}&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly=0", "public",'' ), "", "" ) . "'>{$this->lang->words['filter_i_follow']}</a>
				</li>
			") : ("
				<li>
					<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request[ $this->request['search_app_filters'][$this->request['search_app']]['searchInKey'] ]}&amp;period={$this->request['period']}&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly=1", "public",'' ), "", "" ) . "'>{$this->lang->words['filter_i_follow']}</a>
				</li>
			")) . "
			<li " . (($this->request['userMode'] == 'all') ? ("class='active'") : ("")) . "><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;period={$this->request['period']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}&amp;userMode=" . (($this->request['userMode'] != 'all') ? ("all") : ("")) . "", "public",'' ), "", "" ) . "'>{$this->lang->words['vnc_topics_and_posts']}</a></li>
			<li " . (($this->request['userMode'] == 'title') ? ("class='active'") : ("")) . "><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;period={$this->request['period']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}&amp;userMode=" . (($this->request['userMode'] != 'title') ? ("title") : ("")) . "", "public",'' ), "", "" ) . "'>{$this->lang->words['vnc_topics_only']}</a></li>
			<!--" . (($this->request['search_app'] == 'forums') ? ("<li " . ((IPSSearchRegistry::get('forums.vncForumFilters') != null) ? ("class='active'") : ("")) . "><a href='' id='vncForumFilter'>{$this->lang->words['vnc_filter_by_forum']}</a></li>") : ("")) . "-->
		</ul>
	</div>
</div>
		
" . (($total) ? ("<div class='master_list'>
		{$results}
	</div>
	" . (($pagination) ? ("
		<div class='controls'>
			<div class='buttons'>
				{$pagination}
			</div>
		</div>
	") : ("")) . "") : ("
	<p class='no_messages'>{$this->lang->words['new_content_none']}</p>
")) . "
<script type='text/javascript'>
	$('vnc_filters').on(\"click\", \"li.filter\", mobileFilter);
	$('ipboard_body').on(\"click\", \".ipsFilterPane_close\", closePane);
</script>";
return $IPBHTML;
}


function __f__80c916c228757928adb0f0f84c729f57($results, $pagination, $total, $sortDropDown, $sortIn, $dateCutSet=0)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $this->registry->getApplications() as $app )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
				" . (((IPSLib::appIsSearchable( $app['app_directory'], 'vnc' ) || IPSLib::appIsSearchable( $app['app_directory'], 'active' ) ) AND !in_array( $app['app_directory'], array('core','forums','members') )) ? ("<li " . (($this->request['search_app'] == $app['app_directory']) ? ("class='active'") : ("")) . ">
						<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$app['app_directory']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request[ $this->request['search_app_filters'][$this->request['search_app']]['searchInKey'] ]}&amp;period={$this->request['period']}&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}", "public",'' ), "", "" ) . "'>
							" . IPSLib::getAppTitle( $app['app_directory'] ) . "
						</a>
					</li>") : ("")) . "
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__2aa542e71b69fdbac6b3f385c15eeaee($results, $pagination, $total, $sortDropDown, $sortIn, $dateCutSet=0)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $sortIn as $id => $_data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
					<li " . (($this->request['search_app_filters'][$this->request['search_app']]['searchInKey'] == $_data[0]) ? ("class='active'") : ("")) . ">
						<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$_data['0']}&amp;period={$this->request['period']}&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}", "public",'' ), "", "" ) . "'>{$_data[1]}</a>
					</li>
				
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- newPostsView --*/
function newPostsView($results, $pagination, $total, $sortDropDown, $sortIn, $dateCutSet=0) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_search', $this->_funcHooks['newPostsView'] ) )
{
$count_f696d27f2a3ceea7c7fb8093108bf2db = is_array($this->functionData['newPostsView']) ? count($this->functionData['newPostsView']) : 0;
$this->functionData['newPostsView'][$count_f696d27f2a3ceea7c7fb8093108bf2db]['results'] = $results;
$this->functionData['newPostsView'][$count_f696d27f2a3ceea7c7fb8093108bf2db]['pagination'] = $pagination;
$this->functionData['newPostsView'][$count_f696d27f2a3ceea7c7fb8093108bf2db]['total'] = $total;
$this->functionData['newPostsView'][$count_f696d27f2a3ceea7c7fb8093108bf2db]['sortDropDown'] = $sortDropDown;
$this->functionData['newPostsView'][$count_f696d27f2a3ceea7c7fb8093108bf2db]['sortIn'] = $sortIn;
$this->functionData['newPostsView'][$count_f696d27f2a3ceea7c7fb8093108bf2db]['dateCutSet'] = $dateCutSet;
}
$IPBHTML .= "<div class='master_list'>
<h2>{$this->lang->words['new_content']}</h2>
" . (($total) ? ("
	<p class='message'>
		{$this->lang->words['new_content_there']} <strong>{$total}</strong> {$this->lang->words['new_content_entries']}
	</p>
	<div class=\"controls\">
<div class='buttons'>
		{$pagination}
	</div></div>
") : ("")) . "
" . (($total) ? ("
	{$results}
	
	<div class=\"controls\">
<div class='buttons'>
		{$pagination}
	</div></div>
") : ("
	<p class='row no_messages'>{$this->lang->words['new_content_none']}</p>
")) . "
</div>";
return $IPBHTML;
}

/* -- searchAdvancedForm --*/
function searchAdvancedForm($filters='', $msg='', $current_app, $removed_search_terms=array(), $isFT=false) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_search', $this->_funcHooks['searchAdvancedForm'] ) )
{
$count_0aca1f2e32e67196651cac99e26dd58b = is_array($this->functionData['searchAdvancedForm']) ? count($this->functionData['searchAdvancedForm']) : 0;
$this->functionData['searchAdvancedForm'][$count_0aca1f2e32e67196651cac99e26dd58b]['filters'] = $filters;
$this->functionData['searchAdvancedForm'][$count_0aca1f2e32e67196651cac99e26dd58b]['msg'] = $msg;
$this->functionData['searchAdvancedForm'][$count_0aca1f2e32e67196651cac99e26dd58b]['current_app'] = $current_app;
$this->functionData['searchAdvancedForm'][$count_0aca1f2e32e67196651cac99e26dd58b]['removed_search_terms'] = $removed_search_terms;
$this->functionData['searchAdvancedForm'][$count_0aca1f2e32e67196651cac99e26dd58b]['isFT'] = $isFT;
}
$IPBHTML .= "<form action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;section=search&amp;do=search", "public",'' ), "", "" ) . "&amp;fromsearch=1\" method=\"post\" id='search-box' >
<input type='hidden' name='search_app' id='search_app' value='{$this->request['search_app']}' />
<div class='master_list ipsForm_vertical'>
	<h2>{$this->lang->words['search']}</h2>
	
	" . ((is_array( $removed_search_terms ) && count( $removed_search_terms )) ? ("
		<div class='message error'>{$this->lang->words['removed_search_terms']} <strong>" . implode( ',', $removed_search_terms ) . "</strong></div>
	") : ("")) . "
	" . (($msg) ? ("
		<div class='message error'>{$msg}</div>
	") : ("")) . "
	
	<div class='ipsField'>
		<label for='query' class='ipsField_title'>{$this->lang->words['find_words']}</label>
		<input type='text' class='input_text' name='search_term' size='30' id='query' value='{$this->request['search_term']}' />
	</div>
	<div class='ipsField'>
		<label for='author' class='ipsField_title'>{$this->lang->words['find_author']}</label>
		<input type='text' class='input_text' name='search_author' size='30' id='author' value='{$this->request['search_author']}' />
	</div>
	
	<h3>{$this->lang->words['filters']}</h3>
	
	" . ((count($filters)) ? ("".$this->__f__860b308029e72d67370db4d40086b507($filters,$msg,$current_app,$removed_search_terms,$isFT)."		") : ("")) . "	
	<div class='submit'>
		<input type='submit' name='submit' class='button' value='{$this->lang->words['do_search']}'>
	</div>
</div>
</form>";
return $IPBHTML;
}


function __f__9ae277dac735163086d4da96b86aa065($filters='', $msg='', $current_app, $removed_search_terms=array(), $isFT=false,$app='',$data='',$id='',$_data='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $data['sortDropDown'][$_data[0]] as $k => $l )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
										<option value='$k' " . (($this->request['search_app_filters'][$app][$_data[0]]['sortKey'.$_data[0]] == $k) ? ("selected='selected'") : ("")) . ">{$l}</option>
									
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__2d5c1e8e7d0453660f9651c9d2bf5c43($filters='', $msg='', $current_app, $removed_search_terms=array(), $isFT=false,$app='',$data='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $data['sortDropIn'] as $id => $_data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
							<ul>
								<li>
									<label for='search_by_{$_data[0]}'>" . ((! $id) ? ("{$this->lang->words['s_member_sin']}") : ("&nbsp;")) . "</label>
									<input type='radio' name='search_app_filters[$app][searchInKey]' value='{$_data[0]}' " . (($this->request['search_app_filters'][$app]['searchInKey'] == $_data[0] || ( ! $this->request['search_app_filters'][$app]['searchInKey'] AND ! $id )) ? ("checked=\"checked\"") : ("")) . " /> $_data[1]
									<select name='search_app_filters[$app][{$_data[0]}][sortKey]' class='input_select' style='width:auto'>
									".$this->__f__9ae277dac735163086d4da96b86aa065($filters,$msg,$current_app,$removed_search_terms,$isFT,$app,$data,$id,$_data)."									</select>
									<select name='search_app_filters[$app][{$_data[0]}][sortDir]' class='input_select' style='width:auto'>
										<option value='0' " . ((!$this->request['search_app_filters'][$app][$_data[0]]['sortDir']) ? ("selected='selected'") : ("")) . ">{$this->lang->words['s_search_type_o_0']}</option>
										<option value='1' " . (($this->request['search_app_filters'][$app][$_data[0]]['sortDir']) ? ("selected='selected'") : ("")) . ">{$this->lang->words['s_search_type_o_1']}</option>
									</select>
								</li>
							</ul>
						
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__502c9c39953ef9d9043ca99de7075b2b($filters='', $msg='', $current_app, $removed_search_terms=array(), $isFT=false,$app='',$data='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $data['sortDropDown'] as $k => $l )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
									<option value='$k' " . (($this->request['search_app_filters'][$app]['sortKey'] == $k) ? ("selected='selected'") : ("")) . ">{$l}</option>
								
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__860b308029e72d67370db4d40086b507($filters='', $msg='', $current_app, $removed_search_terms=array(), $isFT=false)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $filters as $app => $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			" . (($app == 'forums') ? ("<div id='app_filter_{$app}'>
				" . ((!empty($data['html'])) ? ("
					{$data['html']}
				") : ("")) . "
				" . ((count($data['sortDropDown'])) ? ("" . ((is_array($data['sortDropIn']) AND count( $data['sortDropIn'] )) ? ("
						".$this->__f__2d5c1e8e7d0453660f9651c9d2bf5c43($filters,$msg,$current_app,$removed_search_terms,$isFT,$app,$data)."					") : ("<div class='ipsField'>
							<label for='search_by' class='ipsField_title'>{$this->lang->words['s_search_type']}</label>
							<select name='search_app_filters[$app][sortKey]' id='search_sort_by_{$app}' class='input_select' style='width:auto'>
								".$this->__f__502c9c39953ef9d9043ca99de7075b2b($filters,$msg,$current_app,$removed_search_terms,$isFT,$app,$data)."							</select>
							<select name='search_app_filters[$app][sortDir]' id='search_sort_order_{$app}' class='input_select' style='width:auto'>
								<option value='0' " . ((!$this->request['search_app_filters'][$app]['sortDir']) ? ("selected='selected'") : ("")) . ">{$this->lang->words['s_search_type_o_0']}</option>
								<option value='1' " . (($this->request['search_app_filters'][$app]['sortDir']) ? ("selected='selected'") : ("")) . ">{$this->lang->words['s_search_type_o_1']}</option>
							</select>
						</div>")) . "") : ("")) . "
			</div>") : ("")) . "
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- searchResults --*/
function searchResults($results, $titlesOnly) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_search', $this->_funcHooks['searchResults'] ) )
{
$count_a0c96efb464c49c6073cd754ba4e491a = is_array($this->functionData['searchResults']) ? count($this->functionData['searchResults']) : 0;
$this->functionData['searchResults'][$count_a0c96efb464c49c6073cd754ba4e491a]['results'] = $results;
$this->functionData['searchResults'][$count_a0c96efb464c49c6073cd754ba4e491a]['titlesOnly'] = $titlesOnly;
}

if ( ! isset( $this->registry->templateStriping['searchStripe'] ) ) {
$this->registry->templateStriping['searchStripe'] = array( FALSE, "row1","row2");
}
$IPBHTML .= "<div id='search_results'>
	<ol>
		" . ((is_array( $results )) ? ("".$this->__f__2b6571c26cf3e8ac928fca5a1e656146($results,$titlesOnly)."		") : ("")) . "
	</ol>
</div>";
return $IPBHTML;
}


function __f__2b6571c26cf3e8ac928fca5a1e656146($results, $titlesOnly)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $results as $result )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			" . (($result['sub']) ? ("
				<li class='" .  IPSLib::next( $this->registry->templateStriping["searchStripe"] ) . " sub clearfix clear'>
					{$result['html']}
				</li>
			") : ("
				<li class='" .  IPSLib::next( $this->registry->templateStriping["searchStripe"] ) . " clearfix clear'>
					{$result['html']}
				</li>
			")) . "
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- searchResultsAsForum --*/
function searchResultsAsForum($results, $titlesOnly) {
$IPBHTML = "";
$IPBHTML .= "" . ( method_exists( $this->registry->getClass('output')->getTemplate('search'), 'searchResults' ) ? $this->registry->getClass('output')->getTemplate('search')->searchResults($results, $titlesOnly) : '' ) . "";
return $IPBHTML;
}

/* -- searchResultsWrapper --*/
function searchResultsWrapper($results, $sortDropDown, $sortIn, $pagination, $total, $showing, $search_term, $url_string, $current_key, $removed_search_terms=array(), $limited=0, $wasLimited=false) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_search', $this->_funcHooks['searchResultsWrapper'] ) )
{
$count_f7422e37ee9708cfc8a427e8f9fd5fe4 = is_array($this->functionData['searchResultsWrapper']) ? count($this->functionData['searchResultsWrapper']) : 0;
$this->functionData['searchResultsWrapper'][$count_f7422e37ee9708cfc8a427e8f9fd5fe4]['results'] = $results;
$this->functionData['searchResultsWrapper'][$count_f7422e37ee9708cfc8a427e8f9fd5fe4]['sortDropDown'] = $sortDropDown;
$this->functionData['searchResultsWrapper'][$count_f7422e37ee9708cfc8a427e8f9fd5fe4]['sortIn'] = $sortIn;
$this->functionData['searchResultsWrapper'][$count_f7422e37ee9708cfc8a427e8f9fd5fe4]['pagination'] = $pagination;
$this->functionData['searchResultsWrapper'][$count_f7422e37ee9708cfc8a427e8f9fd5fe4]['total'] = $total;
$this->functionData['searchResultsWrapper'][$count_f7422e37ee9708cfc8a427e8f9fd5fe4]['showing'] = $showing;
$this->functionData['searchResultsWrapper'][$count_f7422e37ee9708cfc8a427e8f9fd5fe4]['search_term'] = $search_term;
$this->functionData['searchResultsWrapper'][$count_f7422e37ee9708cfc8a427e8f9fd5fe4]['url_string'] = $url_string;
$this->functionData['searchResultsWrapper'][$count_f7422e37ee9708cfc8a427e8f9fd5fe4]['current_key'] = $current_key;
$this->functionData['searchResultsWrapper'][$count_f7422e37ee9708cfc8a427e8f9fd5fe4]['removed_search_terms'] = $removed_search_terms;
$this->functionData['searchResultsWrapper'][$count_f7422e37ee9708cfc8a427e8f9fd5fe4]['limited'] = $limited;
$this->functionData['searchResultsWrapper'][$count_f7422e37ee9708cfc8a427e8f9fd5fe4]['wasLimited'] = $wasLimited;
}

$i = 0;
	if( IPSLib::appIsSearchable( 'forums', 'search' ) ){ $i++;	}
	if( IPSLib::appIsSearchable( 'members', 'search' ) ){ $i++;	}
	if( IPSLib::appIsInstalled('blog') && IPSLib::appIsSearchable( 'blog', 'search' ) ){ $i++;	}
	if( IPSLib::appIsInstalled('gallery') && IPSLib::appIsSearchable( 'gallery', 'search' ) ){ $i++;	}
	
	switch( $i ){
		case 3:
			$classname = 'three_';
		break;
		case 4:
			$classname = 'four_';
		break;
		case 2:
			$classname = 'two_';
		break;
		default:
			$classname = 'one_';
		break;
	}
$IPBHTML .= "<div class='master_list'>
	<h2>" . (($total > 0 AND $search_term != '') ? ("{$total} ") : ("")) . "{$this->lang->words['search_results']}</h2>
	
	<div class='ipsFilterBar {$classname}filters clearfix' id='vnc_filters'>
		<ul>
			" . ((IPSLib::appIsSearchable( 'forums', 'search' )) ? ("<li " . (($this->request['search_app'] == 'forums') ? ("class='selected'") : ("")) . "><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$url_string}&amp;search_app=forums", "public",'' ), "", "" ) . "'>" . IPSLib::getAppTitle( 'forums' ) . "</a></li>") : ("")) . "" . ((IPSLib::appIsSearchable( 'members', 'search' )) ? ("<li " . (($this->request['search_app'] == 'members') ? ("class='selected'") : ("")) . "><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$url_string}&amp;search_app=members", "public",'' ), "", "" ) . "'>" . IPSLib::getAppTitle( 'members' ) . "</a></li>") : ("")) . "" . ((IPSLib::appIsInstalled('blog') && IPSLib::appIsSearchable( 'blog', 'search' )) ? ("<li " . (($this->request['search_app'] == 'blog') ? ("class='selected'") : ("")) . "><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$url_string}&amp;search_app=blog", "public",'' ), "", "" ) . "'>" . IPSLib::getAppTitle( 'blog' ) . "</a></li>") : ("")) . "" . ((IPSLib::appIsInstalled('gallery') && IPSLib::appIsSearchable( 'gallery', 'search' )) ? ("<li " . (($this->request['search_app'] == 'gallery') ? ("class='selected'") : ("")) . "><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$url_string}&amp;search_app=gallery", "public",'' ), "", "" ) . "'>" . IPSLib::getAppTitle( 'gallery' ) . "</a></li>") : ("")) . "
		</ul>
	</div>
	" . ((is_array( $removed_search_terms ) && count( $removed_search_terms )) ? ("
		<div class='message error'>{$this->lang->words['removed_search_terms']} <strong>" . implode( ',', $removed_search_terms ) . "</strong></div>
	") : ("")) . "
	" . (($total > 0 AND $search_term != '') ? ("
		<!--<div class='message'>
			{$this->lang->words['your_search']} <em><strong>{$search_term}</strong></em> {$this->lang->words['your_search_returned']} 
		</div>-->
	") : ("")) . "
	" . (($pagination) ? ("
		<div class='controls'>
			<div class='buttons'>
				{$pagination}
			</div>
		</div>
	") : ("")) . "
	
	" . (($total) ? ("
		$results
	") : ("<div class='row no_messages'>{$this->lang->words['no_results_found']}" . (($search_term) ? (" {$this->lang->words['no_results_found_for']} '{$search_term}'") : ("")) . ".</div>")) . "
	
	" . (($pagination) ? ("
		<div class='controls'>
			<div class='buttons'>
				{$pagination}
			</div>
		</div>
	") : ("")) . "
</div>";
return $IPBHTML;
}

/* -- searchRowGenericFormat --*/
function searchRowGenericFormat($r, $resultAsTitle=false) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_search', $this->_funcHooks['searchRowGenericFormat'] ) )
{
$count_6515d4d7a1e29e0d898edf97ea3e9a70 = is_array($this->functionData['searchRowGenericFormat']) ? count($this->functionData['searchRowGenericFormat']) : 0;
$this->functionData['searchRowGenericFormat'][$count_6515d4d7a1e29e0d898edf97ea3e9a70]['r'] = $r;
$this->functionData['searchRowGenericFormat'][$count_6515d4d7a1e29e0d898edf97ea3e9a70]['resultAsTitle'] = $resultAsTitle;
}
$IPBHTML .= "<div class='result_info'>
	<h3>{$r['content_title']}</h3>
	" . ((!$resultAsTitle) ? ("
	<p>
		{$r['content']}
	</p>
	") : ("")) . "
</div>
<div class='result_details desc'>
	<ul>
		<li>" . $this->registry->getClass('class_localization')->getDate($r['updated'],"short", 0) . "</li>
		<li>{$this->lang->words['search_by']} " . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($r) : '' ) . "</li>
	</ul>
</div>";
return $IPBHTML;
}

/* -- topicPostSearchResult --*/
function topicPostSearchResult($r, $indent, $resultAsTitle=false) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_search', $this->_funcHooks['topicPostSearchResult'] ) )
{
$count_4690127426bfb9f2874d9795e7bb0b24 = is_array($this->functionData['topicPostSearchResult']) ? count($this->functionData['topicPostSearchResult']) : 0;
$this->functionData['topicPostSearchResult'][$count_4690127426bfb9f2874d9795e7bb0b24]['r'] = $r;
$this->functionData['topicPostSearchResult'][$count_4690127426bfb9f2874d9795e7bb0b24]['indent'] = $indent;
$this->functionData['topicPostSearchResult'][$count_4690127426bfb9f2874d9795e7bb0b24]['resultAsTitle'] = $resultAsTitle;
}
$IPBHTML .= "<div class='row touch-row'>
	<div class='icon'>" . $this->registry->getClass('output')->getReplacement("{$r['_icon']}") . "</div>
	<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$r['type_id_2']}&amp;view=" . (($this->request['do']=='new_posts' OR $this->request['do']=='active') ? ("getnewpost") : ("" . (($r['misc']) ? ("findpost&amp;p={$r['misc']}") : ("")) . "")) . "&amp;hl={$this->request['search_higlight']}&amp;fromsearch=1", "public",'' ), "{$r['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['view_result']}'><strong>{$r['content_title']}</strong></a>
	
	{$this->lang->words['in']}
	".$this->__f__2b669b436cfe8889ecce899563ef205b($r,$indent,$resultAsTitle)."	
	" . ((isset( $r['pages'] ) AND is_array( $r['pages'] ) AND count( $r['pages'] )) ? ("
		<span class='mini_pagination'>
			".$this->__f__e3001c27afe2927c19f34e134750efcf($r,$indent,$resultAsTitle)."		</span>
	") : ("")) . "
	<br />
	<span class='subtext'>" . sprintf( $this->lang->words['sr_as_post_string'], $this->registry->getClass('class_localization')->getDate( $resultAsTitle ? $r['_last_post'] : $r['_post_date'], 'SHORT' ), $r['members_display_name'] ) . "</span>
</div>";
return $IPBHTML;
}


function __f__2b669b436cfe8889ecce899563ef205b($r, $indent, $resultAsTitle=false)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $r['_forum_trail'] as $i => $f )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
		" . (($i+1 == count( $r['_forum_trail'] )) ? ("<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$f[1]}", "public",'' ), "{$f[2]}", "showforum" ) . "'>{$f[0]}</a>") : ("")) . "
	
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__e3001c27afe2927c19f34e134750efcf($r, $indent, $resultAsTitle=false)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $r['pages'] as $page )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
				" . (($page['last']) ? ("
					<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$r['tid']}&amp;st={$page['st']}", "public",'' ), "{$r['title_seo']}", "showtopic" ) . "\" title='{$this->lang->words['topic_goto_page']} {$page['page']}'>{$page['page']} {$this->lang->words['_rarr']}</a>
				") : ("
					<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$r['tid']}&amp;st={$page['st']}", "public",'' ), "{$r['title_seo']}", "showtopic" ) . "\" title='{$this->lang->words['topic_goto_page']} {$page['page']}'>{$page['page']}</a>
				")) . "
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- topicPostSearchResultAsForum --*/
function topicPostSearchResultAsForum($data, $resultAsTitle=false) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_search', $this->_funcHooks['topicPostSearchResultAsForum'] ) )
{
$count_3a0bfee04c1f2f68a6b8dd6dca977635 = is_array($this->functionData['topicPostSearchResultAsForum']) ? count($this->functionData['topicPostSearchResultAsForum']) : 0;
$this->functionData['topicPostSearchResultAsForum'][$count_3a0bfee04c1f2f68a6b8dd6dca977635]['data'] = $data;
$this->functionData['topicPostSearchResultAsForum'][$count_3a0bfee04c1f2f68a6b8dd6dca977635]['resultAsTitle'] = $resultAsTitle;
}
$IPBHTML .= "" . (($resultAsTitle) ? ("
	" . ( method_exists( $this->registry->getClass('output')->getTemplate('search'), 'asForumTopics' ) ? $this->registry->getClass('output')->getTemplate('search')->asForumTopics($data) : '' ) . "
") : ("
	" . ( method_exists( $this->registry->getClass('output')->getTemplate('search'), 'asForumPosts' ) ? $this->registry->getClass('output')->getTemplate('search')->asForumPosts($data) : '' ) . "
")) . "";
return $IPBHTML;
}

/* -- topicPostSubresultWrap --*/
function topicPostSubresultWrap($content) {
$IPBHTML = "";
$IPBHTML .= "<ol>
		{$content}
	</ol>";
return $IPBHTML;
}

/* -- userPostsView --*/
function userPostsView($results, $pagination, $total, $member, $limited=0, $wasLimited=false, $beginTime=0, $sortIn=null, $sortDropDown=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_search', $this->_funcHooks['userPostsView'] ) )
{
$count_138c8c306066b9b07fc84e7413138766 = is_array($this->functionData['userPostsView']) ? count($this->functionData['userPostsView']) : 0;
$this->functionData['userPostsView'][$count_138c8c306066b9b07fc84e7413138766]['results'] = $results;
$this->functionData['userPostsView'][$count_138c8c306066b9b07fc84e7413138766]['pagination'] = $pagination;
$this->functionData['userPostsView'][$count_138c8c306066b9b07fc84e7413138766]['total'] = $total;
$this->functionData['userPostsView'][$count_138c8c306066b9b07fc84e7413138766]['member'] = $member;
$this->functionData['userPostsView'][$count_138c8c306066b9b07fc84e7413138766]['limited'] = $limited;
$this->functionData['userPostsView'][$count_138c8c306066b9b07fc84e7413138766]['wasLimited'] = $wasLimited;
$this->functionData['userPostsView'][$count_138c8c306066b9b07fc84e7413138766]['beginTime'] = $beginTime;
$this->functionData['userPostsView'][$count_138c8c306066b9b07fc84e7413138766]['sortIn'] = $sortIn;
$this->functionData['userPostsView'][$count_138c8c306066b9b07fc84e7413138766]['sortDropDown'] = $sortDropDown;
}

$datecut		= ( $this->settings['search_ucontent_days'] ) ? $this->registry->class_localization->getDate( time() - ( 86400 * intval( $this->settings['search_ucontent_days'] ) ), 'joined' ) : 0;
$IPBHTML .= "<h2 class='ipsType_pagetitle'>" . sprintf( $this->lang->words['s_participation_title'], $member['members_display_name'] ) . "</h2>
<input type='hidden' name=\"usedInJsLater\" id=\"urlString\" value=\"" . base64_encode( $this->registry->output->buildUrl( "app=core&amp;module=search&amp;do=user_activity&amp;search_app={$this->request['search_app']}&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;sid={$this->request['_sid']}", "public" ) ) . "\" />
" . (($total) ? ("<p class='ipsType_pagedesc'>
			" . sprintf( $this->lang->words['s_participation_msg'], $total, $member['members_display_name'] ) . "" . (($datecut) ? ("
				<span class='desc lighter'>" . sprintf( $this->lang->words['s_participation_range'], $datecut ) . "</span>
			") : ("")) . "
		</p>
	<br />") : ("")) . "
<div class='ipsLayout ipsLayout_withleft clearfix'>
	<div class='ipsLayout_left'>
		<div class='ipsBox'>
			<div class='ipsBox_container ipsSideMenu'>
				<h4>{$this->lang->words['filter_by_app']}</h4>
				<ul>
					" . ((IPSLib::appIsSearchable( 'forums', 'usercontent' )) ? ("<li " . (($this->request['search_app'] == 'forums') ? ("class='active'") : ("")) . "><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_activity&amp;search_app=forums&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;sid={$this->request['_sid']}", "public",'' ), "", "" ) . "'>" . IPSLib::getAppTitle( 'forums' ) . "</a></li>") : ("")) . "" . ((IPSLib::appIsSearchable( 'members', 'usercontent' )) ? ("<li " . (($this->request['search_app'] == 'members') ? ("class='active'") : ("")) . "><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_activity&amp;search_app=members&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;sid={$this->request['_sid']}", "public",'' ), "", "" ) . "'>" . IPSLib::getAppTitle( 'members' ) . "</a></li>") : ("")) . "" . ((IPSLib::appIsSearchable( 'core', 'usercontent' )) ? ("<li " . (($this->request['search_app'] == 'core') ? ("class='active'") : ("")) . "><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_activity&amp;search_app=core&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;sid={$this->request['_sid']}", "public",'' ), "", "" ) . "'>" . IPSLib::getAppTitle( 'core' ) . "</a></li>") : ("")) . "".$this->__f__0103f62f8d67cf5177952ffde04616ac($results,$pagination,$total,$member,$limited,$wasLimited,$beginTime,$sortIn,$sortDropDown)."				</ul>
				
				" . (($this->request['search_app'] == 'forums') ? ("<h4>{$this->lang->words['userposts_morefilters']}</h4>
					<ul>
						<li " . (($this->request['userMode'] == 'all') ? ("class='active'") : ("")) . "><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_activity&amp;search_app={$this->request['search_app']}&amp;mid={$this->request['mid']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;userMode=all", "public",'' ), "", "" ) . "'>{$this->lang->words['viewall_opt_dd']}</a></li>
						<li " . (($this->request['userMode'] == 'title') ? ("class='active'") : ("")) . "><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_activity&amp;search_app={$this->request['search_app']}&amp;mid={$this->request['mid']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;userMode=title", "public",'' ), "", "" ) . "'>{$this->lang->words['viewallt_opt_dd']}</a></li>
						<li " . (($this->request['userMode'] == 'content') ? ("class='active'") : ("")) . "><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_activity&amp;search_app={$this->request['search_app']}&amp;mid={$this->request['mid']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;userMode=content", "public",'' ), "", "" ) . "'>{$this->lang->words['viewallp_opt_dd']}</a></li>
					</ul>") : ("")) . "" . ((is_array($sortIn) AND count( $sortIn )) ? ("
					<h4>{$this->lang->words['filter_by_type']}</h4>
					<ul>
						".$this->__f__107cd22abbc30cd5560a075a5603fbdc($results,$pagination,$total,$member,$limited,$wasLimited,$beginTime,$sortIn,$sortDropDown)."					</ul>
				") : ("")) . "
			</div>
		</div>
	</div>
	<div class='ipsLayout_content'>
		" . (($pagination) ? ("
			<div class='topic_controls'>
				{$pagination}
			</div>
			<br />
		") : ("")) . "
		<div class='maintitle ipsFilterbar'>
			" . ((IPSSearchRegistry::get('config.contentTypes') AND is_array( IPSSearchRegistry::get('config.contentTypes') )) ? ("" . ((count($sortDropDown)) ? ("<span class='ipsType_small'>{$this->lang->words['sort_by']}</span>&nbsp;&nbsp;
					" . ((count($sortDropDown) <= 4) ? ("
						<ul class='ipsList_inline ipsType_smaller' style='display: inline'>
							".$this->__f__704062c8844cee03ee4c598e97614028($results,$pagination,$total,$member,$limited,$wasLimited,$beginTime,$sortIn,$sortDropDown)."						</ul>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					") : ("
						<ul class='ipsList_inline ipsType_smaller' style='display: inline'>
							<li class='active'>
								<a href='#' id='search_sort' class='ipbmenu'>{$sortDropDown[ $this->request['search_app_filters'][$this->request['search_app']][$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']]['sortKey'] ]} &nbsp;&nbsp;<span class='submenu_indicator'></span>&nbsp;</a>
							</li>
						</ul>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					")) . "") : ("")) . "
				<span class='ipsType_small'>{$this->lang->words['order']}</span>&nbsp;&nbsp;
				<ul class='ipsList_inline ipsType_smaller' style='display: inline'>
					<li " . (($this->request['search_app_filters'][$this->request['search_app']][$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']]['sortDir'] == 0) ? ("class='active'") : ("")) . ">
						<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_activity&amp;sid={$this->request['_sid']}&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;search_app={$this->request['search_app']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[{$this->request['search_app']}][{$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}][sortKey]={$this->request['search_app_filters'][$this->request['search_app']][$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']]['sortKey']}&amp;search_app_filters[{$this->request['search_app']}][{$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}][sortDir]=0", "public",'' ), "", "" ) . "'>{$this->lang->words['s_search_type_o_0']}</a>
					</li>
					<li " . (($this->request['search_app_filters'][$this->request['search_app']][$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']]['sortDir'] == 1) ? ("class='active'") : ("")) . ">
						<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_activity&amp;sid={$this->request['_sid']}&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;search_app={$this->request['search_app']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[{$this->request['search_app']}][{$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}][sortKey]={$this->request['search_app_filters'][$this->request['search_app']][$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']]['sortKey']}&amp;search_app_filters[{$this->request['search_app']}][{$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}][sortDir]=1", "public",'' ), "", "" ) . "'>{$this->lang->words['s_search_type_o_1']}</a>
					</li>
				</ul>") : ("" . ((count($sortDropDown)) ? ("<span class='ipsType_small'>{$this->lang->words['sort_by']}</span>&nbsp;&nbsp;
					" . ((count($sortDropDown) <= 4) ? ("
						<ul class='ipsList_inline ipsType_smaller' style='display: inline'>
							".$this->__f__36ad21bb20d45b0b319679b447a94831($results,$pagination,$total,$member,$limited,$wasLimited,$beginTime,$sortIn,$sortDropDown)."						</ul>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					") : ("
						<ul class='ipsList_inline ipsType_smaller' style='display: inline'>
							<li class='active'>
								<a href='#' id='search_sort' class='ipbmenu'>{$sortDropDown[ $this->request['search_app_filters'][$this->request['search_app']]['sortKey'] ]} &nbsp;&nbsp;<span class='submenu_indicator'></span>&nbsp;</a>
							</li>
						</ul>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					")) . "") : ("")) . "
				<span class='ipsType_small'>{$this->lang->words['order']}</span>&nbsp;&nbsp;
				<ul class='ipsList_inline ipsType_smaller' style='display: inline'>
					<li " . (($this->request['search_app_filters'][$this->request['search_app']]['sortDir'] == 0) ? ("class='active'") : ("")) . ">
						<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_activity&amp;sid={$this->request['_sid']}&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;search_app={$this->request['search_app']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[{$this->request['search_app']}][sortKey]={$this->request['search_app_filters'][$this->request['search_app']]['sortKey']}&amp;search_app_filters[{$this->request['search_app']}][sortDir]=0", "public",'' ), "", "" ) . "'>{$this->lang->words['s_search_type_o_0']}</a>
					</li>
					<li " . (($this->request['search_app_filters'][$this->request['search_app']]['sortDir'] == 1) ? ("class='active'") : ("")) . ">
						<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_activity&amp;sid={$this->request['_sid']}&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;search_app={$this->request['search_app']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[{$this->request['search_app']}][sortKey]={$this->request['search_app_filters'][$this->request['search_app']]['sortKey']}&amp;search_app_filters[{$this->request['search_app']}][sortDir]=1", "public",'' ), "", "" ) . "'>{$this->lang->words['s_search_type_o_1']}</a>
					</li>
				</ul>")) . "
		</div>
		" . ((count($sortDropDown) && count($sortDropDown) >= 5) ? ("<!-- The menu for changing the sort field -->
			<ul id='search_sort_menucontent' class='ipbmenu_content with_checks' style='display: none'>
				" . ((IPSSearchRegistry::get('config.contentTypes') AND is_array( IPSSearchRegistry::get('config.contentTypes') )) ? ("".$this->__f__e4da5a5637e0b8f66a2b4d9fbde7d690($results,$pagination,$total,$member,$limited,$wasLimited,$beginTime,$sortIn,$sortDropDown)."				") : ("".$this->__f__c6ae0f237a7bd99e6c82f9e371058a3b($results,$pagination,$total,$member,$limited,$wasLimited,$beginTime,$sortIn,$sortDropDown)."				")) . "
			</ul>") : ("")) . "
		<div>
			" . (($total) ? ("
				{$results}
				<br />
				{$pagination}
			") : ("
				<p class='no_messages'>{$this->lang->words['user_posts_none']}</p>
			")) . "
		</div>
	</div>
</div>";
return $IPBHTML;
}


function __f__0103f62f8d67cf5177952ffde04616ac($results, $pagination, $total, $member, $limited=0, $wasLimited=false, $beginTime=0, $sortIn=null, $sortDropDown=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $this->registry->getApplications() as $app )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
						" . ((IPSLib::appIsSearchable( $app['app_directory'], 'usercontent' ) AND !in_array( $app['app_directory'], array('core','forums','members') )) ? ("<li " . (($this->request['search_app'] == $app['app_directory']) ? ("class='active'") : ("")) . "><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_activity&amp;search_app={$app['app_directory']}&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;sid={$this->request['_sid']}", "public",'' ), "", "" ) . "'>" . IPSLib::getAppTitle( $app['app_directory'] ) . "</a></li>") : ("")) . "
					
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__107cd22abbc30cd5560a075a5603fbdc($results, $pagination, $total, $member, $limited=0, $wasLimited=false, $beginTime=0, $sortIn=null, $sortDropDown=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $sortIn as $id => $_data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
							<li " . (($this->request['search_app_filters'][$this->request['search_app']]['searchInKey'] == $_data[0]) ? ("class='active'") : ("")) . ">
								<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_activity&amp;search_app={$this->request['search_app']}&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$_data[0]}", "public",'' ), "", "" ) . "'>{$_data[1]}</a>
							</li>
						
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__704062c8844cee03ee4c598e97614028($results, $pagination, $total, $member, $limited=0, $wasLimited=false, $beginTime=0, $sortIn=null, $sortDropDown=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $sortDropDown as $k => $l )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
								<li " . (($this->request['search_app_filters'][$this->request['search_app']][$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']]['sortKey'] == $k) ? ("class='active'") : ("")) . ">
									<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_activity&amp;sid={$this->request['_sid']}&amp;mid={$this->request['mid']}&amp;search_app={$this->request['search_app']}&amp;userMode={$this->request['userMode']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[{$this->request['search_app']}][{$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}][sortKey]={$k}&amp;search_app_filters[{$this->request['search_app']}][{$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}][sortDir]={$this->request['search_app_filters'][$this->request['search_app']][$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']]['sortDir']}", "public",'' ), "", "" ) . "'>{$l}</a>
								</li>
							
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__36ad21bb20d45b0b319679b447a94831($results, $pagination, $total, $member, $limited=0, $wasLimited=false, $beginTime=0, $sortIn=null, $sortDropDown=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $sortDropDown as $k => $l )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
								<li " . (($this->request['search_app_filters'][$this->request['search_app']]['sortKey'] == $k) ? ("class='active'") : ("")) . ">
									<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_activity&amp;sid={$this->request['_sid']}&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;search_app={$this->request['search_app']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[{$this->request['search_app']}][sortKey]={$k}&amp;search_app_filters[{$this->request['search_app']}][sortDir]={$this->request['search_app_filters'][$this->request['search_app']]['sortDir']}", "public",'' ), "", "" ) . "'>{$l}</a>
								</li>
							
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__e4da5a5637e0b8f66a2b4d9fbde7d690($results, $pagination, $total, $member, $limited=0, $wasLimited=false, $beginTime=0, $sortIn=null, $sortDropDown=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $sortDropDown as $k => $l )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
						<li " . (($this->request['search_app_filters'][$this->request['search_app']][$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']]['sortKey'] == $k) ? ("class='selected'") : ("")) . ">
							<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_activity&amp;sid={$this->request['_sid']}&amp;mid={$this->request['mid']}&amp;search_app={$this->request['search_app']}&amp;userMode={$this->request['userMode']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[{$this->request['search_app']}][{$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}][sortKey]={$k}&amp;search_app_filters[{$this->request['search_app']}][{$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}][sortDir]={$this->request['search_app_filters'][$this->request['search_app']][$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']]['sortDir']}", "public",'' ), "", "" ) . "'>{$l}</a>
						</li>
					
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__c6ae0f237a7bd99e6c82f9e371058a3b($results, $pagination, $total, $member, $limited=0, $wasLimited=false, $beginTime=0, $sortIn=null, $sortDropDown=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $sortDropDown as $k => $l )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
						<li " . (($this->request['search_app_filters'][$this->request['search_app']]['sortKey'] == $k) ? ("class='selected'") : ("")) . ">
							<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_activity&amp;sid={$this->request['_sid']}&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;search_app={$this->request['search_app']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[{$this->request['search_app']}][sortKey]={$k}&amp;search_app_filters[{$this->request['search_app']}][sortDir]={$this->request['search_app_filters'][$this->request['search_app']]['sortDir']}", "public",'' ), "", "" ) . "'>{$l}</a>
						</li>
					
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}


}


/*--------------------------------------------------*/
/* END OF FILE                                      */
/*--------------------------------------------------*/

?>