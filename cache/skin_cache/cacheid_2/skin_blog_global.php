<?php
/*--------------------------------------------------*/
/* FILE GENERATED BY INVISION POWER BOARD 3         */
/* CACHE FILE: Skin set id: 2               */
/* CACHE FILE: Generated: Wed, 29 Aug 2012 14:14:59 GMT */
/* DO NOT EDIT DIRECTLY - THE CHANGES WILL NOT BE   */
/* WRITTEN TO THE DATABASE AUTOMATICALLY            */
/*--------------------------------------------------*/

class skin_blog_global_2 extends skinMaster{

/**
* Construct
*/
function __construct( ipsRegistry $registry )
{
	parent::__construct( $registry );
	

$this->_funcHooks = array();
$this->_funcHooks['blog_header'] = array('blogowner','showDisabledBox');
$this->_funcHooks['short_media_tag'] = array('isyoutube');


}

/* -- blog_header --*/
function blog_header($blog="", $cblock_control="", $theme_js='', $header_js='') {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_blog_global', $this->_funcHooks['blog_header'] ) )
{
$count_78ccc616129818acddf459bc2b15425b = is_array($this->functionData['blog_header']) ? count($this->functionData['blog_header']) : 0;
$this->functionData['blog_header'][$count_78ccc616129818acddf459bc2b15425b]['blog'] = $blog;
$this->functionData['blog_header'][$count_78ccc616129818acddf459bc2b15425b]['cblock_control'] = $cblock_control;
$this->functionData['blog_header'][$count_78ccc616129818acddf459bc2b15425b]['theme_js'] = $theme_js;
$this->functionData['blog_header'][$count_78ccc616129818acddf459bc2b15425b]['header_js'] = $header_js;
}
$IPBHTML .= "<div class='master_list'>
	<h2>{$blog['blog_name']}</h2>
	" . ((is_array($this->memberData['has_blog']) AND count($this->memberData['has_blog'])) ? ("
		<div class='controls'>
			{$this->settings['_mobile_blog_pages']}
			<div class='buttons'>
				<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=post&amp;section=post&amp;do=showform", "public",'' ), "", "" ) . "' class='button'>{$this->lang->words['add_entry']}</a>
			</div>
		</div>
	") : ("")) . "
	" . (($blog['blog_disabled'] AND $this->memberData['g_is_supmod']) ? ("
		<div class='message error'>
			<h4>{$this->lang->words['blog_global_disabled_title']}</h4>
			" . sprintf( $this->lang->words['blog_global_disabled_desc'], $this->settings['base_url'] . 'app=blog&amp;module=post&amp;section=mod&amp;do=toggledisable&amp;disable=0&amp;blog_id=' . $blog['blog_id'] . '&amp;auth_key='.$this->member->form_hash ) . "
		</div>
		<br />
	") : ("")) . "";
return $IPBHTML;
}

/* -- catsAsList --*/
function catsAsList($blogId, $categories) {
$IPBHTML = "";

$categories = $this->registry->blogFunctions->formatCategoriesUrl( $blogId, $categories );
$IPBHTML .= "" . ((is_array( $categories ) AND count( $categories )) ? ("
	<em>{$this->lang->words['blog_categories']}</em>
	".$this->__f__a4adf1ef061c3381fd2bbc181c3c2d15($blogId,$categories)."") : ("")) . "";
return $IPBHTML;
}


function __f__a4adf1ef061c3381fd2bbc181c3c2d15($blogId, $categories)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $categories as $id => $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
		<a href='{$data['_url']}'>{$data['category_title']}</a>" . ((! $data['_last']) ? (", ") : ("")) . "
	
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- cblock_menu --*/
function cblock_menu($cblocks) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- contextSearch --*/
function contextSearch() {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- hookTagCloud --*/
function hookTagCloud($tags) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- overwriteHeader --*/
function overwriteHeader() {
$IPBHTML = "";
$IPBHTML .= "" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'defaultHeader' ) ? $this->registry->getClass('output')->getTemplate('global')->defaultHeader() : '' ) . "";
return $IPBHTML;
}

/* -- short_attach_tag --*/
function short_attach_tag($matches) {
$IPBHTML = "";
$IPBHTML .= "<div>
<a href='{$this->settings['base_url']}app=core&amp;module=attach&amp;section=attach&amp;attach_rel_module=post&amp;attach_id={$matches[1]}' target='_blank'><img src=\"{$this->settings['img_url']}/blog/image.png\" alt=\"\" /></a>
<br />
" . $this->registry->getClass('output')->getReplacement("post_attach_link") . " <a href='{$this->settings['base_url']}app=core&amp;module=attach&amp;section=attach&amp;attach_rel_module=post&amp;attach_id={$matches[1]}' target='_blank'>{$matches[2]}</a>
</div>";
return $IPBHTML;
}

/* -- short_img_tag --*/
function short_img_tag($matches) {
$IPBHTML = "";
$IPBHTML .= "" . ((strpos( $matches[1], $this->settings['emoticons_url'] ) === false) ? ("
<img src='{$matches[1]}' style='max-width:300px;height:auto' alt='{$this->lang->words['blog_short_image']}' title='{$this->lang->words['blog_short_image']}' />
") : ("
{$matches[0]}
")) . "";
return $IPBHTML;
}

/* -- short_media_tag --*/
function short_media_tag($url, $type) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_blog_global', $this->_funcHooks['short_media_tag'] ) )
{
$count_763a3d10e41a6f740957978537ab6f1c = is_array($this->functionData['short_media_tag']) ? count($this->functionData['short_media_tag']) : 0;
$this->functionData['short_media_tag'][$count_763a3d10e41a6f740957978537ab6f1c]['url'] = $url;
$this->functionData['short_media_tag'][$count_763a3d10e41a6f740957978537ab6f1c]['type'] = $type;
}
$IPBHTML .= "<img src='{$this->settings['img_url']}/blog/" . ((strstr( $url, 'youtube.' )) ? ("youtube.png") : ("media.png")) . "'> <a href='$url'>{$type}</a>";
return $IPBHTML;
}

/* -- tagsAsList --*/
function tagsAsList($blogId, $tags) {
$IPBHTML = "";

$tags = $this->registry->blogFunctions->formatTagsUrl( $blogId, $tags );
$IPBHTML .= "" . ((is_array( $tags ) AND count( $tags )) ? ("
	<br />
	<span class='desc'><strong>{$this->lang->words['blog_tags']}</strong>
		".$this->__f__defd398902440f318ed6852fbe370795($blogId,$tags)."	</span>
") : ("")) . "";
return $IPBHTML;
}


function __f__defd398902440f318ed6852fbe370795($blogId, $tags)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $tags as $id => $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			<a href='{$data['_url']}'>{$data['_tag']}</a>" . ((! $data['_last']) ? (", ") : ("")) . "
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- theme_menu --*/
function theme_menu($themes, $blog, $_customTheme='') {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}


}


/*--------------------------------------------------*/
/* END OF FILE                                      */
/*--------------------------------------------------*/

?>