<?php
/*--------------------------------------------------*/
/* FILE GENERATED BY INVISION POWER BOARD 3         */
/* CACHE FILE: Skin set id: 2               */
/* CACHE FILE: Generated: Wed, 29 Aug 2012 14:14:59 GMT */
/* DO NOT EDIT DIRECTLY - THE CHANGES WILL NOT BE   */
/* WRITTEN TO THE DATABASE AUTOMATICALLY            */
/*--------------------------------------------------*/

class skin_blog_hooks_2 extends skinMaster{

/**
* Construct
*/
function __construct( ipsRegistry $registry )
{
	parent::__construct( $registry );
	

$this->_funcHooks = array();
$this->_funcHooks['topics_blogThis'] = array('blogloop');


}

/* -- topics_blogThis --*/
function topics_blogThis($entries) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_blog_hooks', $this->_funcHooks['topics_blogThis'] ) )
{
$count_c266c50609ee0058991302737b93d738 = is_array($this->functionData['topics_blogThis']) ? count($this->functionData['topics_blogThis']) : 0;
$this->functionData['topics_blogThis'][$count_c266c50609ee0058991302737b93d738]['entries'] = $entries;
}

if ( ! isset( $this->registry->templateStriping['blog_row'] ) ) {
$this->registry->templateStriping['blog_row'] = array( FALSE, "row2","row1");
}
$IPBHTML .= "<br /><h2 class='maintitle'>
	Recent blog entries on this topic
</h2>
<table class='ipb_table blog_list'>".$this->__f__04ce9fd771d17ef8c0729617d9d5b386($entries)."</table>";
return $IPBHTML;
}


function __f__04ce9fd771d17ef8c0729617d9d5b386($entries)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $entries as $eid => $blog )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
	<tr>
		<td class=\"post_body " .  IPSLib::next( $this->registry->templateStriping["blog_row"] ) . "\">
			<div class='left'><img src='{$blog['pp_thumb_photo']}' width='{$blog['pp_thumb_width']}' height='{$blog['pp_thumb_height']}' class='photo' /></div>
			<div style='margin-left:50px'>
				<h3 style='padding-top:0px;padding-left:10px'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;blogid={$blog['blog_id']}&amp;showentry={$blog['blog_last_entry']}", "public",'' ), "{$blog['entry_name_seo']}", "showentry" ) . "\" title='{$this->lang->words['entry_view']}'>{$blog['blog_last_entryname']}</a></h3>
				<div class='desc' style='padding-left:10px'>
					{$this->lang->words['by_author']} " . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($blog) : '' ) . "
					{$this->lang->words['in']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;blogid={$blog['blog_id']}", "public",'' ), "{$blog['blog_seo_name']}", "showblog" ) . "'>{$blog['blog_name']}</a>, {$this->lang->words['on']} " . $this->registry->getClass('class_localization')->getDate($blog['_entry_date'],"long", 0) . "
				</div>
				<div class='post entry-content' style='padding-top:0px; margin-top:0px'>
					{$blog['blog_last_entry_excerpt']} " . (($blog['blog_last_entry']) ? ("<div class='right' style='padding-top:10px;padding-bottom:10px'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;blogid={$blog['blog_id']}&amp;showentry={$blog['blog_last_entry']}", "public",'' ), "{$blog['_seo_blog_last_entryname']}", "showentry" ) . "' title=\"{$this->lang->words['morelink']}\">{$this->lang->words['morelink']} {$this->lang->words['_rarr']}</a></div>") : ("")) . "
				</div>
			</div>
		</td>
	</tr>

";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}


}


/*--------------------------------------------------*/
/* END OF FILE                                      */
/*--------------------------------------------------*/

?>