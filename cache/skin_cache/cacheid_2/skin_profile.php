<?php
/*--------------------------------------------------*/
/* FILE GENERATED BY INVISION POWER BOARD 3         */
/* CACHE FILE: Skin set id: 2               */
/* CACHE FILE: Generated: Wed, 29 Aug 2012 14:15:00 GMT */
/* DO NOT EDIT DIRECTLY - THE CHANGES WILL NOT BE   */
/* WRITTEN TO THE DATABASE AUTOMATICALLY            */
/*--------------------------------------------------*/

class skin_profile_2 extends skinMaster{

/**
* Construct
*/
function __construct( ipsRegistry $registry )
{
	parent::__construct( $registry );
	

$this->_funcHooks = array();
$this->_funcHooks['customField__gender'] = array('male','female','nottelling','gender_set');
$this->_funcHooks['customField__generic'] = array('genericIsArray');
$this->_funcHooks['customFieldGroup__contact'] = array('cfieldgroups','cf_icon','cf_skype','cf_jabber','cf_website','cf_icq','cf_yahoo','cf_msn','cf_aim','cf_array','contact_field');
$this->_funcHooks['dnameWrapper'] = array('records','hasDnameHistory');
$this->_funcHooks['friendsList'] = array('friendListRate1','friendListRate2','friendListRate3','friendListRate4','friendListRate5','friendListRate','friendListRepPos','friendListRepNeg','friendListRepZero','friendListRep','friendListIsFriend','friendListIsMember','friendListSendPm','friendListSearchType','friendListBlog','friendListGallery','friendListRateApp1','friendListRateApp2','friendListRateApp3','friendListRateApp4','friendListRateApp5','friendListAllowRate','friendListAppRepPos','friendListAppRepNeg','friendListAppRepZero','friendListAppRep','loopOnPending','friendsList','friendListPages','tabIsList','tabIsPending','friendListNone','hasFriendsList','friendListPagesBottom');
$this->_funcHooks['profileModern'] = array('tabactive','tabs','warnClickable','warnPopup','warnIsSet','warnsLoop','pcfieldsLoop','pcfieldsOtherLoopCheckInner','pcfieldsOtherLoopCheck2','pcfieldsOtherLoopCheck','pcfieldsOtherLoop','cfields','friendsLoop','visitorismember','latest_visitors_loop','jsIsFriend','friendsEnabled','hasCustomization','weAreSupmod','weAreOwner','supModCustomization','canEditUser','canEditPic','haswarn','hasWarns','onlineDetails','userStatus','rate1','rate2','rate3','rate4','rate5','rated1','rated2','rated3','rated4','rated5','hasrating','noRateYourself','allowRate','isFriend','noFriendYourself','pmlink','member_title','member_age','member_bday_year','member_birthday','pcfields','pcfieldsOther','isadmin','member_contact_fields','hasContactFields','RepPositive','RepNegative','RepZero','RepText','RepImage','ourReputation','authorspammerinner','authorspammer','dnameHistory','supModCustomizationDisable','checkModTools','hasFriends','has_visitors','latest_visitors','thisIsNotUs');
$this->_funcHooks['showCard'] = array('cardStatus','cardOnline','cardWhere','isadmin','authorspammerinner','authorspammer','cardIsFriend','cardFriend','cardSendPm','cardFindPostsLink','cardBlog','cardGallery','cardRepPos','cardRepNeg','cardRepZero','cardRep');
$this->_funcHooks['showComments'] = array('commentApproved','commentApprovLink','commentWeAreOwner','commentCheckId','comments','hasComments');
$this->_funcHooks['showIframeComments'] = array('iframeCommentApproved','iframeCommentMod','iframeCommentMember','iframeEndMemberLink','commentsIframe','iframeCommentsMulti','hasIframeComments');
$this->_funcHooks['statusReplies'] = array('canDelete','innerLoop');
$this->_funcHooks['statusUpdates'] = array('outerLoop');
$this->_funcHooks['statusUpdatesPage'] = array('hasUpdates');
$this->_funcHooks['tabAboutMe'] = array('tabsignature','tababoutMe');
$this->_funcHooks['tabSingleColumn'] = array('singleColumnUrl','singleColumnTitle');
$this->_funcHooks['tabStatusUpdates'] = array('actions','canCreate','hasUpdates');


}

/* -- acknowledgeWarning --*/
function acknowledgeWarning($warning) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- addWarning --*/
function addWarning($member, $reasons, $errors, $editor, $currentPunishments) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- customField__gender --*/
function customField__gender($f) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_profile', $this->_funcHooks['customField__gender'] ) )
{
$count_d22531b59b58781f7a0105f227d0888a = is_array($this->functionData['customField__gender']) ? count($this->functionData['customField__gender']) : 0;
$this->functionData['customField__gender'][$count_d22531b59b58781f7a0105f227d0888a]['f'] = $f;
}
$IPBHTML .= "<dt>{$f->raw_data['pf_title']}:</dt>
<dd>
" . (($f->value) ? ("" . (($f->value == 'm') ? ("
		<img src='{$this->settings['img_url']}/profile/male.png' alt='{$this->lang->words['js_gender_male']}' /> {$this->lang->words['js_gender_male']}
	") : ("")) . "
	
	" . (($f->value == 'f') ? ("
		<img src='{$this->settings['img_url']}/profile/female.png' alt='{$this->lang->words['js_gender_female']}' /> {$this->lang->words['js_gender_female']}
	") : ("")) . "
	
	" . (($f->value =='u') ? ("
		<img src='{$this->settings['img_url']}/profile/mystery.png' alt='{$this->lang->words['js_gender_mystery']}' /> {$this->lang->words['js_gender_mystery']}
	") : ("")) . "") : ("
	{$this->lang->words['m_no_gender']}
")) . "
</dd>";
return $IPBHTML;
}

/* -- customField__generic --*/
function customField__generic($f) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_profile', $this->_funcHooks['customField__generic'] ) )
{
$count_7604db9142e5811519436b3d109565be = is_array($this->functionData['customField__generic']) ? count($this->functionData['customField__generic']) : 0;
$this->functionData['customField__generic'][$count_7604db9142e5811519436b3d109565be]['f'] = $f;
}
$IPBHTML .= "" . (($f->parsed != '') ? ("<dt>{$f->raw_data['pf_title']}:</dt>
	<dd>
		" . ((is_array($f->parsed)) ? ("
			" . implode( '<br />', $f->parsed ) . "
		") : ("
			{$f->parsed}
		")) . "
	</dd>") : ("")) . "";
return $IPBHTML;
}

/* -- customFieldGroup__contact --*/
function customFieldGroup__contact($f) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_profile', $this->_funcHooks['customFieldGroup__contact'] ) )
{
$count_f4a574c0319e47c30e2ad4f87edf3f67 = is_array($this->functionData['customFieldGroup__contact']) ? count($this->functionData['customFieldGroup__contact']) : 0;
$this->functionData['customFieldGroup__contact'][$count_f4a574c0319e47c30e2ad4f87edf3f67]['f'] = $f;
}
$IPBHTML .= "" . (($f->parsed) ? ("<dt>{$f->raw_data['pf_title']}:</dt>
<dd>
	" . (($f->raw_data['pf_icon']) ? ("<img src='{$this->settings['public_dir']}{$f->raw_data['pf_icon']}' alt='{$f->raw_data['pf_title']}' />&nbsp;") : ("")) . "
	" . ((is_array( $f->parsed )) ? ("
		".$this->__f__e95e89f65c4fedcbfded6433a2f04696($f)."	") : ("" . (($f->raw_data['pf_key'] == 'aim') ? ("
			<a class='url' href='aim:goim?screenname={$f->parsed}'>{$f->parsed}</a>
		") : ("" . (($f->raw_data['pf_key'] == 'msn') ? ("
				<a class='url' href='msnim:chat?contact={$f->parsed}'>{$f->parsed}</a>
			") : ("" . (($f->raw_data['pf_key'] == 'yahoo') ? ("
					<a class='url' href='ymsgr:sendIM?{$f->parsed}'>{$f->parsed}</a>
				") : ("" . (($f->raw_data['pf_key'] == 'icq') ? ("
						<a class='url' type=\"application/x-icq\" href='http://www.icq.com/people/cmd.php?uin={$f->parsed}&amp;action=message'>{$f->parsed}</a>
					") : ("" . (($f->raw_data['pf_key'] == 'website') ? ("
							<a class='url uid' rel=\"me\" href='{$f->parsed}'>{$f->parsed}</a>
						") : ("" . (($f->raw_data['pf_key'] == 'jabber') ? ("
								<a class='url' href='xmpp:{$f->parsed}'>{$f->parsed}</a>
							") : ("" . (($f->raw_data['pf_key'] == 'skype') ? ("
									<a class='url' href='skype:{$f->parsed}?call'>{$f->parsed}</a>
								") : ("
									{$f->parsed}
								")) . "")) . "")) . "")) . "")) . "")) . "")) . "")) . "
</dd>") : ("")) . "";
return $IPBHTML;
}


function __f__e95e89f65c4fedcbfded6433a2f04696($f)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $f->parsed as $value )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			{$value}
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- customizeProfile --*/
function customizeProfile($member) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- dnameWrapper --*/
function dnameWrapper($member_name="",$records=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_profile', $this->_funcHooks['dnameWrapper'] ) )
{
$count_db947ee1ceb1c459d8b2310b29474c91 = is_array($this->functionData['dnameWrapper']) ? count($this->functionData['dnameWrapper']) : 0;
$this->functionData['dnameWrapper'][$count_db947ee1ceb1c459d8b2310b29474c91]['member_name'] = $member_name;
$this->functionData['dnameWrapper'][$count_db947ee1ceb1c459d8b2310b29474c91]['records'] = $records;
}

if ( ! isset( $this->registry->templateStriping['dname'] ) ) {
$this->registry->templateStriping['dname'] = array( FALSE, "row1","row2");
}
$IPBHTML .= "" . (($this->request['module']=='ajax') ? ("
	<h3>{$this->lang->words['dname_window_title']} {$member_name}</h3>
") : ("
	<h3 class='maintitle'>{$this->lang->words['dname_window_title']} {$member_name}</h3>
")) . "
<table class='ipb_table'>
	<tr class='header'>
		<th scope='col' style='width: 33%'>{$this->lang->words['dname_name_from']}</th>
		<th scope='col' style='width: 33%'>{$this->lang->words['dname_name_to']}</th>
		<th scope='col' style='width: 33%'>{$this->lang->words['dname_date']}</th>
	</tr>
	" . ((is_array($records) AND count($records)) ? ("
		    	".$this->__f__4d47d3627cf04075e8e6e86f5353b1ac($member_name,$records)."	") : ("
		<tr>
			<td colspan='3' class='no_messages'>{$this->lang->words['dname_no_history']}</td>
		</tr>
    ")) . "
</table>";
return $IPBHTML;
}


function __f__4d47d3627cf04075e8e6e86f5353b1ac($member_name="",$records=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $records as $row )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
		<tr class='" .  IPSLib::next( $this->registry->templateStriping["dname"] ) . "'>
		 	<td>{$row['dname_previous']}</td>
		 	<td><strong>{$row['dname_current']}</strong></td>
		 	<td class='altrow'>" . $this->registry->getClass('class_localization')->getDate($row['dname_date'],"short", 0) . "</td>
		</tr>
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- explainPoints --*/
function explainPoints($reasons, $actions) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- friendsList --*/
function friendsList($friends, $pages) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_profile', $this->_funcHooks['friendsList'] ) )
{
$count_651c456950d25b4823a4f5c5659b8376 = is_array($this->functionData['friendsList']) ? count($this->functionData['friendsList']) : 0;
$this->functionData['friendsList'][$count_651c456950d25b4823a4f5c5659b8376]['friends'] = $friends;
$this->functionData['friendsList'][$count_651c456950d25b4823a4f5c5659b8376]['pages'] = $pages;
}

if ( ! isset( $this->registry->templateStriping['memberStripe'] ) ) {
$this->registry->templateStriping['memberStripe'] = array( FALSE, "row1","row2");
}
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("friends", "0" ) . "
<h2>{$this->lang->words['m_friends_list']}</h2>
" . (($pages) ? ("
	<div class='topic_controls'>
		$pages
	</div>
") : ("")) . "
<ul class='tab_bar no_title'>
	" . (($this->request['tab'] == 'list' || !$this->request['tab']) ? ("
		<li class='active'><strong>{$this->lang->words['m_friends_list']}</strong></li>
		<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;section=friends&amp;module=profile&amp;do=list&amp;tab=pending", "public",'' ), "", "" ) . "' title='{$this->lang->words['m_friends_pending']}'>{$this->lang->words['m_friends_pending']}</a></li>
	") : ("")) . "
	" . (($this->request['tab'] == 'pending') ? ("
		<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;section=friends&amp;module=profile&amp;do=list&amp;tab=list", "public",'' ), "", "" ) . "' title='{$this->lang->words['m_friends_list']}'>{$this->lang->words['m_friends_list']}</a></li>
		<li class='active'><strong>{$this->lang->words['m_friends_pending']}</strong></li>
	") : ("")) . "
</ul>
" . ((is_array($friends) and count($friends) && $this->settings['friends_enabled']) ? ("
		<ul class='members'>
	".$this->__f__a9358f3ba4904b1e2c8e4de8a2b3507e($friends,$pages)."	</ul>
") : ("<p class='no_messages'>
		" . (($this->request['tab'] == 'pending') ? ("
			{$this->lang->words['no_friends_awaiting_approval']}
		") : ("
			{$this->lang->words['no_friends_to_display']}
		")) . "
	</p>")) . "
" . (($pages) ? ("
	<div class='topic_controls'>
		$pages
	</div>
") : ("")) . "";
return $IPBHTML;
}


function __f__a9358f3ba4904b1e2c8e4de8a2b3507e($friends, $pages)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $friends as $friend )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
		" . (($this->request['tab'] == 'pending') ? ("<li id='member_id_{$friend['member_id']}' class='general_box clear member_entry " .  IPSLib::next( $this->registry->templateStriping["memberStripe"] ) . "'>
				<h3 class='bar'>" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($friend) : '' ) . "</h3>
				<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$friend['member_id']}", "public",'' ), "{$friend['members_seo_name']}", "showuser" ) . "' title='{$this->lang->words['view_profile']}'><img src='{$friend['pp_thumb_photo']}' width='{$friend['pp_thumb_width']}' height='{$friend['pp_thumb_height']}' alt=\"" . sprintf($this->lang->words['users_photo'],$friend['members_display_name']) . "\" class='photo' /></a>	
			
				<dl class='info'>
					<dt class='clear'>{$this->lang->words['m_member_since']}</dt>
					<dd>" . $this->registry->getClass('class_localization')->getDate($friend['joined'],"short", 0) . "</dd>
					<dt class='clear'>{$this->lang->words['m_group']}</dt>
					<dd>{$friend['_group_formatted']}</dd>
					<dt class='clear'>{$this->lang->words['m_posts']}</dt>
					<dd>" . $this->registry->getClass('class_localization')->formatNumber( $friend['posts'] ) . "</dd>
					<dt class='clear'>{$this->lang->words['m_last_active']}</dt>
					<dd>" . $this->registry->getClass('class_localization')->getDate($friend['last_activity'],"short", 0) . "</dd>
				</dl>
				
				<ul class='user_controls clear'>
					<li class='positive'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=friends&amp;do=moderate&amp;pp_option=approve&amp;pp_friend_id[{$friend['member_id']}]=1&amp;md5check={$this->member->form_hash}", "public",'' ), "", "" ) . "' title='Approve'>" . $this->registry->getClass('output')->getReplacement("approve") . " {$this->lang->words['approve_request']}</a></li>
					<li class='negative'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=friends&amp;do=moderate&amp;pp_option=delete&amp;pp_friend_id[{$friend['member_id']}]=1&amp;md5check={$this->member->form_hash}", "public",'' ), "", "" ) . "' title='Deny'>" . $this->registry->getClass('output')->getReplacement("deny") . " {$this->lang->words['deny_request']}</a></li>
				</ul>
				" . (($this->settings['pp_allow_member_rate']) ? ("<p class='rating'> 
						" . (($friend['pp_rating_real'] >= 1) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "" . (($friend['pp_rating_real'] >= 2) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "" . (($friend['pp_rating_real'] >= 3) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "" . (($friend['pp_rating_real'] >= 4) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "" . (($friend['pp_rating_real'] >= 5) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "
					</p>") : ("")) . "
				
				" . (($this->settings['reputation_enabled'] && $this->settings['reputation_show_profile']) ? ("" . (($friend['pp_reputation_points'] > 0) ? ("
						<p class='reputation positive'>
					") : ("")) . "
					" . (($friend['pp_reputation_points'] < 0) ? ("
						<p class='reputation negative'>
					") : ("")) . "
					" . (($friend['pp_reputation_points'] == 0) ? ("
						<p class='reputation zero'>
					") : ("")) . "
							<span class='number'>{$this->lang->words['m_reputation']} {$friend['pp_reputation_points']}</span>
						</p>") : ("")) . "						
			</li>") : ("<li id='member_id_{$friend['friends_friend_id']}' class='general_box clear member_entry " .  IPSLib::next( $this->registry->templateStriping["memberStripe"] ) . "'>
				<h3 class='bar'>" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($friend) : '' ) . "</h3>
				<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$friend['member_id']}", "public",'' ), "{$friend['members_seo_name']}", "showuser" ) . "' title='{$this->lang->words['view_profile']}'><img src='{$friend['pp_thumb_photo']}' width='{$friend['pp_thumb_width']}' height='{$friend['pp_thumb_height']}' alt=\"" . sprintf($this->lang->words['users_photo'],$friend['members_display_name']) . "\" class='photo' /></a>	
			
				<dl class='info'>
					<dt class='clear'>{$this->lang->words['m_member_since']}</dt>
					<dd>" . $this->registry->getClass('class_localization')->getDate($friend['joined'],"short", 0) . "</dd>
					<dt class='clear'>{$this->lang->words['m_group']}</dt>
					<dd>{$friend['_group_formatted']}</dd>
					<dt class='clear'>{$this->lang->words['m_posts']}</dt>
					<dd>" . $this->registry->getClass('class_localization')->formatNumber( $friend['posts'] ) . "</dd>
					<dt class='clear'>{$this->lang->words['m_last_active']}</dt>
					<dd>" . $this->registry->getClass('class_localization')->getDate($friend['last_activity'],"short", 0) . "</dd>
				</dl>
				
				<ul class='user_controls clear'>
					" . (($this->memberData['member_id'] AND $this->memberData['member_id'] != $friend['friends_friend_id'] && $this->settings['friends_enabled'] AND $this->memberData['g_can_add_friends']) ? ("" . ((IPSMember::checkFriendStatus( $friend['friends_friend_id'] )) ? ("
							<li class='mini_friend_toggle is_friend' id='friend_profile_{$friend['friends_friend_id']}'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=friends&amp;do=remove&amp;member_id={$friend['friends_friend_id']}&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' title='{$this->lang->words['remove_as_friend']}'>" . $this->registry->getClass('output')->getReplacement("remove_friend") . "</a></li>
						") : ("
							<li class='mini_friend_toggle is_not_friend' id='friend_profile_{$friend['friends_friend_id']}'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=friends&amp;do=add&amp;member_id={$friend['friends_friend_id']}&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' title='{$this->lang->words['add_me_friend']}'>" . $this->registry->getClass('output')->getReplacement("add_friend") . "</a></li>								
						")) . "") : ("")) . "
					" . (($this->memberData['g_use_pm'] AND $this->memberData['members_disable_pm'] == 0 AND IPSLib::moduleIsEnabled( 'messaging', 'members' )) ? ("
						<li class='pm_button' id='pm_xxx_{$friend['friends_friend_id']}'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=messaging&amp;section=send&amp;do=form&amp;fromMemberID={$friend['friends_member_id']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['pm_this_member']}'>" . $this->registry->getClass('output')->getReplacement("send_msg") . "</a></li>
					") : ("")) . "
					<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_posts&amp;mid={$friend['friends_friend_id']}&amp;view_by_title=1&amp;search_filter_app[forums]=1", "public",'' ), "", "" ) . "'>{$this->lang->words['find_topics']}</a></li>
					<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_posts&amp;mid={$friend['friends_friend_id']}" . ((! in_array( $this->settings['search_method'], array( 'traditional', 'sphinx' ) )) ? ("&amp;search_filter_app[forums]=1") : ("")) . "", "public",'' ), "", "" ) . "'>{$this->lang->words['find_posts']}</a></li>
					" . (($friend['has_blog'] AND IPSLib::appIsInstalled( 'blog' )) ? ("
						<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;mid={$friend['friends_friend_id']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['view_blog']}'>" . $this->registry->getClass('output')->getReplacement("blog_link") . "</a></li>
					") : ("")) . "
					" . (($friend['has_gallery'] AND IPSLib::appIsInstalled( 'gallery' )) ? ("
						<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=gallery&amp;module=user&amp;section=user&amp;user={$friend['friends_friend_id']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['view_gallery']}'>" . $this->registry->getClass('output')->getReplacement("gallery_link") . "</a></li>
					") : ("")) . "
				</ul>
				" . (($this->settings['pp_allow_member_rate']) ? ("<p class='rating'> 
						" . (($friend['pp_rating_real'] >= 1) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "" . (($friend['pp_rating_real'] >= 2) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "" . (($friend['pp_rating_real'] >= 3) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "" . (($friend['pp_rating_real'] >= 4) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "" . (($friend['pp_rating_real'] >= 5) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "
					</p>") : ("")) . "
				
				" . (($this->settings['reputation_enabled'] && $this->settings['reputation_show_profile']) ? ("" . (($friend['pp_reputation_points'] > 0) ? ("
						<p class='reputation positive'>
					") : ("")) . "
					" . (($friend['pp_reputation_points'] < 0) ? ("
						<p class='reputation negative'>
					") : ("")) . "
					" . (($friend['pp_reputation_points'] == 0) ? ("
						<p class='reputation zero'>
					") : ("")) . "
							<span class='number'>{$this->lang->words['m_reputation']} {$friend['pp_reputation_points']}</span>
						</p>") : ("")) . "						
			</li>")) . "
		
	
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- listWarnings --*/
function listWarnings($member, $warnings, $pagination, $reasons, $canWarn) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- photoEditor --*/
function photoEditor($data, $member) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- profileModern --*/
function profileModern($tabs=array(), $member=array(), $visitors=array(), $default_tab='status', $default_tab_content='', $friends=array(), $status=array(), $warns=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_profile', $this->_funcHooks['profileModern'] ) )
{
$count_668c8a935eee7a542026801b430d7008 = is_array($this->functionData['profileModern']) ? count($this->functionData['profileModern']) : 0;
$this->functionData['profileModern'][$count_668c8a935eee7a542026801b430d7008]['tabs'] = $tabs;
$this->functionData['profileModern'][$count_668c8a935eee7a542026801b430d7008]['member'] = $member;
$this->functionData['profileModern'][$count_668c8a935eee7a542026801b430d7008]['visitors'] = $visitors;
$this->functionData['profileModern'][$count_668c8a935eee7a542026801b430d7008]['default_tab'] = $default_tab;
$this->functionData['profileModern'][$count_668c8a935eee7a542026801b430d7008]['default_tab_content'] = $default_tab_content;
$this->functionData['profileModern'][$count_668c8a935eee7a542026801b430d7008]['friends'] = $friends;
$this->functionData['profileModern'][$count_668c8a935eee7a542026801b430d7008]['status'] = $status;
$this->functionData['profileModern'][$count_668c8a935eee7a542026801b430d7008]['warns'] = $warns;
}
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("status", "0" ) . "
" . $this->registry->getClass('output')->addJSModule("rating", "0" ) . "
" . $this->registry->getClass('output')->addJSModule("profile", "0" ) . "
<script type='text/javascript'>
//<![CDATA[
	ipb.profile.viewingProfile = parseInt( {$member['member_id']} );
	" . (($this->memberData['member_id']) ? ("
		ipb.templates['remove_friend'] = \"<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;section=friends&amp;module=profile&amp;do=remove&amp;member_id={$member['member_id']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['remove_as_friend']}'><img src='{$this->settings['img_url']}/user_delete.png' alt='{$this->lang->words['remove_as_friend']}' />&nbsp;&nbsp; {$this->lang->words['remove_as_friend']}</a>\";
		ipb.templates['add_friend'] = \"<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;section=friends&amp;module=profile&amp;do=add&amp;member_id={$member['member_id']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['add_me_friend']}'><img src='{$this->settings['img_url']}/user_add.png' alt='{$this->lang->words['add_me_friend']}' />&nbsp;&nbsp; {$this->lang->words['add_me_friend']}</a>\";
	") : ("")) . "
	ipb.templates['edit_status'] = \"<span id='edit_status'><input type='text' class='input_text' style='width: 60%' id='updated_status' maxlength='150' /> <input type='submit' value='{$this->lang->words['save']}' class='input_submit' id='save_status' /> &nbsp;<a href='#' id='cancel_status' class='cancel' title='{$this->lang->words['cancel']}'>{$this->lang->words['cancel']}</a></span>\";
	" . (($this->settings['friends_enabled'] AND $this->memberData['g_can_add_friends']) ? ("" . ((IPSMember::checkFriendStatus( $member['member_id'] )) ? ("
			ipb.profile.isFriend = true;
		") : ("
			ipb.profile.isFriend = false;
		")) . "") : ("")) . "
//]]>
</script>
" . ((is_array($member['customization']) AND $member['customization']['type']) ? ("
	" . ( method_exists( $this->registry->getClass('output')->getTemplate('profile'), 'customizeProfile' ) ? $this->registry->getClass('output')->getTemplate('profile')->customizeProfile($member) : '' ) . "
") : ("")) . "
" . ((($this->memberData['member_id'] && $member['member_id'] == $this->memberData['member_id']) || $this->memberData['g_is_supmod'] == 1 || ($this->memberData['member_id'] && $member['member_id'] != $this->memberData['member_id'])) ? ("<ul class='topic_buttons'>
		" . (($this->memberData['g_is_supmod'] == 1 && $member['member_id'] != $this->memberData['member_id']) ? ("
			<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=modcp&amp;do=editmember&amp;auth_key={$this->member->form_hash}&amp;mid={$member['member_id']}&amp;pf={$member['member_id']}", "public",'' ), "", "" ) . "'>{$this->lang->words['supmod_edit_member']}</a></li>
		") : ("")) . "
		" . (($this->memberData['member_id'] && $member['member_id'] == $this->memberData['member_id']) ? ("
			<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=usercp&amp;tab=core", "public",'' ), "", "" ) . "'>{$this->lang->words['edit_profile']}</a></li>
		") : ("")) . "
		" . ((($member['member_id'] == $this->memberData['member_id'] ) AND $member['customization']['type']) ? ("
			<li class='non_button'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$member['member_id']}&amp;secure_key={$this->member->form_hash}&amp;removeCustomization=1", "public",'' ), "{$member['members_seo_name']}", "showuser" ) . "'>{$this->lang->words['cust_remove']}</a></li>
		") : ("")) . "
	</ul>") : ("")) . "
<div class='ipsBox clear vcard' id='profile_background'>
	<div class='ipsVerticalTabbed ipsLayout ipsLayout_withleft ipsLayout_smallleft clearfix'>
		<div class='ipsVerticalTabbed_tabs ipsLayout_left' id='profile_tabs'>
			<p class='short photo_holder'>
				" . ((($this->memberData['member_id'] && $member['member_id'] == $this->memberData['member_id']) AND (IPSMember::canUploadPhoto($member, TRUE))) ? ("
					<a data-clicklaunch=\"launchPhotoEditor\" href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=photo", "public",'' ), "", "" ) . "\" id='change_photo' class='ipsType_smaller ipsPad' title='{$this->lang->words['change_photo_desc']}'>{$this->lang->words['change_photo_link']}</a>
				") : ("")) . "
				<img class=\"ipsUserPhoto\" id='profile_photo' src='{$member['pp_main_photo']}' alt=\"" . sprintf($this->lang->words['users_photo'],$member['members_display_name']) . "\"  />
			</p>
			" . (($member['show_warn']) ? ("
				<div class='warn_panel clear ipsType_small'>
					<strong><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=warnings&amp;member={$member['member_id']}&amp;from_app=members", "public",'' ), "", "" ) . "' id='warn_link_xxx_{$member['member_id']}' title='{$this->lang->words['warn_view_history']}'>" . sprintf( $this->lang->words['warn_status'], $member['warn_level'] ) . "</a></strong>
				</div>
			") : ("")) . "
			<ul class='clear'>
				<li id='tab_link_core:info' class='tab_toggle " . (($default_tab == 'core:info') ? ("active") : ("")) . "' data-tabid='user_info'><a href='#'>{$this->lang->words['pp_tab_info']}</a></li>
				".$this->__f__38d8d167cd0636e77807c4c7843e1f5c($tabs,$member,$visitors,$default_tab,$default_tab_content,$friends,$status,$warns)."			</ul>
		</div>
		<div class='ipsVerticalTabbed_content ipsLayout_content ipsBox_container' id='profile_content'>
			<div class='ipsPad'>
				<div id='profile_content_main'>
					<div id='user_info_cell'>
						<h1 class='ipsType_pagetitle'>
							<span class='fn nickname'>{$member['members_display_name']}</span>
						</h1>
						{$this->lang->words['m_member_since']} " . $this->registry->getClass('class_localization')->getDate($member['joined'],"DATE", 0) . "<br />
						" . ((!empty( $warns )) ? ("
							".$this->__f__a74ae3b1bb284dc72a6cc8dcdb2a47a7($tabs,$member,$visitors,$default_tab,$default_tab_content,$friends,$status,$warns)."						") : ("")) . "
						" . (($member['_online'] && ($member['online_extra'] != $this->lang->words['not_online'])) ? ("
							<span class='ipsBadge ipsBadge_green reset_cursor' data-tooltip=\"" . strip_tags($member['online_extra']) . "\">{$this->lang->words['online_online']}</span>
						") : ("
							<span class='ipsBadge ipsBadge_lightgrey reset_cursor'>{$this->lang->words['online_offline']}</span>
						")) . "
						<span class='desc lighter'>{$this->lang->words['m_last_active']} {$member['_last_active']}</span> 
					</div>
					" . (($status['status_id']) ? ("
					<div id='user_status_cell'>
						<div id='user_latest_status'>
							<div>
								" . IPSText::truncate( strip_tags( $status['status_content'] ), 180 ) . "
								<span class='ipsType_smaller desc lighter blend_links'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=status&amp;type=single&amp;status_id={$status['status_id']}", "public",'' ), "true", "members_status_single" ) . "'>{$this->lang->words['ps_updated']} " . $this->registry->getClass('class_localization')->getDate($status['status_date'],"manual{%d %b}", 0) . " &middot; " . intval($status['status_replies']) . " {$this->lang->words['ps_comments']}</a></span>
							</div>
						</div>
					</div>
					") : ("")) . "
					" . (($this->settings['pp_allow_member_rate']) ? ("<span class='rating left clear' style='margin-bottom: 10px'>
							" . (($this->memberData['member_id'] == $member['member_id'] || !$this->memberData['member_id']) ? ("" . (($member['pp_rating_real'] >= 1) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "" . (($member['pp_rating_real'] >= 2) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "" . (($member['pp_rating_real'] >= 3) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "" . (($member['pp_rating_real'] >= 4) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "" . (($member['pp_rating_real'] >= 5) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "<span id='rating_text' class='desc'></span>") : ("<a href='#' id='user_rate_1' title='{$this->lang->words['m_rate_1']}'>" . (($member['pp_rating_real'] >= 1) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "</a><a href='#' id='user_rate_2' title='{$this->lang->words['m_rate_2']}'>" . (($member['pp_rating_real'] >= 2) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "</a><a href='#' id='user_rate_3' title='{$this->lang->words['m_rate_3']}'>" . (($member['pp_rating_real'] >= 3) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "</a><a href='#' id='user_rate_4' title='{$this->lang->words['m_rate_4']}'>" . (($member['pp_rating_real'] >= 4) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "</a><a href='#' id='user_rate_5' title='{$this->lang->words['m_rate_5']}'>" . (($member['pp_rating_real'] >= 5) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "</a> <span id='rating_text' class='desc'></span>
								<script type='text/javascript'>
									rating = new ipb.rating( 'user_rate_', { 
														url: ipb.vars['base_url'] + 'app=members&module=ajax&section=rate&member_id={$member['member_id']}&md5check=' + ipb.vars['secure_hash'],
														cur_rating: " . ((isset($member['pp_rating_real'])) ? ("{$member['pp_rating_real']}") : ("0")) . ",
														rated: null,
														allow_rate: ( {$this->memberData['member_id']} != 0 ) ? 1 : 0,
														show_rate_text: false
													  } );
								</script>")) . "
						</span>") : ("")) . "
					<ul class='ipsList_inline' id='user_utility_links'>
						" . (($this->memberData['member_id'] AND $this->memberData['member_id'] != $member['member_id'] && $this->settings['friends_enabled'] AND $this->memberData['g_can_add_friends']) ? ("<li id='friend_toggle' class='ipsButton_secondary'>
								" . ((IPSMember::checkFriendStatus( $member['member_id'] )) ? ("
									<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;section=friends&amp;module=profile&amp;do=remove&amp;member_id={$member['member_id']}&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' title='{$this->lang->words['remove_friend']}'><img src='{$this->settings['img_url']}/user_delete.png' alt='{$this->lang->words['remove_friend']}' />&nbsp;&nbsp; {$this->lang->words['remove_as_friend']}</a>
								") : ("
									<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;section=friends&amp;module=profile&amp;do=add&amp;member_id={$member['member_id']}&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' title='{$this->lang->words['add_friend']}'><img src='{$this->settings['img_url']}/user_add.png' alt='{$this->lang->words['add_friend']}' />&nbsp;&nbsp; {$this->lang->words['add_me_friend']}</a>
								")) . "
							</li>") : ("")) . "
						" . ((($member['member_id'] != $this->memberData['member_id']) AND $this->memberData['g_use_pm'] AND $this->memberData['members_disable_pm'] == 0 AND IPSLib::moduleIsEnabled( 'messaging', 'members' ) AND $member['members_disable_pm'] == 0) ? ("
							<li class='pm_button' id='pm_xxx_{$member['member_id']}'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=messaging&amp;section=send&amp;do=form&amp;fromMemberID={$member['member_id']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['pm_this_member']}' class='ipsButton_secondary'>" . $this->registry->getClass('output')->getReplacement("send_msg") . "&nbsp;&nbsp; {$this->lang->words['send_message']}</a></li>
						") : ("")) . "
						<li>
							<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_activity&amp;mid={$member['member_id']}", "public",'' ), "", "" ) . "' class='ipsButton_secondary'>" . $this->registry->getClass('output')->getReplacement("find_topics_link") . "&nbsp;&nbsp;  {$this->lang->words['gbl_find_my_content']}</a>
						</li>
					</ul>
				</div>
				<div id='profile_panes_wrap' class='clearfix'>
					
					<div id='pane_core:info' class='ipsLayout ipsLayout_withright ipsLayout_largeright clearfix' " . (($default_tab != 'core:info') ? ("style='display: none'") : ("")) . ">						
						<div class='ipsLayout_content'>
							" . (($member['pp_about_me']) ? ("
								<div class='general_box clearfix'>
									<h3>{$this->lang->words['pp_tab_aboutme']}</h3>
									<div class='ipsPad'>
										
											{$member['pp_about_me']}
										
									</div>
								</div>
								<hr/>
							") : ("")) . "
							<div class='general_box clearfix'>
								<h3>{$this->lang->words['community_stats']}</h3>
								<br />								
								<ul class='ipsList_data clearfix'>									
									<li class='clear clearfix'>
										<span class='row_title'>{$this->lang->words['m_group']}</span>
										<span class='row_data'>{$member['g_title']}</span>
									</li>
									<li class='clear clearfix'>
										<span class='row_title'>{$this->lang->words['m_posts']}</span>
										<span class='row_data'>" . $this->registry->getClass('class_localization')->formatNumber( $member['posts'] ) . "</span>
									</li>
									<li class='clear clearfix'>
										<span class='row_title'>{$this->lang->words['m_profile_views']}</span>
										<span class='row_data'>" . $this->registry->getClass('class_localization')->formatNumber( $member['members_profile_views'] ) . "</span>
									</li>
									" . (($member['title'] != '') ? ("
										<li class='clear clearfix'>
											<span class='row_title'>{$this->lang->words['m_member_title']}</span>
											<span class='row_data'>{$member['title']}</span>
										</li>
									") : ("")) . "
									<li class='clear clearfix'>
										<span class='row_title'>{$this->lang->words['m_age_prefix']}</span>
										" . (($member['_age'] > 0) ? ("
											<span class='row_data'>{$member['_age']} {$this->lang->words['m_years_old']}</span>
										") : ("
											<span class='row_data desc lighter'>{$this->lang->words['m_age_unknown']}</span>
										")) . "
									</li>
									<li class='clear clearfix'>
										<span class='row_title'>{$this->lang->words['m_birthday_prefix']}</span>
										" . (($member['bday_day']) ? ("<span class='row_data'>{$member['_bday_month']} {$member['bday_day']}" . (($member['bday_year']) ? (", {$member['bday_year']}") : ("")) . "</span>") : ("
											<span class='row_data desc lighter'>{$this->lang->words['m_bday_unknown']}</span>
										")) . "
									</li>
									" . (($member['custom_fields']['profile_info'] != "") ? ("
										".$this->__f__c34d5911a275b1cd80c55302382b07e5($tabs,$member,$visitors,$default_tab,$default_tab_content,$friends,$status,$warns)."									") : ("")) . "
								</ul>
								<br />
							</div>
							
							" . (($member['custom_fields']) ? ("
								".$this->__f__79afe9f7528bfb73bf17256c1506e01a($tabs,$member,$visitors,$default_tab,$default_tab_content,$friends,$status,$warns)."							") : ("")) . "
							
							" . (($this->memberData['g_access_cp'] == 1 || is_array( $member['custom_fields']['contact'])) ? ("<div class='general_box clearfix'>
									<h3>{$this->lang->words['contact_info']}</h3>
									<br />
								
									<ul class='ipsList_data clearfix'>
										" . (($this->memberData['g_access_cp'] == 1) ? ("
											<li class='clear clearfix'>
												<span class='row_title'>{$this->lang->words['m_email']}</span>
												<span class='row_data'>
													<a href='mailto:{$member['email']}'>{$member['email']}</a>
												</span>
											</li>
										") : ("")) . "
										" . ((is_array( $member['custom_fields']['contact'])) ? ("
											".$this->__f__ffe600070e9349e051e408e702641081($tabs,$member,$visitors,$default_tab,$default_tab_content,$friends,$status,$warns)."										") : ("")) . "
									</ul>
								</div>") : ("")) . "
						</div>
						
						<div class='ipsLayout_right'>
							" . (($this->settings['reputation_enabled'] && $this->settings['reputation_show_profile']) ? ("" . (($member['pp_reputation_points'] > 0) ? ("
									<div class='reputation positive' data-tooltip=\"" . sprintf( $this->lang->words['rep_description'], $member['members_display_name'], $member['pp_reputation_points']) . "\">
								") : ("")) . "
								" . (($member['pp_reputation_points'] < 0) ? ("
									<div class='reputation negative' data-tooltip=\"" . sprintf( $this->lang->words['rep_description'], $member['members_display_name'], $member['pp_reputation_points']) . "\">
								") : ("")) . "
								" . (($member['pp_reputation_points'] == 0) ? ("
									<div class='reputation zero' data-tooltip=\"" . sprintf( $this->lang->words['rep_description'], $member['members_display_name'], $member['pp_reputation_points']) . "\">
								") : ("")) . "
										<span class='number'>{$member['pp_reputation_points']}</span>
										" . (($member['author_reputation'] && $member['author_reputation']['text']) ? ("
											<span class='title'>{$member['author_reputation']['text']}</span>
										") : ("")) . "
										" . (($member['author_reputation'] && $member['author_reputation']['image']) ? ("
											<span class='image'><img src='{$member['author_reputation']['image']}' alt='{$this->lang->words['m_reputation']}' /></span>
										") : ("")) . "
									</div>
								
								<br />") : ("")) . "
							
							" . ((($member['spamStatus'] !== NULL && $member['member_id'] != $this->memberData['member_id']) || ($this->memberData['g_mem_info'] && $this->settings['auth_allow_dnames']) || (($member['member_id'] != $this->memberData['member_id'] AND $this->memberData['g_is_supmod'] ) AND $member['customization']['type'])) ? ("<div class='general_box clearfix'>
									<h3>{$this->lang->words['user_tools']}</h3>
									<ul class='ipsPad'>	
										" . (($member['spamStatus'] !== NULL && $member['member_id'] != $this->memberData['member_id']) ? ("" . (($member['spamStatus'] === TRUE) ? ("
												<li><a href='#' onclick=\"return ipb.global.toggleFlagSpammer({$member['member_id']}, false)\">" . $this->registry->getClass('output')->getReplacement("spammer_on") . " {$this->lang->words['spm_on']}</a></li>
											") : ("
												<li><a href='{$this->settings['base_url']}app=core&amp;module=modcp&amp;do=setAsSpammer&amp;member_id={$member['member_id']}&amp;auth_key={$this->member->form_hash}' onclick=\"return ipb.global.toggleFlagSpammer({$member['member_id']}, true)\">" . $this->registry->getClass('output')->getReplacement("spammer_off") . " {$this->lang->words['spm_off']}</a></li>
											")) . "") : ("")) . "
										" . (($this->memberData['member_id'] && $this->memberData['g_mem_info'] && $this->settings['auth_allow_dnames']) ? ("
											<li id='dname_history'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=dname&amp;id={$member['member_id']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['view_dname_history']}'>" . $this->registry->getClass('output')->getReplacement("display_name") . " {$this->lang->words['display_name_history']}</a></li>
										") : ("")) . "
								
										" . ((($member['member_id'] != $this->memberData['member_id'] AND $this->memberData['g_is_supmod'] ) AND $member['customization']['type']) ? ("
											<li><strong><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$member['member_id']}&amp;secure_key={$this->member->form_hash}&amp;removeCustomization=1", "public",'' ), "{$member['members_seo_name']}", "showuser" ) . "'><img src='{$this->settings['img_url']}/delete.png' alt='-' /> {$this->lang->words['cust_remove']}</a></strong></li>
											<li><strong><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$member['member_id']}&amp;secure_key={$this->member->form_hash}&amp;removeCustomization=1&amp;disableCustomization=1", "public",'' ), "{$member['members_seo_name']}", "showuser" ) . "'><img src='{$this->settings['img_url']}/delete.png' alt='-' /> {$this->lang->words['cust_disable']}</a></strong></li>
										") : ("")) . "
									</ul>
								</div>") : ("")) . "
							
							" . (($member['pp_setting_count_friends'] and $this->settings['friends_enabled']) ? ("<div class='general_box clearfix' id='friends_overview'>
									<h3>{$this->lang->words['m_title_friends']}</h3>
									<div class='ipsPad'>
										" . ((count($friends) AND is_array($friends)) ? ("
											".$this->__f__8d6d1e7d1b1686c9fd1e41ab49dc7482($tabs,$member,$visitors,$default_tab,$default_tab_content,$friends,$status,$warns)."										") : ("
											<p class='desc'>
												{$member['members_display_name']} {$this->lang->words['no_friends_yet']}
											</p>
										")) . "
									</div>
								</div>") : ("")) . "
							
							" . (($member['pp_setting_count_visitors']) ? ("<div class='general_box clearfix'>
									<h3>{$this->lang->words['latest_visitors']}</h3>
									" . ((is_array( $visitors ) && count( $visitors )) ? ("
										<ul class='ipsList_withminiphoto ipsPad'>
											".$this->__f__5412142ecbfafd9ddf4a0986907c7451($tabs,$member,$visitors,$default_tab,$default_tab_content,$friends,$status,$warns)."										</ul>
									") : ("
										<p class='ipsPad desc'>{$this->lang->words['no_latest_visitors']}</p>
									")) . "
								</div>") : ("")) . "
						</div>
					</div>
					
					" . (($default_tab != 'core:info') ? ("
					<div id='pane_{$default_tab}'>
						{$default_tab_content}
					</div>
					") : ("")) . "
				</div>
				
			</div>
		</div>
		
	</div>
</div>
" . ((($this->memberData['member_id'] && $member['member_id'] != $this->memberData['member_id'])) ? ("
	<br />
	<ul class='topic_buttons'>
		<li class='non_button clearfix'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=reports&amp;section=reports&amp;rcom=profiles&amp;member_id={$member['member_id']}", "public",'' ), "", "" ) . "'>{$this->lang->words['report_member']}</a></li>
	</ul>
") : ("")) . "
<script type='text/javascript'>
	$(\"profile_content\").setStyle( { minHeight: $('profile_tabs').measure('margin-box-height') + 138 + \"px\" } );
</script>
<!-- ******************************************************************************************* -->
" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'include_highlighter' ) ? $this->registry->getClass('output')->getTemplate('global')->include_highlighter() : '' ) . "";
return $IPBHTML;
}


function __f__38d8d167cd0636e77807c4c7843e1f5c($tabs=array(), $member=array(), $visitors=array(), $default_tab='status', $default_tab_content='', $friends=array(), $status=array(), $warns=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $tabs as $tab )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
					<li id='tab_link_{$tab['app']}:{$tab['plugin_key']}' class='" . (($tab['app'].':'.$tab['plugin_key'] == $default_tab || $this->request['tab'] == $tab['plugin_key']) ? ("active") : ("")) . " tab_toggle' data-tabid='{$tab['plugin_key']}'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$member['member_id']}&amp;tab={$tab['plugin_key']}", "public",'' ), "{$member['members_seo_name']}", "showuser" ) . "' title='{$this->lang->words['view']} {$tab['_lang']}'>{$tab['_lang']}</a></li>
				
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__a74ae3b1bb284dc72a6cc8dcdb2a47a7($tabs=array(), $member=array(), $visitors=array(), $default_tab='status', $default_tab_content='', $friends=array(), $status=array(), $warns=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( array( 'ban', 'suspend', 'rpa', 'mq' ) as $k )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
								" . ((isset( $warns[ $k ] )) ? ("<span class='ipsBadge ipsBadge_red" . (($warns[ $k ]) ? (" clickable") : ("")) . "' " . (($warns[ $k ]) ? ("onclick='warningPopup( this, {$warns[ $k ]} )'") : ("")) . ">{$this->lang->words[ 'warnings_profile_badge_' . $k ]}</span>") : ("")) . "
							
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__c34d5911a275b1cd80c55302382b07e5($tabs=array(), $member=array(), $visitors=array(), $default_tab='status', $default_tab_content='', $friends=array(), $status=array(), $warns=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $member['custom_fields']['profile_info'] as $key => $value )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
											" . ((!empty($value)) ? ("
												<li class='clear clearfix'>
													{$value}
												</li>
											") : ("")) . "
										
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__46b4f716173c67d45e4dab44121a147f($tabs=array(), $member=array(), $visitors=array(), $default_tab='status', $default_tab_content='', $friends=array(), $status=array(), $warns=array(),$group='',$mdata='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $member['custom_fields'][ $group ] as $key => $value )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
														<li class='clear clearfix'>
															{$value}
														</li>
													
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__79afe9f7528bfb73bf17256c1506e01a($tabs=array(), $member=array(), $visitors=array(), $default_tab='status', $default_tab_content='', $friends=array(), $status=array(), $warns=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $member['custom_fields'] as $group => $mdata )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
									" . (($group != 'profile_info' AND $group != 'contact') ? ("" . ((is_array( $member['custom_fields'][ $group ] ) AND count( $member['custom_fields'][ $group ] )) ? ("
											<div class='general_box clearfix' id='custom_fields_{$group}'>
												<h3 class='bar'>{$member['custom_field_groups'][ $group ]}</h3>
												<br />
												<ul class='ipsList_data clearfix'>
													".$this->__f__46b4f716173c67d45e4dab44121a147f($tabs,$member,$visitors,$default_tab,$default_tab_content,$friends,$status,$warns,$group,$mdata)."												</ul>
												<br />
											</div>
										") : ("")) . "") : ("")) . "
								
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__ffe600070e9349e051e408e702641081($tabs=array(), $member=array(), $visitors=array(), $default_tab='status', $default_tab_content='', $friends=array(), $status=array(), $warns=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $member['custom_fields']['contact'] as $field )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
												{$field}
											
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__8d6d1e7d1b1686c9fd1e41ab49dc7482($tabs=array(), $member=array(), $visitors=array(), $default_tab='status', $default_tab_content='', $friends=array(), $status=array(), $warns=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $friends as $friend )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
												<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$friend['member_id']}", "public",'' ), "{$friend['members_seo_name']}", "showuser" ) . "' class='ipsUserPhotoLink'>
													<img src='{$friend['pp_mini_photo']}' class='ipsUserPhoto ipsUserPhoto_mini' data-tooltip='{$friend['members_display_name']}' />
												</a>
											
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__5412142ecbfafd9ddf4a0986907c7451($tabs=array(), $member=array(), $visitors=array(), $default_tab='status', $default_tab_content='', $friends=array(), $status=array(), $warns=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $visitors as $visitor )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
											<li class='clearfix'>
												" . (($visitor['member_id']) ? ("
													<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$visitor['member_id']}", "public",'' ), "{$visitor['members_seo_name']}", "showuser" ) . "' title='{$this->lang->words['view_profile']}' class='ipsUserPhotoLink left'><img src='{$visitor['pp_mini_photo']}' alt='{$this->lang->words['photo']}' class='ipsUserPhoto ipsUserPhoto_mini' /></a>
												") : ("
													<img src='{$visitor['pp_mini_photo']}' alt='{$this->lang->words['photo']}' class='ipsUserPhoto ipsUserPhoto_mini left' />
												")) . "
												<div class='list_content'>
													" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($visitor) : '' ) . "
													<br />
													<span class='desc lighter'>{$visitor['_visited_date']}</span>
												</div>
											</li>
											
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- reputationPage --*/
function reputationPage($langBit, $currentApp='', $supportedApps=array(), $processedResults='') {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- showCard --*/
function showCard($member, $download=0) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_profile', $this->_funcHooks['showCard'] ) )
{
$count_5f83a4098f768d36148f7632bc22bb88 = is_array($this->functionData['showCard']) ? count($this->functionData['showCard']) : 0;
$this->functionData['showCard'][$count_5f83a4098f768d36148f7632bc22bb88]['member'] = $member;
$this->functionData['showCard'][$count_5f83a4098f768d36148f7632bc22bb88]['download'] = $download;
}
$IPBHTML .= "<div class='vcard userpopup'>
	<h3><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$member['member_id']}", "public",'' ), "{$member['members_seo_name']}", "showuser" ) . "\" class=\"fn nickname url\">{$member['members_display_name']}</a></h3>
	<div>
		" . (($member['pp_status']) ? ("
			<p class='message user_status'>" . $this->registry->getClass('output')->getReplacement("user_status") . "&nbsp; <strong>{$member['members_display_name']}</strong> {$member['pp_status']}</p>
		") : ("")) . "
		<div class='info'>
			<img class='photo' src=\"{$member['pp_thumb_photo']}\" alt=\"{$this->lang->words['get_photo']}\" width='{$member['pp_thumb_width']}' height='{$member['pp_thumb_height']}' alt='photo' />
			<dl>
				<dt>{$this->lang->words['m_group']}</dt>
				<dd>{$member['g_title']}</dd>
				<dt>{$this->lang->words['m_posts']}</dt>
				<dd>" . $this->registry->getClass('class_localization')->formatNumber( $member['posts'] ) . "</dd>
				<dt>{$this->lang->words['m_member_since']}</dt>
				<dd>" . $this->registry->getClass('class_localization')->getDate($member['joined'],"joined", 0) . "</dd>
				<dt>{$this->lang->words['m_last_active']}</dt>
				<dd>" . (($member['_online']) ? ("" . $this->registry->getClass('output')->getReplacement("user_online") . "") : ("" . $this->registry->getClass('output')->getReplacement("user_offline") . "")) . " {$member['_last_active']}</dd>
				<dt>{$this->lang->words['m_currently']}</dt>
				<dd>" . (($member['_online']) ? ("
						{$member['online_extra']}
					") : ("
						{$this->lang->words['online_offline']}
					")) . "
				</dd>
				" . (($this->memberData['g_access_cp'] == 1) ? ("
					<dt>{$this->lang->words['m_email']}</dt>
					<dd><a href='mailto:{$member['email']}'>{$member['email']}</a></dd>
				") : ("")) . "
			</dl>
		</div>
		
		<ul class='user_controls clear'>
			" . (($member['spamStatus'] !== NULL && $member['member_id'] != $this->memberData['member_id']) ? ("" . (($member['spamStatus'] === TRUE) ? ("
					<li><a href='#' title='{$this->lang->words['spm_on']}' onclick=\"return ipb.global.toggleFlagSpammer({$member['member_id']}, false)\">" . $this->registry->getClass('output')->getReplacement("spammer_on") . "</a></li>
				") : ("
					<li><a title='{$this->lang->words['spm_off']}' href='{$this->settings['base_url']}app=core&amp;module=modcp&amp;section=editmember&amp;do=setAsSpammer&amp;member_id={$member['member_id']}&amp;auth_key={$this->member->form_hash}' onclick=\"return ipb.global.toggleFlagSpammer({$member['member_id']}, true)\">" . $this->registry->getClass('output')->getReplacement("spammer_off") . "</a></li>
				")) . "") : ("")) . "
			" . (($this->memberData['member_id'] AND $this->memberData['member_id'] != $member['member_id'] && $this->settings['friends_enabled'] AND $this->memberData['g_can_add_friends']) ? ("" . ((IPSMember::checkFriendStatus( $member['member_id'] )) ? ("
					<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=friends&amp;do=remove&amp;member_id={$member['member_id']}&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' title='{$this->lang->words['remove_friend']}'>" . $this->registry->getClass('output')->getReplacement("remove_friend") . "</a></li>
				") : ("
					<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=friends&amp;do=add&amp;member_id={$member['member_id']}&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' title='{$this->lang->words['add_friend']}'>" . $this->registry->getClass('output')->getReplacement("add_friend") . "</a></li>								
				")) . "") : ("")) . "
			" . (($this->memberData['member_id'] AND $this->memberData['member_id'] != $member['member_id'] AND $this->memberData['g_use_pm'] AND $this->memberData['members_disable_pm'] == 0 AND IPSLib::moduleIsEnabled( 'messaging', 'members' )) ? ("
				<li class='pm_button' id='pm_xxx_{$member['member_id']}'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=messaging&amp;section=send&amp;do=form&amp;fromMemberID={$member['member_id']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['pm_this_member']}'>" . $this->registry->getClass('output')->getReplacement("send_msg") . "</a></li>
			") : ("")) . "
			
			<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_posts&amp;mid={$member['member_id']}&amp;search_filter_app[forums]=1&amp;view_by_title=1", "public",'' ), "", "" ) . "' title='{$this->lang->words['find_topics']}'>" . $this->registry->getClass('output')->getReplacement("find_topics_link") . "</a></li>		
			<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_posts&amp;mid={$member['member_id']}" . ((! in_array( $this->settings['search_method'], array( 'traditional', 'sphinx' ) )) ? ("&amp;search_filter_app[forums]=1") : ("")) . "", "public",'' ), "", "" ) . "' title='{$this->lang->words['find_posts']}'>" . $this->registry->getClass('output')->getReplacement("find_posts_link") . "</a></li>
			" . (($member['has_blog'] AND IPSLib::appIsInstalled( 'blog' )) ? ("
				<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;mid={$member['member_id']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['view_blog']}'>" . $this->registry->getClass('output')->getReplacement("blog_link") . "</a></li>
			") : ("")) . "
			" . (($member['has_gallery'] AND IPSLib::appIsInstalled( 'gallery' )) ? ("
				<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=gallery&amp;module=user&amp;section=user&amp;user={$member['member_id']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['view_gallery']}'>" . $this->registry->getClass('output')->getReplacement("gallery_link") . "</a></li>
			") : ("")) . "
		</ul>
		
		
		" . (($this->settings['reputation_enabled'] && $this->settings['reputation_show_profile']) ? ("" . (($member['pp_reputation_points'] > 0) ? ("
				<div class='reputation positive'>
			") : ("")) . "
			" . (($member['pp_reputation_points'] < 0) ? ("
				<div class='reputation negative'>
			") : ("")) . "
			" . (($member['pp_reputation_points'] == 0) ? ("
				<div class='reputation zero'>
			") : ("")) . "
					<span class='number'>{$this->lang->words['m_reputation']} {$member['pp_reputation_points']}</span>
				</div>") : ("")) . "
	</div>
</div>";
return $IPBHTML;
}

/* -- showComments --*/
function showComments($member, $comments=array(), $new_id=0, $return_msg='', $links='') {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_profile', $this->_funcHooks['showComments'] ) )
{
$count_d48ee74dfa4d1365e16a63c05184e274 = is_array($this->functionData['showComments']) ? count($this->functionData['showComments']) : 0;
$this->functionData['showComments'][$count_d48ee74dfa4d1365e16a63c05184e274]['member'] = $member;
$this->functionData['showComments'][$count_d48ee74dfa4d1365e16a63c05184e274]['comments'] = $comments;
$this->functionData['showComments'][$count_d48ee74dfa4d1365e16a63c05184e274]['new_id'] = $new_id;
$this->functionData['showComments'][$count_d48ee74dfa4d1365e16a63c05184e274]['return_msg'] = $return_msg;
$this->functionData['showComments'][$count_d48ee74dfa4d1365e16a63c05184e274]['links'] = $links;
}

if ( ! isset( $this->registry->templateStriping['comments'] ) ) {
$this->registry->templateStriping['comments'] = array( FALSE, "row1","off");
}
$IPBHTML .= "" . ((is_array($comments) and count($comments)) ? ("<div id='comment_innerwrap' class='comment_wrap clearfix'>
		<div class='topic_controls" . ((!$this->memberData['member_id']) ? (" no-form") : ("")) . "'>
			{$links}
		</div>
		<ol id='comment_list' class='clear'>
				".$this->__f__c8f8da3281fde0052b940ed3b68410a1($member,$comments,$new_id,$return_msg,$links)."		</ol>
		<div class='topic_controls'>
			{$links}
		</div>
	</div>
	" . (($new_id != 0) ? ("
		<div class='topic_controls'>
			{$links}
		</div>
	") : ("")) . "") : ("")) . "";
return $IPBHTML;
}


function __f__c8f8da3281fde0052b940ed3b68410a1($member, $comments=array(), $new_id=0, $return_msg='', $links='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $comments as $comment )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			" . (($new_id == 0 || $comment['comment_id'] == $new_id) ? ("<li id='comment_id_{$comment['comment_id']}'>
					<div class='comment clearfix " .  IPSLib::next( $this->registry->templateStriping["comments"] ) . " " . ((!$comment['comment_approved']) ? (" moderated") : ("")) . "'>
						<img src='{$comment['pp_thumb_photo']}' width='{$comment['pp_thumb_width']}' height='{$comment['pp_thumb_height']}' class='photo' alt='{$this->lang->words['photo']}' />
						<h4>" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($comment) : '' ) . "</h4>
						<span class='posted_date desc'>
							{$comment['_comment_date']}
						</span>
						<div id='comment_{$comment['comment_id']}' class='comment_content'>
							{$comment['comment_content']}
						</div>
						" . (($this->memberData['member_id'] == $member['member_id'] OR $this->memberData['g_is_supmod']) ? ("<ul class='comment_options'>
								<li>
									<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=comments&amp;do=delete&amp;comment_id={$comment['comment_id']}&amp;member_id={$member['member_id']}&amp;authKey={$this->member->form_hash}", "public",'' ), "", "" ) . "' title='{$this->lang->words['delete_this_comment']}' class='delete_comment'>{$this->lang->words['delete_comment_text']}</a>
								</li>
								" . ((! $comment['comment_approved']) ? ("
									<li>
										<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=comments&amp;do=approve&amp;comment_id={$comment['comment_id']}&amp;member_id={$member['member_id']}&amp;authKey={$this->member->form_hash}", "public",'' ), "", "" ) . "' title='{$this->lang->words['approve_this_comment']}'>{$this->lang->words['m_approve']}</a>
									</li>
								") : ("")) . "
							</ul>") : ("")) . "
					</div>
				</li>") : ("")) . "
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- showIframeComments --*/
function showIframeComments($member, $comments, $pages) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_profile', $this->_funcHooks['showIframeComments'] ) )
{
$count_308e7a84fadc5b8412769b1ec849c21e = is_array($this->functionData['showIframeComments']) ? count($this->functionData['showIframeComments']) : 0;
$this->functionData['showIframeComments'][$count_308e7a84fadc5b8412769b1ec849c21e]['member'] = $member;
$this->functionData['showIframeComments'][$count_308e7a84fadc5b8412769b1ec849c21e]['comments'] = $comments;
$this->functionData['showIframeComments'][$count_308e7a84fadc5b8412769b1ec849c21e]['pages'] = $pages;
}
$IPBHTML .= "<div id='pp-iframe-wrap' class='pp-contentbox-back' style='overflow:auto'>
<form onsubmit='check_form()' action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;section=comments&amp;module=profile&amp;do=save&amp;member_id={$member['member_id']}&amp;md5check={$this->member->form_hash}", "public",'' ), "", "" ) . "' method='POST'>
	" . ((is_array($comments) and count($comments)) ? ("".$this->__f__cb2f57852522d462fe0d3f9a6b065f78($member,$comments,$pages)."		<div class='pp-contentbox-entry-noheight'>
			<div style='float:right'>
				" . ((( $member['member_id'] == $this->memberData['member_id'] ) OR ( $this->memberData['g_is_supmod'] )) ? ("
					<select name='pp-moderation' id='pp-moderation'>
						<option value='approve'>{$this->lang->words['m_comment_app']}</option>
						<option value='unapprove'>{$this->lang->words['m_comment_unapp']}</option>
						<option value='delete'>{$this->lang->words['m_comment_delete']}</option>
					</select>
					<input type='submit' class='button' value='{$this->lang->words['m_go_button']} ' />
				") : ("")) . "
			</div>
			<div style='margin-top:7px'>{$pages}&nbsp;</div>") : ("
		<div class='post1' style='padding:6px'>
			<em>{$this->lang->words['m_no_comments']} {$member['members_display_name']}.</em>
		</div>
	")) . "
</form>
</div>
<br /><br /><br /> <!-- Gotta give room for page jump... -->
<script type='text/javascript'>
//<![CDATA
var _saved = parseInt( \"{$this->request['_saved']}\" );
if ( _saved )
{
	parent.ips_personal_portal.reload_comments();
}
// Check form
function check_form()
{
	var selectbox = document.getElementById('pp-moderation');
	var chosen    = selectbox.options[ selectbox.selectedIndex ].value;
	
	if ( chosen == 'delete' )
	{
		if ( confirm(\"{$this->lang->words['m_confirm']}\") )
		{
			return true;
		}
		else
		{
			return false;
		}
	}
	else
	{
		return true;
	}
}
//]]>
</script>";
return $IPBHTML;
}


function __f__cb2f57852522d462fe0d3f9a6b065f78($member, $comments, $pages)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $comments as $comment )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			" . (($comment['comment_approved']) ? ("
				<div class='pp-contentbox-entry-noheight' id='pp-comment-entry-main-{$comment['comment_id']}'>
			") : ("
				<div class='pp-contentbox-entry-noheight-mod' id='pp-comment-entry-main-{$comment['comment_id']}'>
			")) . "
				<div class='pp-tiny-text'>
				<div class='pp-image-thumb-wrap-floatright'><img src='{$comment['pp_thumb_photo']}' width='{$comment['pp_thumb_width']}' height='{$comment['pp_thumb_height']}' alt='' /></div>
					" . ((( $member['member_id'] == $this->memberData['member_id'] ) OR ( $this->memberData['g_is_supmod'] )) ? ("
						<!-- MOD CHECKBOX -->
						<input type='checkbox' class='input-checkbox' id=\"pp-checked-{$comment['comment_id']}\" name=\"pp-checked[{$comment['comment_id']}]\" value='1' onclick=\"parent.ips_personal_portal.toggle_comment_box('{$comment['comment_id']}', 1)\" />
						<!-- / MOD CHECKBOX -->
					") : ("")) . "
					<strong>" . (($comment['member_id']) ? ("<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$comment['member_id']}", "public",'' ), "{$comment['members_seo_name']}", "showuser" ) . "' target='_parent'>") : ("")) . "{$comment['members_display_name']}" . (($comment['member_id']) ? ("</a>") : ("")) . "</strong>
					<br />
					{$comment['comment_content']}
					<br />
					<strong>{$comment['_comment_date']}</strong>
				</div>
			</div>
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- statusReplies --*/
function statusReplies($replies=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_profile', $this->_funcHooks['statusReplies'] ) )
{
$count_1a5cbc488890791f5c4f1f32991fc90e = is_array($this->functionData['statusReplies']) ? count($this->functionData['statusReplies']) : 0;
$this->functionData['statusReplies'][$count_1a5cbc488890791f5c4f1f32991fc90e]['replies'] = $replies;
}
$IPBHTML .= "".$this->__f__bb99924798c783cc55a44d1d809018c0($replies)."";
return $IPBHTML;
}


function __f__bb99924798c783cc55a44d1d809018c0($replies=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $replies as $reply )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
	<div id='statusReply-{$reply['reply_id']}' class='status_mini_wrap row2'>
		<div class=\"status_mini_photo\">
			<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$reply['member_id']}", "public",'' ), "{$reply['members_seo_name']}", "showuser" ) . "' title='{$this->lang->words['view_profile']}'><img src='{$reply['pp_mini_photo']}' width='{$reply['pp_mini_width']}' height='{$reply['pp_mini_height']}' alt=\"" . sprintf($this->lang->words['users_photo'],$reply['members_display_name']) . "\" class='photo' /></a>	
		</div>
		<div class=\"status_mini_content\">
			<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$reply['member_id']}", "public",'' ), "{$reply['members_seo_name']}", "showuser" ) . "' title='{$this->lang->words['view_profile']}' style='font-weight:bold'>{$reply['members_display_name']}</a> &middot; <span class='desc'>{$reply['reply_date_formatted']}" . (($reply['_canDelete']) ? (" &middot; <a href=\"{$this->settings['base_url']}app=members&amp;module=profile&amp;section=status&amp;do=deleteReply&amp;status_id={$reply['reply_status_id']}&reply_id={$reply['reply_id']}&amp;k={$this->member->form_hash}\" id=\"statusReplyDelete-{$reply['reply_status_id']}-{$reply['reply_id']}\" class=\"__sDR __dr{$reply['reply_status_id']}-{$reply['reply_id']}\">{$this->lang->words['status_delete_link']}</a>") : ("")) . "</span>
			<h5>{$reply['reply_content']}</h5>
		</div>
	</div>

";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- statusUpdates --*/
function statusUpdates($updates=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_profile', $this->_funcHooks['statusUpdates'] ) )
{
$count_130083ab17cab4ce39742282b1c91fae = is_array($this->functionData['statusUpdates']) ? count($this->functionData['statusUpdates']) : 0;
$this->functionData['statusUpdates'][$count_130083ab17cab4ce39742282b1c91fae]['updates'] = $updates;
}
$IPBHTML .= "".$this->__f__0c9f6e12335e55278fd59ff3a97b7ded($updates)."";
return $IPBHTML;
}


function __f__0c9f6e12335e55278fd59ff3a97b7ded($updates=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $updates as $id => $status )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
<div class=\"row touch-row clearfix\" id=\"update-{$id}\">
	<img src='{$status['pp_thumb_photo']}' alt=\"" . sprintf($this->lang->words['users_photo'],$status['members_display_name']) . "\" class='photo' />
	<p>
		<a class=\"title\" href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$status['member_id']}", "public",'' ), "{$status['members_seo_name']}", "showuser" ) . "' title='{$this->lang->words['view_profile']}'>{$status['members_display_name']}</a><br />
		{$status['status_content']}
	</p>
</div>

";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- statusUpdatesPage --*/
function statusUpdatesPage($updates=array(), $actions) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_profile', $this->_funcHooks['statusUpdatesPage'] ) )
{
$count_94b426d5791b8092674fd8070f2cd441 = is_array($this->functionData['statusUpdatesPage']) ? count($this->functionData['statusUpdatesPage']) : 0;
$this->functionData['statusUpdatesPage'][$count_94b426d5791b8092674fd8070f2cd441]['updates'] = $updates;
$this->functionData['statusUpdatesPage'][$count_94b426d5791b8092674fd8070f2cd441]['actions'] = $actions;
}

if ( ! isset( $this->registry->templateStriping['recent_status'] ) ) {
$this->registry->templateStriping['recent_status'] = array( FALSE, "row1","row2 altrow");
}
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("status", "0" ) . "<h2>{$this->lang->words['status_updates__overview']}</h2>
<div class=\"master_list status_updates\">
" . (($this->memberData['member_id'] AND $this->settings['friends_enabled']) ? ("
	<div class=\"controls\">
		<div class=\"buttons\">
			<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=status&amp;type=all", "public",'' ), "true", "members_status_all" ) . "' class=\"button\">{$this->lang->words['status__all_updates']}</a>
			<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=status&amp;type=friends", "public",'' ), "true", "members_status_friends" ) . "' class=\"button\">{$this->lang->words['status__myfriends']}</a>
		</div>
	</div>
") : ("")) . "
<div id='board_index' class='clearfix'>
	<div id='status_standalone_page'>
		<div id=\"status_wrapper\">
			" . ((count( $updates )) ? ("
				" . ( method_exists( $this->registry->getClass('output')->getTemplate('profile'), 'statusUpdates' ) ? $this->registry->getClass('output')->getTemplate('profile')->statusUpdates($updates) : '' ) . "
			") : ("
				<p class='no_messages'>{$this->lang->words['status_updates_none']}</p>
			")) . "
		</div>
	</div>
</div>
</div>";
return $IPBHTML;
}

/* -- tabAboutMe --*/
function tabAboutMe($member=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_profile', $this->_funcHooks['tabAboutMe'] ) )
{
$count_cb87ad446bec6425b12bfce85abd54cf = is_array($this->functionData['tabAboutMe']) ? count($this->functionData['tabAboutMe']) : 0;
$this->functionData['tabAboutMe'][$count_cb87ad446bec6425b12bfce85abd54cf]['member'] = $member;
}
$IPBHTML .= "<h3 class='bar'>{$this->lang->words['pp_tab_aboutme']}</h3>
<div class='general_box'>
	" . (($member['pp_about_me'] OR $member['signature']) ? ("{$member['pp_about_me']}
		
		" . (($member['signature']) ? ("
				{$member['signature']}
		") : ("")) . "") : ("
		{$this->lang->words['err_no_aboutme_to_show']}
	")) . "
</div>";
return $IPBHTML;
}

/* -- tabFriends --*/
function tabFriends($friends=array(), $member=array(), $pagination='') {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- tabNoContent --*/
function tabNoContent($langkey) {
$IPBHTML = "";
$IPBHTML .= "<h3 class='bar'>{$this->lang->words['tab_message_h']}</h3>
<div class='general_box'>
	{$this->lang->words[ $langkey ]}
</div>";
return $IPBHTML;
}

/* -- tabPosts --*/
function tabPosts($content) {
$IPBHTML = "";
$IPBHTML .= "<h3 class='bar'>{$this->lang->words['posts_made']}</h3>
<div class='general_box alt'>
	<ol>
		$content
	</ol>
</div>";
return $IPBHTML;
}

/* -- tabReputation --*/
function tabReputation($member, $currentApp='', $type='', $supportedApps=array(), $processedResults='', $pagination='') {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- tabReputation_calendar --*/
function tabReputation_calendar($results) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- tabReputation_posts --*/
function tabReputation_posts($results) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- tabSingleColumn --*/
function tabSingleColumn($row=array(), $read_more_link='', $url='', $title='') {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_profile', $this->_funcHooks['tabSingleColumn'] ) )
{
$count_70bb1cc4e0dce83474b1bd86711b9314 = is_array($this->functionData['tabSingleColumn']) ? count($this->functionData['tabSingleColumn']) : 0;
$this->functionData['tabSingleColumn'][$count_70bb1cc4e0dce83474b1bd86711b9314]['row'] = $row;
$this->functionData['tabSingleColumn'][$count_70bb1cc4e0dce83474b1bd86711b9314]['read_more_link'] = $read_more_link;
$this->functionData['tabSingleColumn'][$count_70bb1cc4e0dce83474b1bd86711b9314]['url'] = $url;
$this->functionData['tabSingleColumn'][$count_70bb1cc4e0dce83474b1bd86711b9314]['title'] = $title;
}
$IPBHTML .= "<li style='list-style:none'>
	" . (($title) ? ("" . (($url) ? ("
			<h4><a href=\"$url\" title=\"{$this->lang->words['view_topic']}\">$title</a></h4>
		") : ("
			<h4>$title</h4>
		")) . "") : ("")) . "
	<p class='posted_info'>{$this->lang->words['posted']} {$row['_date_array']['mday']} {$row['_date_array']['smonth']} {$row['_date_array']['year']}</p>
	<div class='post_body'>
		{$row['post']}
	</div>
</li>";
return $IPBHTML;
}

/* -- tabStatusUpdates --*/
function tabStatusUpdates($updates=array(), $actions, $member=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_profile', $this->_funcHooks['tabStatusUpdates'] ) )
{
$count_85752364953a419d4b7b5252c24725fc = is_array($this->functionData['tabStatusUpdates']) ? count($this->functionData['tabStatusUpdates']) : 0;
$this->functionData['tabStatusUpdates'][$count_85752364953a419d4b7b5252c24725fc]['updates'] = $updates;
$this->functionData['tabStatusUpdates'][$count_85752364953a419d4b7b5252c24725fc]['actions'] = $actions;
$this->functionData['tabStatusUpdates'][$count_85752364953a419d4b7b5252c24725fc]['member'] = $member;
}

if ( ! isset( $this->registry->templateStriping['recent_status'] ) ) {
$this->registry->templateStriping['recent_status'] = array( FALSE, "row1","row2");
}
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("status", "0" ) . "<div class='status_profile_page'>
	" . (($this->memberData['member_id'] AND ( $this->memberData['member_id'] == $member['member_id'] ) AND $this->registry->getClass('memberStatus')->canCreate( $member )) ? ("
		<div class='status_update row2 altrow'>
			<input type='text' id='statusUpdate' style='width:80%'> <input type='submit' class='input_submit' id='statusSubmit' value='{$this->lang->words['_rarr']}' />
		</div>
	") : ("")) . "
	<div id=\"status_wrapper\">
		" . ((count( $updates )) ? ("
			" . ( method_exists( $this->registry->getClass('output')->getTemplate('profile'), 'statusUpdates' ) ? $this->registry->getClass('output')->getTemplate('profile')->statusUpdates($updates) : '' ) . "
		") : ("
			<p>{$this->lang->words['status_updates_none']}</p>
		")) . "
	</div>
</div>
<div class='status_profile_actions'>
	" . ((count( $actions )) ? ("".$this->__f__989b8b44c4bf6ab0308268dd6cef4cfe($updates,$actions,$member)."		<br />
		<div class='right'>
			<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=status&amp;member_id={$member['member_id']}", "public",'' ), "true", "members_status_all" ) . "'>View All</a>
		</div>
	") : ("
		<p>{$this->lang->words['status_actions_none']}</p>
	")) . "
</div>";
return $IPBHTML;
}


function __f__989b8b44c4bf6ab0308268dd6cef4cfe($updates=array(), $actions, $member=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $actions as $id => $row )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			<div class='" .  IPSLib::next( $this->registry->templateStriping["recent_status"] ) . " clear'>
				<div class='status_action_left'><img src=\"{$this->settings['img_url']}/profile/commentAction.gif\" alt=\"\" /></div>
				<div class='status_action_right'>" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($row) : '' ) . "
				replied to " . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($row['owner']) : '' ) . "'s
				<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=status&amp;type=all&amp;status_id={$row['action_status_id']}", "public",'' ), "true", "members_status_all" ) . "'>status</a>
				<br /><span class='desc'>{$row['action_date_formatted_short']}</span>
				</div>
			</div>
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- tabTopics --*/
function tabTopics($content) {
$IPBHTML = "";
$IPBHTML .= "<h3 class='bar'>{$this->lang->words['topics_started']}</h3>
<div class='general_box alt'>
	<ol>
		$content
	</ol>
</div>";
return $IPBHTML;
}


}


/*--------------------------------------------------*/
/* END OF FILE                                      */
/*--------------------------------------------------*/

?>