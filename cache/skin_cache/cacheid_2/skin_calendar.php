<?php
/*--------------------------------------------------*/
/* FILE GENERATED BY INVISION POWER BOARD 3         */
/* CACHE FILE: Skin set id: 2               */
/* CACHE FILE: Generated: Wed, 29 Aug 2012 14:14:59 GMT */
/* DO NOT EDIT DIRECTLY - THE CHANGES WILL NOT BE   */
/* WRITTEN TO THE DATABASE AUTOMATICALLY            */
/*--------------------------------------------------*/

class skin_calendar_2 extends skinMaster{

/**
* Construct
*/
function __construct( ipsRegistry $registry )
{
	parent::__construct( $registry );
	

$this->_funcHooks = array();
$this->_funcHooks['boardIndexCalEvents'] = array('calendarEventsInner','calendarEventsOuter');
$this->_funcHooks['cal_date_cell'] = array('datecellqueued');
$this->_funcHooks['cal_date_cell_today'] = array('todayqueued');
$this->_funcHooks['cal_week_dayentry'] = array('weekdayentryqueued');
$this->_funcHooks['calendarBirthdayList'] = array('age','addfriend','notus','sendpm','blog','gallery','rate1','rate2','rate3','rate4','rate5','rating','norep','posrep','negrep','repson','members','showmembers');
$this->_funcHooks['calendarEventForm'] = array('startIsAm','startIsPm','usestandardstart','endIsAm','endIsPm','usestandardend','recurDaily','recurMonthly','recurYearly','isAllDay','hasEndDate','isRecurring','rsvpset','canaskrsvp','isPublic','isPrivate','acpaccess','hassmilies','upload_form_check');
$this->_funcHooks['calendarEventsList'] = array('weekcalendars','disablelightbox','hassomething','calendarsforweek');
$this->_funcHooks['calendarMainContent'] = array('days','calendars','gotcalendars');
$this->_funcHooks['calendarWeekView'] = array('weekcalendars','calendarsforweek');
$this->_funcHooks['calEventSearchResult'] = array('showCalendarContent','hasEndTimeEnds','hasEndTime','hasEnds');
$this->_funcHooks['eventAttendee'] = array('deletersvp');
$this->_funcHooks['miniCalendarWrapper'] = array('minidays');
$this->_funcHooks['showEvent'] = array('attendees','disablelightbox','eventnotapproved','rate1','rate2','rate3','rate4','rate5','hasRates','youRated','jsHasRates','rate1','rate2','rate3','rate4','rate5','hasRatesNoRate','canrate','eventmember','onlineoffline','hasattendees','notalreadyrsvp','canrsvp','showrsvpdiv','hasrsvp','hasEndTimeEnds','hasEndTime','hasEnds','hasNoRep','hasPosRep','hasNegRep','giveRepUp','giveRepDown','hasNotGivenRep','canRep','reputationBox','reportpost','canedit','apporunapp','canapprove');
$this->_funcHooks['showEventSimple'] = array('eventnotapproved','rate1','rate2','rate3','rate4','rate5','hasEndTimeEnds','hasEndTime','hasEnds');


}

/* -- bbCodeEvent --*/
function bbCodeEvent($event=array(), $type='', $ends='') {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- boardIndexBirthdays --*/
function boardIndexBirthdays($count, $birthdays, $data=array()) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- boardIndexCalEvents --*/
function boardIndexCalEvents($events) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_calendar', $this->_funcHooks['boardIndexCalEvents'] ) )
{
$count_f95577ebfee77c6ff4547983b72516a1 = is_array($this->functionData['boardIndexCalEvents']) ? count($this->functionData['boardIndexCalEvents']) : 0;
$this->functionData['boardIndexCalEvents'][$count_f95577ebfee77c6ff4547983b72516a1]['events'] = $events;
}
$IPBHTML .= "" . (($events) ? ("<div id='cal_events' class='stats_list'>
		<h2>{$this->lang->words['upcoming_events']}</h2>
		" . ((is_array( $events )) ? ("
			<p>
				<span class='name'>" . implode( ",</span> <span class='name'>", $events ) . "</span>
			</p>
		") : ("
			<p>{$events}</p>
		")) . "
	</div>") : ("")) . "";
return $IPBHTML;
}

/* -- cal_blank_cell --*/
function cal_blank_cell() {
$IPBHTML = "";
$IPBHTML .= "<td class=\"blank\"><!-- no content --></td>";
return $IPBHTML;
}

/* -- cal_date_cell --*/
function cal_date_cell($month_day="",$events="",$cal_date_queued="",$queued=0, $js_id) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_calendar', $this->_funcHooks['cal_date_cell'] ) )
{
$count_65d4f76e8c12a450e11aeb331ca3454e = is_array($this->functionData['cal_date_cell']) ? count($this->functionData['cal_date_cell']) : 0;
$this->functionData['cal_date_cell'][$count_65d4f76e8c12a450e11aeb331ca3454e]['month_day'] = $month_day;
$this->functionData['cal_date_cell'][$count_65d4f76e8c12a450e11aeb331ca3454e]['events'] = $events;
$this->functionData['cal_date_cell'][$count_65d4f76e8c12a450e11aeb331ca3454e]['cal_date_queued'] = $cal_date_queued;
$this->functionData['cal_date_cell'][$count_65d4f76e8c12a450e11aeb331ca3454e]['queued'] = $queued;
$this->functionData['cal_date_cell'][$count_65d4f76e8c12a450e11aeb331ca3454e]['js_id'] = $js_id;
}
$IPBHTML .= "<!--Day-->
" . (($queued != 0) ? ("
<td id='{$js_id}' class=\"moderated\">
	<strong>{$month_day}</strong><a href=\"{$cal_date_queued}\">" . $this->registry->getClass('output')->getReplacement("t_queued") . "</a>
") : ("
<td id='{$js_id}'>
	<strong>{$month_day}</strong>
")) . "
	{$events}
</td>";
return $IPBHTML;
}

/* -- cal_date_cell_today --*/
function cal_date_cell_today($month_day="",$events="",$cal_date_queued="",$queued=0, $js_id) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_calendar', $this->_funcHooks['cal_date_cell_today'] ) )
{
$count_31359234a592f2b687729acbf1a94085 = is_array($this->functionData['cal_date_cell_today']) ? count($this->functionData['cal_date_cell_today']) : 0;
$this->functionData['cal_date_cell_today'][$count_31359234a592f2b687729acbf1a94085]['month_day'] = $month_day;
$this->functionData['cal_date_cell_today'][$count_31359234a592f2b687729acbf1a94085]['events'] = $events;
$this->functionData['cal_date_cell_today'][$count_31359234a592f2b687729acbf1a94085]['cal_date_queued'] = $cal_date_queued;
$this->functionData['cal_date_cell_today'][$count_31359234a592f2b687729acbf1a94085]['queued'] = $queued;
$this->functionData['cal_date_cell_today'][$count_31359234a592f2b687729acbf1a94085]['js_id'] = $js_id;
}
$IPBHTML .= "<!--Day-->
" . (($queued != 0) ? ("
<td id='{$js_id}' class=\"today moderated\">
 	<strong>{$month_day}: {$this->lang->words['today_title']}</strong> <a href=\"{$cal_date_queued}\">" . $this->registry->getClass('output')->getReplacement("t_queued") . "</a>
") : ("
<td id='{$js_id}' class=\"today\">
	<strong>{$month_day}: {$this->lang->words['today_title']}</strong>
")) . "
	{$events}
</td>";
return $IPBHTML;
}

/* -- cal_day_bit --*/
function cal_day_bit($day="", $id='') {
$IPBHTML = "";
$IPBHTML .= "<td id='{$id}'><strong>{$day}</strong></td>";
return $IPBHTML;
}

/* -- cal_events_wrap --*/
function cal_events_wrap($event, $type='month') {
$IPBHTML = "";
$IPBHTML .= "<li class='cal vevent'>
	<a class='summary url' href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;do=showevent&amp;event_id={$event['event_id']}", "public",'' ), "{$event['event_title_seo']}", "cal_event" ) . "\" title='{$this->lang->words['view_event']}'>{$event['event_title']}</a>
	<abbr class='dtstart hide' title=\"" . date( 'c', $event['_start_time'] ) . "\">{$event['_start_date']} {$event['_event_time']}</abbr>
</li>";
return $IPBHTML;
}

/* -- cal_events_wrap_manual --*/
function cal_events_wrap_manual($urlBits,$text="") {
$IPBHTML = "";
$IPBHTML .= "<li class='cal'>
	<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;{$urlBits['url']}", "public",'' ), "{$urlBits['title']}", "{$urlBits['template']}" ) . "\" title='{$this->lang->words['view_event']}'>{$text}</a>
</li>";
return $IPBHTML;
}

/* -- cal_events_wrap_range --*/
function cal_events_wrap_range($event, $type='month') {
$IPBHTML = "";
$IPBHTML .= "<li class='cal vevent'>
	<a class'summary url' href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;do=showevent&amp;event_id={$event['event_id']}", "public",'' ), "{$event['event_title_seo']}", "cal_event" ) . "\" title='{$this->lang->words['view_event']}'>{$event['event_title']}</a>
	<abbr class='dtstart hide' title=\"" . date( 'c', $event['_start_time'] ) . "\">{$event['_start_date']} {$event['_event_time']}</abbr>
</li>";
return $IPBHTML;
}

/* -- cal_events_wrap_recurring --*/
function cal_events_wrap_recurring($event, $type='month') {
$IPBHTML = "";
$IPBHTML .= "<li class='cal vevent'>
	<a class='summary url' href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;do=showevent&amp;event_id={$event['event_id']}", "public",'' ), "{$event['event_title_seo']}", "cal_event" ) . "\" title=\"{$this->lang->words['tbt_recur']}\">{$event['event_title']}</a>
	<abbr class='dtstart hide' title=\"" . date( 'c', $event['_start_time'] ) . "\">{$event['_start_date']} {$event['_event_time']}</abbr>
</li>";
return $IPBHTML;
}

/* -- cal_new_row --*/
function cal_new_row($week, $calendar) {
$IPBHTML = "";

$this->row_class = ( $this->row_class == 'row1' ) ? 'row2' : 'row1';
$IPBHTML .= "</tr>
<!-- NEW ROW--><tr class='{$this->row_class}'>
	<th class='view_week header' scope='row'>
		<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;cal_id={$calendar['cal_id']}&amp;do=showweek&amp;week={$week}", "public",'' ), "{$calendar['cal_title_seo']}", "cal_week" ) . "\" title=\"{$this->lang->words['view_this_week']}\"><img src=\"{$this->settings['img_url']}/next.png\" alt='' /></a>
	</th>";
return $IPBHTML;
}

/* -- cal_week_dayentry --*/
function cal_week_dayentry($wday="",$date="",$month="",$mid="",$year="",$events="",$queued=0) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_calendar', $this->_funcHooks['cal_week_dayentry'] ) )
{
$count_d4583bf7ec1f7a700d26b01e38e2e4ab = is_array($this->functionData['cal_week_dayentry']) ? count($this->functionData['cal_week_dayentry']) : 0;
$this->functionData['cal_week_dayentry'][$count_d4583bf7ec1f7a700d26b01e38e2e4ab]['wday'] = $wday;
$this->functionData['cal_week_dayentry'][$count_d4583bf7ec1f7a700d26b01e38e2e4ab]['date'] = $date;
$this->functionData['cal_week_dayentry'][$count_d4583bf7ec1f7a700d26b01e38e2e4ab]['month'] = $month;
$this->functionData['cal_week_dayentry'][$count_d4583bf7ec1f7a700d26b01e38e2e4ab]['mid'] = $mid;
$this->functionData['cal_week_dayentry'][$count_d4583bf7ec1f7a700d26b01e38e2e4ab]['year'] = $year;
$this->functionData['cal_week_dayentry'][$count_d4583bf7ec1f7a700d26b01e38e2e4ab]['events'] = $events;
$this->functionData['cal_week_dayentry'][$count_d4583bf7ec1f7a700d26b01e38e2e4ab]['queued'] = $queued;
}

$this->week_view = ( $this->week_view == 'row1' ) ? 'row2' : 'row1';
$IPBHTML .= " 
<li id='day-{$year}_{$mid}_{$date}' class='day {$this->week_view} " . (($queued != 0) ? ("{$this->lang->words['moderated']}") : ("")) . "'>
	<h3 class='bar'>{$wday}</h3>
	<div>
		<span class='date altrow'>{$date}</span>
		<ul>
			{$events}
		</ul>
	</div>
</li>";
return $IPBHTML;
}

/* -- cal_week_events_wrap --*/
function cal_week_events_wrap($linkdata,$text="") {
$IPBHTML = "";
$IPBHTML .= "<li class='cal vevent'>
	<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;cal_id={$linkdata['cal_id']}&amp;do=birthdays&amp;y={$linkdata['y']}&amp;m={$linkdata['m']}&amp;d={$linkdata['d']}", "public",'' ), "{$linkdata['seotitle']}", "cal_birthdays" ) . "\" title='{$this->lang->words['view_event']}'>{$text}</a>
</li>";
return $IPBHTML;
}

/* -- cal_week_monthbar --*/
function cal_week_monthbar($month="",$year="") {
$IPBHTML = "";
$IPBHTML .= "<li class='month_bar header'>
	{$month} {$year}
</li>";
return $IPBHTML;
}

/* -- calendar_likeSummary --*/
function calendar_likeSummary($data, $relId, $opts) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- calendar_likeSummaryContents --*/
function calendar_likeSummaryContents($data, $relId, $opts=array()) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- calendar_rss_range --*/
function calendar_rss_range($event) {
$IPBHTML = "";
$IPBHTML .= "<p>{$event['event_content']}{$event['event_attach_content']}</p>
<br />
<p>{$this->lang->words['c_ranged']}
<br />{$this->lang->words['c_fromcolon']} {$event['_start_date']}
<br />{$this->lang->words['c_tocolon']} " . $this->registry->getClass('class_localization')->getDate($event['_end_time'],"DATE", 0) . "</p>";
return $IPBHTML;
}

/* -- calendar_rss_recurring --*/
function calendar_rss_recurring($event) {
$IPBHTML = "";
$IPBHTML .= "<p>{$event['event_content']}{$event['event_attach_content']}</p>
<br />
<p>{$this->lang->words['c_recurring']}
<br />{$this->lang->words['c_fromcolon']} {$event['_start_date']}
<br />{$this->lang->words['c_tocolon']} " . $this->registry->getClass('class_localization')->getDate($event['_end_time'],"DATE", 0) . "</p>";
return $IPBHTML;
}

/* -- calendar_rss_single --*/
function calendar_rss_single($event) {
$IPBHTML = "";
$IPBHTML .= "<p>{$event['event_content']}{$event['event_attach_content']}</p>
<br />
<p>{$this->lang->words['c_singleday']} {$event['_start_date']}</p>";
return $IPBHTML;
}

/* -- calendarBirthdayList --*/
function calendarBirthdayList($rows) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_calendar', $this->_funcHooks['calendarBirthdayList'] ) )
{
$count_55262809e616561fa2c00de7612b1e2a = is_array($this->functionData['calendarBirthdayList']) ? count($this->functionData['calendarBirthdayList']) : 0;
$this->functionData['calendarBirthdayList'][$count_55262809e616561fa2c00de7612b1e2a]['rows'] = $rows;
}

if ( ! isset( $this->registry->templateStriping['memberStripe'] ) ) {
$this->registry->templateStriping['memberStripe'] = array( FALSE, "row1","row2");
}
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("topic", "0" ) . "
<h2 class='maintitle'>{$this->lang->words['cal_birthdays']}</h2>
<div id='member_list' class='clear block_wrap'>
	<div id='member_wrap'>
		<ul class='members'>
			" . ((is_array( $rows ) and count( $rows )) ? ("
								".$this->__f__ac8c47c7e97ee41810ca38349ecd9475($rows)."			") : ("
				<p class='no_messages'>{$this->lang->words['no_results']}</p>
			")) . "
		</ul>
	</div>
</div>";
return $IPBHTML;
}


function __f__ac8c47c7e97ee41810ca38349ecd9475($rows)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $rows as $member )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
					<li id='member_id_{$member['member_id']}' class='general_box clear member_entry " .  IPSLib::next( $this->registry->templateStriping["memberStripe"] ) . "'>
						<h3 class='bar'>" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($member) : '' ) . "</h3>
						<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$member['member_id']}", "public",'' ), "{$member['members_seo_name']}", "showuser" ) . "' title='{$this->lang->words['view_profile']}'><img src='{$member['pp_small_photo']}' width='{$member['pp_small_width']}' height='{$member['pp_small_height']}' alt=\"" . sprintf($this->lang->words['users_photo'],$member['members_display_name']) . "\" class='photo' /></a>	
					
						<dl class='info'>
							<dt class='clear'>{$this->lang->words['member_joined']}:</dt>
							<dd>" . $this->registry->getClass('class_localization')->getDate($member['joined'],"joined", 0) . "</dd>
							<dt class='clear'>{$this->lang->words['member_group']}:</dt>
							<dd>" . IPSMember::makeNameFormatted( $member['group'], $member['member_group_id'] ) . "</dd>
							<dt class='clear'>{$this->lang->words['age_suffix']}:</dt>
							<dd>" . (($member['age']) ? ("{$member['age']}") : ("<em>{$this->lang->words['age_not_avail']}</em>")) . "</dd>
						</dl>
						
						<ul class='user_controls clear'>
							" . (($this->memberData['member_id'] AND $this->memberData['member_id'] != $member['member_id'] && $this->settings['friends_enabled'] AND $this->memberData['g_can_add_friends']) ? ("" . ((IPSMember::checkFriendStatus( $member['member_id'] )) ? ("
									<li class='mini_friend_toggle is_friend' id='friend_mlist_{$member['member_id']}'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=list&amp;module=profile&amp;section=friends&amp;do=remove&amp;member_id={$member['member_id']}&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' title='{$this->lang->words['remove_friend']}'>" . $this->registry->getClass('output')->getReplacement("remove_friend") . "</a></li>
								") : ("
									<li class='mini_friend_toggle is_not_friend' id='friend_mlist_{$member['member_id']}'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=list&amp;module=profile&amp;section=friends&amp;do=add&amp;member_id={$member['member_id']}&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' title='{$this->lang->words['add_friend']}'>" . $this->registry->getClass('output')->getReplacement("add_friend") . "</a></li>								
								")) . "") : ("")) . "
							" . (($this->memberData['g_use_pm'] AND $this->memberData['members_disable_pm'] == 0 AND IPSLib::moduleIsEnabled( 'messaging', 'members' ) && $member['member_id'] != $this->memberData['member_id']) ? ("
								<li class='pm_button' id='pm_xxx_{$member['pp_member_id']}'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=list&amp;module=messaging&amp;section=send&amp;do=form&amp;fromMemberID={$member['pp_member_id']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['pm_member']}'>" . $this->registry->getClass('output')->getReplacement("send_msg") . "</a></li>
							") : ("")) . "
							<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_activity&amp;mid={$member['member_id']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['gbl_find_my_content']}'>" . $this->registry->getClass('output')->getReplacement("find_topics_link") . "</a></li>
							" . (($member['has_blog'] AND IPSLib::appIsInstalled( 'blog' )) ? ("
								<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;mid={$member['member_id']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['view_blog']}'>" . $this->registry->getClass('output')->getReplacement("blog_link") . "</a></li>
							") : ("")) . "
							" . (($member['has_gallery'] AND IPSLib::appIsInstalled( 'gallery' )) ? ("
								<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=gallery&amp;module=user&amp;section=user&amp;user={$member['member_id']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['view_gallery']}'>" . $this->registry->getClass('output')->getReplacement("gallery_link") . "</a></li>
							") : ("")) . "
						</ul>
						" . (($this->settings['pp_allow_member_rate']) ? ("<p class='rating'> 
								" . (($member['pp_rating_real'] >= 1) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "" . (($member['pp_rating_real'] >= 2) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "" . (($member['pp_rating_real'] >= 3) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "" . (($member['pp_rating_real'] >= 4) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "" . (($member['pp_rating_real'] >= 5) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "
							</p>") : ("")) . "
						
						" . (($this->settings['reputation_enabled'] && $this->settings['reputation_show_profile']) ? ("" . (($member['pp_reputation_points'] == 0 || !$member['pp_reputation_points']) ? ("
								<p class='reputation zero'>
							") : ("")) . "
							" . (($member['pp_reputation_points'] > 0) ? ("
								<p class='reputation positive'>
							") : ("")) . "
							" . (($member['pp_reputation_points'] < 0) ? ("
								<p class='reputation negative'>
							") : ("")) . "							
									<span class='number'>{$this->lang->words['reputation']}: {$member['pp_reputation_points']}</span>
								</p>") : ("")) . "						
					</li>
				
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- calendarEventForm --*/
function calendarEventForm($data) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_calendar', $this->_funcHooks['calendarEventForm'] ) )
{
$count_de6ef3431761b6cb6add6a7045d93eb4 = is_array($this->functionData['calendarEventForm']) ? count($this->functionData['calendarEventForm']) : 0;
$this->functionData['calendarEventForm'][$count_de6ef3431761b6cb6add6a7045d93eb4]['data'] = $data;
}
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("calendar", "0" ) . "
<script type='text/javascript'>
	ipb.calendar.inSection = 'form';
</script>
<div class='post_form'>
<form id='postingform' action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&module=calendar&amp;section=post&amp;do={$data['code']}&amp;cal_id={$data['calendar']['cal_id']}", "public",'' ), "", "" ) . "\" method=\"post\">
	<input type=\"hidden\" name=\"event_id\" value=\"{$data['event']['event_id']}\" />
	<input type=\"hidden\" name=\"auth_key\" value=\"{$this->member->form_hash}\" />
	<input type=\"hidden\" name=\"post_key\" value=\"{$data['event']['event_post_key']}\" />
	
	<h2 class='maintitle'>{$this->lang->words['post_new_event']}</h2>
	<div class='generic_bar'></div>
	
	<fieldset>
		<h3 class='bar'>{$this->lang->words['event_details']}</h3>
		<ul>
			<li class='field'>
				<label for='event_title'>{$this->lang->words['calendar_title']}</label>
				<input type='text' id='event_title' class='input_text' name='event_title' value=\"{$data['event']['event_title']}\" size='50' maxlength='50' />
			</li>
			
			<li class='field'>
				<label for='start_date'>{$this->lang->words['fv_single']}</label>
				<input type='text' size='15' name='start_date' id='start_date' class='input_text date' value='{$data['dates']['ndate']}' />
				<img src='{$this->settings['img_url']}/date.png' alt='' id='start_date_icon' style='cursor: pointer' /> 
				<span class='time_setting'>
					&nbsp;&nbsp;
					<input class='input_text' type='text' size='5' id='start_time' name='start_time' value='{$data['dates']['nh']}:{$data['dates']['nmi']}' />
					
					" . (($this->settings['cal_time_format'] == 'standard') ? ("<select name='start_time_ampm' id='start_time_ampm' class='input_select'>
							<option value='AM'" . (($data['dates']['nap'] == 'AM') ? (" selected='selected'") : ("")) . ">{$this->lang->words['time_am']}</option>
							<option value='PM'" . (($data['dates']['nap'] == 'PM') ? (" selected='selected'") : ("")) . ">{$this->lang->words['time_pm']}</option>
						</select>") : ("")) . "
					<select name='event_timezone' class='event_timezone'>
						{$data['_time_zones']}
					</select>
				</span>
			</li>
			<li class='field' id='end_date_fields'>
				<label for='end_date'>{$this->lang->words['fv_range_ends']}</label>
				<input type='text' size='15' name='end_date' id='end_date' class='input_text date' value='{$data['dates']['edate']}' />
				<img src='{$this->settings['img_url']}/date.png' alt='' id='end_date_icon' style='cursor: pointer' /> 
				<span class='time_setting'>
					&nbsp;&nbsp;
					<input class='input_text' type='text' size='5' id='end_time' name='end_time' value='{$data['dates']['fh']}:{$data['dates']['fmi']}' />
					
					" . (($this->settings['cal_time_format'] == 'standard') ? ("<select name='end_time_ampm' id='end_time_ampm' class='input_select'>
							<option value='AM'" . (($data['dates']['fap'] == 'AM') ? (" selected='selected'") : ("")) . ">{$this->lang->words['time_am']}</option>
							<option value='PM'" . (($data['dates']['fap'] == 'PM') ? (" selected='selected'") : ("")) . ">{$this->lang->words['time_pm']}</option>
						</select>") : ("")) . "
				</span>
			</li>
			
			<li class='field' id='recur_fields'>
				<label for='recur_unit'>{$this->lang->words['fv_recur']}</label>
				{$this->lang->words['fv_recur_every']} 
				<select class='input_select' name=\"recur_unit\" id='recur_unit'>
					<option value='1'" . (($data['event']['event_recurring'] == 1) ? (" selected='selected'") : ("")) . ">{$this->lang->words['fv_days']}</option>
					<option value='2'" . (($data['event']['event_recurring'] == 2) ? (" selected='selected'") : ("")) . ">{$this->lang->words['fv_months']}</option>
					<option value='3'" . (($data['event']['event_recurring'] == 3) ? (" selected='selected'") : ("")) . ">{$this->lang->words['fv_years']}</option>
				</select>
			</li>
			<li class='field checkbox'>
				<input class='input_check' type='checkbox' id='all_day' name='all_day'" . (($data['dates']['allday']) ? (" checked='checked'") : ("")) . " value='1' /> 
				<label for='set_times'>{$this->lang->words['form_set_times']}</label>
				
				<input class='input_check event_options' type='checkbox' id='set_enddate' name='set_enddate'" . (($data['dates']['enddate']) ? (" checked='checked'") : ("")) . " value='1' /> 
				<label for='set_enddate'>{$this->lang->words['form_set_enddate']}</label>
				
				<input class='input_check event_options' type='checkbox' id='set_recurfields' name='set_recurfields'" . (($data['event']['event_recurring']) ? (" checked='checked'") : ("")) . " value='1' /> 
				<label for='set_recurfields'>{$this->lang->words['form_event_repeats']}</label>
			</li>
		</ul>
		<h3 class='bar'>{$this->lang->words['event_options']}</h3>
		<ul>
			<li class='field'>
				<label for='event_calendar_id'>{$this->lang->words['form_whichcal']}</label>
				<select name='event_calendar_id' id='event_calendar_id'>{$data['jump']}</select>
			</li>
			" . (($data['_can_set_rsvp']) ? ("<li class='field checkbox type_setting'>
					<input type='checkbox' id='event_rsvp' name='event_rsvp' value='1' class='input_check'" . (($data['event']['event_rsvp']) ? (" checked='checked'") : ("")) . " />
					<label for='event_rsvp'>{$this->lang->words['request_rsvp']}</label>
				</li>") : ("")) . "
			<li class='field'>
				<label for='e_type'>{$this->lang->words['calendar_event_type']}</label>
				<select name=\"e_type\" id='e_type'>
					<option value=\"public\"" . ((!$event['event_private']) ? (" selected='selected'") : ("")) . ">{$this->lang->words['calendar_type_public']}</option>
					<option value=\"private\"" . (($event['event_private']) ? (" selected='selected'") : ("")) . ">{$this->lang->words['calendar_type_private']}</option>
				</select>
			</li>
			" . (($this->memberData['g_access_cp']) ? ("
				<li class='field type_setting'>
					<label for='e_groups'>{$this->lang->words['calendar_group_filter']}</label>
					<select name=\"e_groups[]\" id='e_groups' size=\"5\" multiple='multiple'>{$data['_groupSelect']}</select>
				</li>
				<li class='field checkbox type_setting'>
					<input type='checkbox' id='all_groups' value='1' class='input_check' />
					<label for='all_groups'>{$this->lang->words['all_groups']}</label>
				</li>
			") : ("")) . "
		</ul>
		<h3 class='bar'>{$this->lang->words['event']}</h3>
		<ul>
			<li>{$data['editor']}</li>
			<li class='field checkbox'>
				<input type=\"checkbox\" name=\"enableemo\" class=\"input_check\" value=\"1\" " . (($data['event']['event_smilies']) ? ("checked='checked'") : ("")) . " />
				<label for='enableemo'>{$this->lang->words['enable_emo']}</label>
			</li>
		</ul>
	</fieldset>
	" . (($data['uploadForm']) ? ("
	<fieldset class='attachments'>
		{$data['uploadForm']}
	</fieldset>
	") : ("")) . "
	<fieldset class='submit'>
		<input class='input_submit' type=\"submit\" value=\"{$data['button']}\" tabindex=\"4\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;cal_id={$data['calendar']['cal_id']}", "public",'' ), "{$data['calendar']['cal_title_seo']}", "cal_calendar" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
</form>
</div>";
return $IPBHTML;
}

/* -- calendarEventsList --*/
function calendarEventsList($data) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_calendar', $this->_funcHooks['calendarEventsList'] ) )
{
$count_85ded11f752d76888e74818be6555e8c = is_array($this->functionData['calendarEventsList']) ? count($this->functionData['calendarEventsList']) : 0;
$this->functionData['calendarEventsList'][$count_85ded11f752d76888e74818be6555e8c]['data'] = $data;
}
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("topic", "0" ) . "
" . $this->registry->getClass('output')->addJSModule("calendar", "0" ) . "
" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'include_highlighter' ) ? $this->registry->getClass('output')->getTemplate('global')->include_highlighter(1) : '' ) . "
" . ((!$this->settings['disable_lightbox']) ? ("
	" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'include_lightbox' ) ? $this->registry->getClass('output')->getTemplate('global')->include_lightbox() : '' ) . "
") : ("")) . "
<h2>{$this->lang->words['calendars']}</h2>
<div id='current_calendar' class='right calendar_wrap'>
	<div class='topic_controls'>
		<ul class='pagination'>
			<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;cal_id={$data['calendar']['cal_id']}&amp;do=showday&amp;y={$data['prev_day'][0]}&amp;m={$data['prev_day'][1]}&amp;d={$data['prev_day'][2]}", "public",'' ), "{$data['calendar']['cal_title_seo']}", "cal_day" ) . "\" title=\"{$prev['month_name']} {$prev['year_id']}\">{$this->lang->words['_larr']} {$this->lang->words['day_previous']}</a></li>
			<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;cal_id={$data['calendar']['cal_id']}&amp;do=showday&amp;y={$data['next_day'][0]}&amp;m={$data['next_day'][1]}&amp;d={$data['next_day'][2]}", "public",'' ), "{$data['calendar']['cal_title_seo']}", "cal_day" ) . "\" title=\"{$next['month_name']} {$next['year_id']}\">{$this->lang->words['day_next']} {$this->lang->words['_rarr']}</a></li>
		</ul>
		<ul class='topic_buttons'>
			<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=post&amp;cal_id={$data['calendar']['cal_id']}&amp;do=newevent", "public",'' ), "{$data['calendar']['cal_title_seo']}", "cal_post" ) . "' title='{$this->lang->words['event_add_single']}'>" . $this->registry->getClass('output')->getReplacement("cal_event") . " {$this->lang->words['event_add_single']}</a></li>
		</ul>
	</div>
	<br />
	<h2 class='maintitle'>{$this->lang->words['events_for_day']} {$data['start_date']}</h2>
	<ol id='week_view' class='clear vcalendar'>
		" . (($data['events'] OR $data['birthdays']) ? ("
			{$data['events']}
			<br /><br />
			{$data['birthdays']}
		") : ("
			<div class='post_block no_sidebar'>
				<div class='post_wrap'>
					<div class='post_body'>
						<div class='post entry-content'>
							" . sprintf( $this->lang->words['no_events_for_today'], $data['start_date'] ) . "
						</div>
					</div>
				</div>
			</div>
		")) . "
	</ol>
</div>
<div id='mini_calendars' class='left calendar_wrap'>
	<div id='calendar_list' class='left general_box'>
		" . ((is_array( $data['calendars'] ) && count( $data['calendars'] )) ? ("
		<p><strong>{$this->lang->words['select_calendar']}</strong></p>
		<ol>
			".$this->__f__5b231ebd0719a3ddfb85132e964b2c76($data)."		</ol>
		") : ("")) . "
		<strong>{$this->lang->words['jump_to']}</strong><br />
		<form action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;cal_id={$data['calendar']['cal_id']}", "public",'' ), "{$data['calendar']['cal_title_seo']}", "cal_calendar" ) . "\" method=\"post\">
			<fieldset>
				<label for='m' class='hide'>{$this->lang->words['fv_months']}:</label>
				<select name=\"m\" class='input_select'>{$data['month_box']}</select>&nbsp;
				<label for='year' class='hide'>{$this->lang->words['fv_years']}:</label>
				<select name=\"year\" class='input_select'>{$data['year_box']}</select>&nbsp;
				<input type='submit' class='input_submit' value='{$this->lang->words['jmp_go']}' />
			</fieldset>
		</form>
	</div>
	<br style='clear:both;' />
	{$data['prev_minical']}
	<br />
	{$data['cur_minical']}
	<br />
	{$data['next_minical']}
</div>";
return $IPBHTML;
}


function __f__5b231ebd0719a3ddfb85132e964b2c76($data)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $data['calendars'] as $cid => $cal )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
				<li>
					<div class='right'>
						<a class='calendar_icon' href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=feed&amp;section=output&amp;cal_id={$cid}", "public",'' ), "", "" ) . "' title=\"{$this->lang->words['download_this_calendar']}\"><img src='{$this->settings['img_url']}/download.png' alt=\"{$this->lang->words['download_this_calendar']}\" title=\"{$this->lang->words['download_this_calendar']}\" /></a>
						<a class='calendar_icon' href='" . str_replace( array( 'https://', 'http://' ), 'webcal://', $this->settings['base_url'] ) . "app=calendar&amp;module=feed&amp;section=output&amp;cal_id={$cid}' title=\"{$this->lang->words['subscribe_this_calendar']}\"><img src='{$this->settings['img_url']}/transmit.png' alt=\"{$this->lang->words['subscribe_this_calendar']}\" title=\"{$this->lang->words['subscribe_this_calendar']}\" /></a>
					</div>
					<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;cal_id={$cid}&amp;do=showday&amp;y={$this->request['y']}&amp;m={$this->request['m']}&amp;d={$this->request['d']}", "public",'' ), "{$cal['cal_title_seo']}", "cal_day" ) . "' title=\"{$this->lang->words['view_this_calendar']}\" class='rounded'>{$cal['cal_title']}</a>
				</li>
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- calendarJump --*/
function calendarJump($calendars, $calendar, $chosen_date=array()) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- calendarMainContent --*/
function calendarMainContent($data) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_calendar', $this->_funcHooks['calendarMainContent'] ) )
{
$count_d81298a70829264558064e28c5746cbe = is_array($this->functionData['calendarMainContent']) ? count($this->functionData['calendarMainContent']) : 0;
$this->functionData['calendarMainContent'][$count_d81298a70829264558064e28c5746cbe]['data'] = $data;
}
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("calendar", "0" ) . "
<h2>{$this->lang->words['calendars']}</h2>
<div id='current_calendar' class='right calendar_wrap'>
	<div class='topic_controls'>
		<ul class='pagination'>
			<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;cal_id={$data['calendar']['cal_id']}&amp;m={$data['prev_month']['month_id']}&amp;y={$data['prev_month']['year_id']}", "public",'' ), "{$data['calendar']['cal_title_seo']}", "cal_month" ) . "\" title=\"{$data['prev_month']['month_name']} {$data['prev_month']['year_id']}\">{$this->lang->words['_larr']} {$this->lang->words['month_previous']}</a></li>
			<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;cal_id={$data['calendar']['cal_id']}&amp;m={$data['next_month']['month_id']}&amp;y={$data['next_month']['year_id']}", "public",'' ), "{$data['calendar']['cal_title_seo']}", "cal_month" ) . "\" title=\"{$data['next_month']['month_name']} {$data['next_month']['year_id']}\">{$this->lang->words['month_next']} {$this->lang->words['_rarr']}</a></li>
		</ul>
		<ul class='topic_buttons'>
			<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=post&amp;cal_id={$data['calendar']['cal_id']}&amp;do=newevent", "public",'' ), "{$data['calendar']['cal_title_seo']}", "cal_post" ) . "' title='{$this->lang->words['event_add_single']}'>" . $this->registry->getClass('output')->getReplacement("cal_event") . " {$this->lang->words['event_add_single']}</a></li>
		</ul>
	</div>
	<br />
	
	<table id='calendar_table' class='ipb_table vcalendar' summary=\"{$this->lang->words['calendar_for']} {$data['month_title']} {$data['chosen_date']['year']}\">
		<caption class='maintitle'>{$data['month_title']} {$data['chosen_date']['year']}</caption>
		<tr class='header'>
			<th class='head_week' scope='col'>&nbsp;</th>
			".$this->__f__00bb7e6c5860bb7a90f222af4948a532($data)."			{$data['events']}
		</tr>
	</table>
	
	<div>
		<div class='right'>
			{$data['_like_strip']}
		</div>
		
		<ul class='pagination'>
			<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;cal_id={$data['calendar']['cal_id']}&amp;m={$data['navigation']['this_month']['m']}&amp;y={$data['navigation']['this_month']['y']}", "public",'' ), "{$data['calendar']['cal_title_seo']}", "cal_month" ) . "\">{$this->lang->words['aa_cur_month']}</a></li>
			<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;cal_id={$data['calendar']['cal_id']}&amp;do=showweek&amp;week={$data['navigation']['this_week']}", "public",'' ), "{$data['calendar']['cal_title_seo']}", "cal_week" ) . "\">{$this->lang->words['aa_view_week']}</a></li>
		</ul>
	</div>
</div>
<div id='mini_calendars' class='left calendar_wrap'>
	<div id='calendar_list' class='general_box'>
		" . ((is_array( $data['calendars'] ) && count( $data['calendars'] )) ? ("
		<p><strong>{$this->lang->words['select_calendar']}</strong></p>
		<ol>
			".$this->__f__98dd7df8dffeb9e25260bf20444cb05d($data)."		</ol>
		") : ("")) . "
		<strong>{$this->lang->words['jump_to']}</strong><br />
		<form action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;cal_id={$data['calendar']['cal_id']}", "public",'' ), "{$data['calendar']['cal_title_seo']}", "cal_calendar" ) . "\" method=\"post\">
			<fieldset>
				<label for='m' class='hide'>{$this->lang->words['fv_months']}:</label>
				<select name=\"m\" class='input_select'>{$data['month_box']}</select>&nbsp;
				<label for='year' class='hide'>{$this->lang->words['fv_years']}:</label>
				<select name=\"year\" class='input_select'>{$data['year_box']}</select>&nbsp;
				<input type='submit' class='input_submit' value='{$this->lang->words['jmp_go']}' />
			</fieldset>
		</form>
	</div>
	
	{$data['minical_prev']}
	<br />
	{$data['minical_next']}
</div>		
<br />";
return $IPBHTML;
}


function __f__00bb7e6c5860bb7a90f222af4948a532($data)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $data['day_words'] as $day )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
				<th scope='col'>{$day}</th>
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__98dd7df8dffeb9e25260bf20444cb05d($data)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $data['calendars'] as $cid => $cal )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
				<li>
					<div class='right'>
						<a class='calendar_icon' href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=feed&amp;section=output&amp;cal_id={$cid}", "public",'' ), "", "" ) . "' title=\"{$this->lang->words['download_this_calendar']}\"><img src='{$this->settings['img_url']}/download.png' alt=\"{$this->lang->words['download_this_calendar']}\" title=\"{$this->lang->words['download_this_calendar']}\" /></a>
						<a class='calendar_icon' href='" . str_replace( array( 'https://', 'http://' ), 'webcal://', $this->settings['base_url'] ) . "app=calendar&amp;module=feed&amp;section=output&amp;cal_id={$cid}' title=\"{$this->lang->words['subscribe_this_calendar']}\"><img src='{$this->settings['img_url']}/transmit.png' alt=\"{$this->lang->words['subscribe_this_calendar']}\" title=\"{$this->lang->words['subscribe_this_calendar']}\" /></a>
					</div>
					<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;cal_id={$cid}&amp;m={$data['chosen_date']['month']}&amp;y={$data['chosen_date']['year']}", "public",'' ), "{$data['calendar']['cal_title_seo']}", "cal_month" ) . "' title=\"{$this->lang->words['view_this_calendar']}\" class='rounded'>{$cal['cal_title']}</a>
				</li>
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- calendarShowEvent --*/
function calendarShowEvent($events, $comments) {
$IPBHTML = "";
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("topic", "0" ) . "
{$events}
<div id='event_comments' class='block_inner'>
	<div class='block pad'>
		<h2>{$comments['count']} {$this->lang->words['comment_block']}</h2>
		<div class='event_comment_wrap'>
			{$comments['html']}
		</div>
	</div>
</div>";
return $IPBHTML;
}

/* -- calendarWeekView --*/
function calendarWeekView($data) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_calendar', $this->_funcHooks['calendarWeekView'] ) )
{
$count_cd56b68687dc57dd1314473e375a2cb5 = is_array($this->functionData['calendarWeekView']) ? count($this->functionData['calendarWeekView']) : 0;
$this->functionData['calendarWeekView'][$count_cd56b68687dc57dd1314473e375a2cb5]['data'] = $data;
}
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("calendar", "0" ) . "
<h2>{$this->lang->words['calendars']}</h2>
<div id='current_calendar' class='right calendar_wrap'>
	<div class='topic_controls'>
		<ul class='pagination'>
			<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;cal_id={$data['calendar']['cal_id']}&amp;do=showweek&amp;week={$data['prev_week']}", "public",'' ), "{$data['calendar']['cal_title_seo']}", "cal_week" ) . "\" title=\"{$this->lang->words['week_previous']}\">{$this->lang->words['_larr']} {$this->lang->words['week_previous']}</a></li>
			<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;cal_id={$data['calendar']['cal_id']}&amp;do=showweek&amp;week={$data['next_week']}", "public",'' ), "{$data['calendar']['cal_title_seo']}", "cal_week" ) . "\" title=\"{$this->lang->words['week_next']}\">{$this->lang->words['week_next']} {$this->lang->words['_rarr']}</a></li>
		</ul>
		<ul class='topic_buttons'>
			<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=post&amp;cal_id={$data['calendar']['cal_id']}&amp;do=newevent", "public",'' ), "{$data['calendar']['cal_title_seo']}", "cal_post" ) . "' title='{$this->lang->words['event_add_single']}'>" . $this->registry->getClass('output')->getReplacement("cal_event") . " {$this->lang->words['event_add_single']}</a></li>
		</ul>
	</div>
	<br />
	<h2 class='maintitle'>{$this->lang->words['week_beginning']} {$data['start_date']}</h2>
	<ol id='week_view' class='clear vcalendar'>
		{$data['events']}
	</ol>
</div>
<div id='mini_calendars' class='left calendar_wrap'>
	<div id='calendar_list' class='left general_box'>
		" . ((is_array( $data['calendars'] ) && count( $data['calendars'] )) ? ("
		<p><strong>{$this->lang->words['select_calendar']}</strong></p>
		<ol>
			".$this->__f__299ad383389c719108c018cc727eedfc($data)."		</ol>
		") : ("")) . "
		<strong>{$this->lang->words['jump_to']}</strong><br />
		<form action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;cal_id={$data['calendar']['cal_id']}", "public",'' ), "{$data['calendar']['cal_title_seo']}", "cal_calendar" ) . "\" method=\"post\">
			<fieldset>
				<label for='m' class='hide'>{$this->lang->words['fv_months']}:</label>
				<select name=\"m\" class='input_select'>{$data['month_box']}</select>&nbsp;
				<label for='year' class='hide'>{$this->lang->words['fv_years']}:</label>
				<select name=\"year\" class='input_select'>{$data['year_box']}</select>&nbsp;
				<input type='submit' class='input_submit' value='{$this->lang->words['jmp_go']}' />
			</fieldset>
		</form>
	</div>
	<br style='clear:both;' />
	{$data['prev_minical']}
	<br />
	{$data['cur_minical']}
	<br />
	{$data['next_minical']}
</div>";
return $IPBHTML;
}


function __f__299ad383389c719108c018cc727eedfc($data)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $data['calendars'] as $cid => $cal )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
				<li>
					<div class='right'>
						<a class='calendar_icon' href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=feed&amp;section=output&amp;cal_id={$cid}", "public",'' ), "", "" ) . "' title=\"{$this->lang->words['download_this_calendar']}\"><img src='{$this->settings['img_url']}/download.png' alt=\"{$this->lang->words['download_this_calendar']}\" title=\"{$this->lang->words['download_this_calendar']}\" /></a>
						<a class='calendar_icon' href='" . str_replace( array( 'https://', 'http://' ), 'webcal://', $this->settings['base_url'] ) . "app=calendar&amp;module=feed&amp;section=output&amp;cal_id={$cid}' title=\"{$this->lang->words['subscribe_this_calendar']}\"><img src='{$this->settings['img_url']}/transmit.png' alt=\"{$this->lang->words['subscribe_this_calendar']}\" title=\"{$this->lang->words['subscribe_this_calendar']}\" /></a>
					</div>
					<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;cal_id={$cal['cal_id']}&amp;do=showweek&amp;week={$this->request['week']}", "public",'' ), "{$cal['cal_title_seo']}", "cal_week" ) . "' title=\"{$this->lang->words['view_this_calendar']}\" class='rounded'>{$cal['cal_title']}</a>
				</li>
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- calEventFollowedWrapper --*/
function calEventFollowedWrapper($rows) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- calEventSearchResult --*/
function calEventSearchResult($r, $resultAsTitle=false, $type, $ends) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_calendar', $this->_funcHooks['calEventSearchResult'] ) )
{
$count_9ae732c1b0dc0567b9b6f5d1506c643f = is_array($this->functionData['calEventSearchResult']) ? count($this->functionData['calEventSearchResult']) : 0;
$this->functionData['calEventSearchResult'][$count_9ae732c1b0dc0567b9b6f5d1506c643f]['r'] = $r;
$this->functionData['calEventSearchResult'][$count_9ae732c1b0dc0567b9b6f5d1506c643f]['resultAsTitle'] = $resultAsTitle;
$this->functionData['calEventSearchResult'][$count_9ae732c1b0dc0567b9b6f5d1506c643f]['type'] = $type;
$this->functionData['calEventSearchResult'][$count_9ae732c1b0dc0567b9b6f5d1506c643f]['ends'] = $ends;
}
$IPBHTML .= "<div class='result_info'>
	<h3><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;do=showevent&amp;event_id={$r['type_id_2']}&amp;hl={$this->request['search_higlight']}", "public",'' ), "{$r['event_title_seo']}", "cal_event" ) . "'>{$r['content_title']}</a></h3>
	" . ((!$resultAsTitle) ? ("
	<p>
		{$r['content']}
	</p>
	") : ("")) . "
</div>
<div class='result_details desc'>
	<ul>
		<li>{$this->lang->words['search_by']} " . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($r) : '' ) . "</li>
		<li>{$this->lang->words['event_date']}  {$r['_start_date']} {$r['_event_time']} " . (($ends) ? ("{$ends} " . (($r['_event_etime']) ? ("{$r['_event_etime']}") : ("")) . "") : ("" . (($r['_event_etime']) ? ("- {$r['_event_etime']}") : ("")) . "")) . " ({$type})</li>
	</ul>
</div>";
return $IPBHTML;
}

/* -- event_likeSummary --*/
function event_likeSummary($data, $relId, $opts) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- event_likeSummaryContents --*/
function event_likeSummaryContents($data, $relId, $opts=array()) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- eventAttendee --*/
function eventAttendee($member, $event) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_calendar', $this->_funcHooks['eventAttendee'] ) )
{
$count_d6aaba9f691bb5c8c471a742016a2a02 = is_array($this->functionData['eventAttendee']) ? count($this->functionData['eventAttendee']) : 0;
$this->functionData['eventAttendee'][$count_d6aaba9f691bb5c8c471a742016a2a02]['member'] = $member;
$this->functionData['eventAttendee'][$count_d6aaba9f691bb5c8c471a742016a2a02]['event'] = $event;
}
$IPBHTML .= "<li id='attendee-{$member['member_id']}' class='" .  IPSLib::next( $this->registry->templateStriping["attendeeStripe"] ) . "'>
	<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$member['member_id']}", "public",'' ), "{$member['members_seo_name']}", "showuser" ) . "'><img src='{$member['pp_small_photo']}' width='{$member['pp_small_width']}' height='{$member['pp_small_height']}' class='photo' /></a>
	<div>
		" . (($this->memberData['g_is_supmod'] OR $event['_can_delete_rsvp']) ? ("
			<div class='desc'>
				<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=moderate&amp;do=calendarRSVPRemove&amp;md5check={$this->member->form_hash}&amp;cal_id={$event['event_calendar_id']}&amp;event_id={$event['event_id']}&amp;attendee_id={$member['rsvp_id']}", "public",'' ), "", "" ) . "\" title='{$this->lang->words['rsvp_delete_link']}'><img src='{$this->settings['img_url']}/delete.png' alt='{$this->lang->words['rsvp_delete_link']}' title='{$this->lang->words['rsvp_delete_link']}' /></a>
			</div>
		") : ("")) . "
		<strong>" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($member) : '' ) . "</strong>
		<p class='desc'>
			" . IPSMember::makeNameFormatted( $member['g_title'], $member['g_id'] ) . "
			<br />
			{$this->lang->words['rsvp_date_pre']} " . $this->registry->getClass('class_localization')->getDate($member['rsvp_date'],"short", 0) . "
		</p>
	</div>
</li>";
return $IPBHTML;
}

/* -- eventsWrapper --*/
function eventsWrapper($events) {
$IPBHTML = "";
$IPBHTML .= "<ul>{$events}</ul>";
return $IPBHTML;
}

/* -- followedContentCalendars --*/
function followedContentCalendars($rows) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- mini_cal_blank_cell --*/
function mini_cal_blank_cell() {
$IPBHTML = "";
$IPBHTML .= "<td class='blank'><!-- no content --></td>";
return $IPBHTML;
}

/* -- mini_cal_date_cell --*/
function mini_cal_date_cell($month_day="",$events="") {
$IPBHTML = "";
$IPBHTML .= "<td>
	{$month_day}
</td>";
return $IPBHTML;
}

/* -- mini_cal_date_cell_today --*/
function mini_cal_date_cell_today($month_day="",$events="") {
$IPBHTML = "";
$IPBHTML .= "<td class=\"today\">
	<strong>{$month_day}</strong>
</td>";
return $IPBHTML;
}

/* -- mini_cal_new_row --*/
function mini_cal_new_row($week="", $calendar) {
$IPBHTML = "";

$this->mini_cal = ( $this->mini_cal == 'row1' ) ? 'row2' : 'row1';
$IPBHTML .= "</tr>
	<!-- NEW ROW-->
	<tr class='{$this->mini_cal}'>
	<th class='view_week header'>
		<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;cal_id={$calendar['cal_id']}&amp;do=showweek&amp;week={$week}", "public",'' ), "{$calendar['cal_title_seo']}", "cal_week" ) . "\" title='{$this->lang->words['view_this_week']}' ><img src=\"{$this->settings['img_url']}/next.png\" alt='' /></a>
	</th>";
return $IPBHTML;
}

/* -- miniCalendarWrapper --*/
function miniCalendarWrapper($data) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_calendar', $this->_funcHooks['miniCalendarWrapper'] ) )
{
$count_04c4ff5ecbf12bfc8062d115ac3a4b39 = is_array($this->functionData['miniCalendarWrapper']) ? count($this->functionData['miniCalendarWrapper']) : 0;
$this->functionData['miniCalendarWrapper'][$count_04c4ff5ecbf12bfc8062d115ac3a4b39]['data'] = $data;
}

$this->mini_cal = 'row2';
$IPBHTML .= "<div class='mini-cal-wrap'>
	<h3 class='maintitle'>{$data['month_title']} {$data['year']}</h3>
	<table class='mini_cal vcalendar'>
		<tr class='header'>
			<th class='head_week'>&nbsp;</th>
			".$this->__f__be463c5079a67eaaf48f57e7b874ce04($data)."	
			{$data['events']}
		</tr>
	</table>
</div>";
return $IPBHTML;
}


function __f__be463c5079a67eaaf48f57e7b874ce04($data)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $data['day_words'] as $day )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
				<th>" . IPSText::mbsubstr( $day, 0, 1 ) . "</th>
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- modEventsWrapper --*/
function modEventsWrapper($events, $pages) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- showEvent --*/
function showEvent($event, $member, $typeInfo, $like='') {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_calendar', $this->_funcHooks['showEvent'] ) )
{
$count_8c6c1562e5618703660930ee06eaa851 = is_array($this->functionData['showEvent']) ? count($this->functionData['showEvent']) : 0;
$this->functionData['showEvent'][$count_8c6c1562e5618703660930ee06eaa851]['event'] = $event;
$this->functionData['showEvent'][$count_8c6c1562e5618703660930ee06eaa851]['member'] = $member;
$this->functionData['showEvent'][$count_8c6c1562e5618703660930ee06eaa851]['typeInfo'] = $typeInfo;
$this->functionData['showEvent'][$count_8c6c1562e5618703660930ee06eaa851]['like'] = $like;
}

if ( ! isset( $this->registry->templateStriping['attendeeStripe'] ) ) {
$this->registry->templateStriping['attendeeStripe'] = array( FALSE, "row1","row2");
}
$IPBHTML .= "" . ((!$this->settings['disable_lightbox']) ? ("
	" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'include_lightbox' ) ? $this->registry->getClass('output')->getTemplate('global')->include_lightbox() : '' ) . "
") : ("")) . "
" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'include_highlighter' ) ? $this->registry->getClass('output')->getTemplate('global')->include_highlighter(1) : '' ) . "
" . $this->registry->getClass('output')->addJSModule("rating", "0" ) . "
" . $this->registry->getClass('output')->addJSModule("calendar", "0" ) . "
<div class='post_block vcalendar " . (($event['event_approved']==0) ? ("moderated") : ("")) . "' id='event_id_{$event['event_id']}'>
	<div class='post_wrap vevent'>
		<h2 class='maintitle'>
			<span class='main_topic_title summary'>{$this->lang->words['event_prefix']} {$event['event_title']}</span>
			" . (($event['_can_rate']) ? ("<span class='rating'>{$this->lang->words['event_rate_me']}
					<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=rating&amp;event_id={$event['event_id']}&amp;rating=1&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' id='event_rate_1' title='{$this->lang->words['top_js_1star']}'>" . (($event['event_rating_avg'] >= 1) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "</a>
					<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=rating&amp;event_id={$event['event_id']}&amp;rating=2&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' id='event_rate_2' title='{$this->lang->words['top_js_2star']}'>" . (($event['event_rating_avg'] >= 2) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "</a>
					<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=rating&amp;event_id={$event['event_id']}&amp;rating=3&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' id='event_rate_3' title='{$this->lang->words['top_js_3star']}'>" . (($event['event_rating_avg'] >= 3) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "</a>
					<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=rating&amp;event_id={$event['event_id']}&amp;rating=4&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' id='event_rate_4' title='{$this->lang->words['top_js_4star']}'>" . (($event['event_rating_avg'] >= 4) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "</a>
					<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=rating&amp;event_id={$event['event_id']}&amp;rating=5&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' id='event_rate_5' title='{$this->lang->words['top_js_5star']}'>" . (($event['event_rating_avg'] >= 5) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "</a>
					<span id='rating_text'>
						" . (($event['event_rating_hits'] > 0) ? ("<span id='rating_hits'>{$event['event_rating_hits']}</span> {$this->lang->words['event_rates']}") : ("")) . "
						" . (($event['_rating_value'] != -1) ? (" ({$this->lang->words['event_your_rate']} <span id='your_rate'>{$event['_rating_value']}</span>)") : ("")) . "
					</span>
					<script type='text/javascript'>
					//<![CDATA[
						rating = new ipb.rating( 'event_rate_', { 
											url: '" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&module=ajax&section=rating&event_id={$event['event_id']}", "public",'' ), "", "" ) . "&md5check=' + ipb.vars['secure_hash'],
											cur_rating: {$event['event_rating_avg']},
											rated: " . (($event['_rating_value'] != -1) ? ("1") : ("0")) . ",
											allow_rate: {$event['_can_rate']},
											multi_rate: 1,
											show_rate_text: true
										  } );
					//]]>
					</script>
				</span>") : ("<span class='rating'>
					" . (($event['event_rating_avg'] >= 1) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "
					" . (($event['event_rating_avg'] >= 2) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "
					" . (($event['event_rating_avg'] >= 3) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "
					" . (($event['event_rating_avg'] >= 4) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "
					" . (($event['event_rating_avg'] >= 5) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "
					<span id='rating_text'>
						" . (($event['event_rating_hits'] > 0) ? ("<span id='rating_hits'>{$event['event_rating_hits']}</span> {$this->lang->words['event_rates']}") : ("")) . "
					</span>
				</span>")) . "
		</h2>
		" . (($member['member_id']) ? ("
			<h3>
		") : ("
			<h3 class='guest'>
		")) . "
		<span class='post_id'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;do=showevent&amp;event_id={$event['event_id']}", "public",'' ), "{$event['event_title_seo']}", "cal_event" ) . "' rel='bookmark url' title='{$this->lang->words['link_to_event']} {$event['event_title']}'>{$this->lang->words['permalink_link']}</a></span>
			" . (($member['member_id']) ? ("
				<span class=\"author vcard\">" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($member) : '' ) . "</span>
			") : ("
				" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($member) : '' ) . "
			")) . "
		</h3>
		<div class='author_info'>
			" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userInfoPane' ) ? $this->registry->getClass('output')->getTemplate('global')->userInfoPane($member, $event['event_id'], array()) : '' ) . "
		</div>
		<div class='post_body'>
			" . (($event['event_rsvp']) ? ("<div class='event-rsvp'>
					<h4>{$this->lang->words['rsvp_title_header']}</h4>
					<p class='rsvp-info'>{$this->lang->words['event_poster_want_rsvp']}</p>
					
					<ul id='attendee-list'>
						" . ((count($event['_rsvp_attendees'])) ? ("
														".$this->__f__f29d2bade5a66911e698f1b0b1ea28c2($event,$member,$typeInfo,$like)."						") : ("
							<li id='no-attendees'>{$this->lang->words['no_rsvp_yet']}</li>
						")) . "
					</ul>
					
					" . (($event['_can_rsvp'] OR !$event['_have_rsvp']) ? ("<div class='rsvp-button'>
							" . (($event['_can_rsvp']) ? ("
								<a id='rsvp-button' rel='event_id_{$event['event_id']}' href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;do=showevent&amp;event_id={$event['event_id']}&amp;_rsvp=1", "public",'' ), "{$event['event_title_seo']}", "cal_event" ) . "' title='{$this->lang->words['click_to_rsvp']}'>{$this->lang->words['rsvp_button']}</a>
							") : ("" . ((!$event['_have_rsvp']) ? ("
									<span>{$this->lang->words['noperm_rsvp']}</span>
								") : ("")) . "")) . "
						</div>") : ("")) . "
				</div>") : ("")) . "
			
			<p class='posted_info'>
				<strong class='event'>{$this->lang->words['event_date']}  <abbr class=\"dtstart\" title=\"" . date( 'c', $event['_start_time'] ) . "\">{$event['_start_date']} {$event['_event_time']}</abbr> " . (($typeInfo['ends']) ? ("<abbr class=\"dtend\" title=\"" . date( 'c', $event['_end_time'] ) . "\">{$typeInfo['ends']} " . (($event['_event_etime']) ? ("{$event['_event_etime']}") : ("")) . "") : ("" . (($event['_event_etime']) ? ("- {$event['_event_etime']}") : ("")) . "</abbr>")) . " ({$typeInfo['type']})</strong>
			</p>
			<div class='post entry-content description'>
				{$event['event_content']}
				{$event['event_attach_content']}
			</div>
			<!-- Reputation: -->
			" . (($this->settings['reputation_enabled']) ? ("" . ((!( $this->settings['reputation_protected_groups'] && in_array( $member['member_group_id'], explode( ',', $this->settings['reputation_protected_groups'] ) ) )) ? ("<div class='rep_bar right' id='rep_post_{$event['event_id']}'>
				" . (($event['rep_points'] == 0) ? ("
					<span class='reputation zero rep_show' title='{$this->lang->words['reputation']}'>
				") : ("")) . "
				" . (($event['rep_points'] > 0) ? ("
					<span class='reputation positive rep_show' title='{$this->lang->words['reputation']}'>
				") : ("")) . "
				" . (($event['rep_points'] < 0) ? ("
					<span class='reputation negative rep_show' title='{$this->lang->words['reputation']}' >
				") : ("")) . "
						{$event['rep_points']}
					</span>
					" . (($event['has_given_rep'] != 1 AND $event['has_given_rep'] != -1 AND $this->memberData['member_id'] != 0 && ( $this->settings['reputation_can_self_vote'] OR $event['event_member_id'] != $this->memberData['member_id'] )) ? ("<ul>
						" . (($this->settings['reputation_point_types'] == 'positive' || $this->settings['reputation_point_types'] == 'both') ? ("
							<li><a href='{$this->settings['base_url']}app=core&amp;module=global&amp;section=reputation&amp;do=add_rating&amp;app_rate=calendar&amp;type=event_id&amp;type_id={$event['event_id']}&amp;rating=1&amp;secure_key={$this->member->form_hash}' class='rep_up' title='{$this->lang->words['reputation_up']}'>" . $this->registry->getClass('output')->getReplacement("rep_up") . "</a></li>
						") : ("")) . "
						" . (($this->settings['reputation_point_types'] == 'negative' || $this->settings['reputation_point_types'] == 'both') ? ("
							<li><a href='{$this->settings['base_url']}app=core&amp;module=global&amp;section=reputation&amp;do=add_rating&amp;app_rate=calendar&amp;type=event_id&amp;type_id={$event['event_id']}&amp;rating=-1&amp;secure_key={$this->member->form_hash}' class='rep_down' title='{$this->lang->words['reputation_down']}'>" . $this->registry->getClass('output')->getReplacement("rep_down") . "</a></li>
						") : ("")) . "
						</ul>") : ("")) . "
				</div>") : ("")) . "
				<script type='text/javascript'>
					ipb.global.registerReputation( 'rep_post_{$event['event_id']}', { app: 'calendar', type: 'event_id', typeid: '{$event['event_id']}' }, parseInt('{$event['rep_points']}') );
				</script>") : ("")) . "
			<!-- / Reputation -->
		</div>
		<ul class='post_controls'>
			" . (($event['_canReport'] and $this->memberData['member_id']) ? ("
				<li class='report'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=reports&amp;rcom=calendar&amp;event_id={$event['event_id']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['report_event']}'>{$this->lang->words['report']}</a></li>
			") : ("")) . "
			" . (($this->memberData['g_is_supmod'] OR $this->memberData['member_id'] == $event['event_member_id']) ? ("
				<li class='post_del'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=moderate&amp;do=delete&amp;md5check={$this->member->form_hash}&amp;event_id={$event['event_id']}&amp;cal_id={$event['event_calendar_id']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['calendar_delete_title']}'>{$this->lang->words['calendar_delete_button']}</a></li>
				<li class='post_edit'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=post&amp;do=edit&amp;cal_id={$event['event_calendar_id']}&amp;event_id={$event['event_id']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['calendar_edit_title']}'>{$this->lang->words['calendar_edit_button']}</a></li>
			") : ("")) . "
			" . (($this->memberData['g_is_supmod']) ? ("" . (($event['event_approved']) ? ("
					<li class='post_unapprove'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=moderate&amp;do=calendarEventApprove&amp;modfilter={$this->request['modfilter']}&amp;approve=0&amp;md5check={$this->member->form_hash}&amp;cal_id={$event['event_calendar_id']}&amp;event_id={$event['event_id']}", "public",'' ), "", "" ) . "\" title='{$this->lang->words['unapprove_event']}'>" . $this->registry->getClass('output')->getReplacement("edit_post_icon") . " {$this->lang->words['unapprove_event']}</a></li>
				") : ("
					<li class='post_approve'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=moderate&amp;do=calendarEventApprove&amp;modfilter={$this->request['modfilter']}&amp;approve=1&amp;md5check={$this->member->form_hash}&amp;cal_id={$event['event_calendar_id']}&amp;event_id={$event['event_id']}", "public",'' ), "", "" ) . "\" title='{$this->lang->words['approve_event']}'>" . $this->registry->getClass('output')->getReplacement("edit_post_icon") . " {$this->lang->words['approve_event']}</a></li>
				")) . "") : ("")) . "
		</ul>
	</div>			
</div>
<div>
	<div class='right'>{$event['_like_strip']}</div>
	" . (($this->settings['sl_enable']) ? ("
		<div class='left'>
			" . IPSLib::shareLinks( $event['event_title'] ) . "
		</div>
	") : ("")) . "
</div>
<br class='clear' /><br />";
return $IPBHTML;
}


function __f__f29d2bade5a66911e698f1b0b1ea28c2($event, $member, $typeInfo, $like='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $event['_rsvp_attendees'] as $attendee )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
								" . ( method_exists( $this->registry->getClass('output')->getTemplate('calendar'), 'eventAttendee' ) ? $this->registry->getClass('output')->getTemplate('calendar')->eventAttendee($attendee, $event) : '' ) . "
							
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- showEventSimple --*/
function showEventSimple($event) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_calendar', $this->_funcHooks['showEventSimple'] ) )
{
$count_aa027d34d0387fd0d07dd9d85c3c45ec = is_array($this->functionData['showEventSimple']) ? count($this->functionData['showEventSimple']) : 0;
$this->functionData['showEventSimple'][$count_aa027d34d0387fd0d07dd9d85c3c45ec]['event'] = $event;
}
$IPBHTML .= "<div class='post_block no_sidebar " . (($event['event_approved']==0) ? ("moderated") : ("")) . "' id='event_id_{$event['event_id']}'>
	<div class='post_wrap vevent'>
		<h3>
			<span class='main_topic_title summary'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;do=showevent&amp;event_id={$event['event_id']}", "public",'' ), "{$event['event_title_seo']}", "cal_event" ) . "' title='{$this->lang->words['view_event_title']} {$event['event_title']}'>{$this->lang->words['event_prefix']} {$event['event_title']}</a></span>
			<span class='rating right'>
				" . (($event['event_rating_avg'] >= 1) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "
				" . (($event['event_rating_avg'] >= 2) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "
				" . (($event['event_rating_avg'] >= 3) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "
				" . (($event['event_rating_avg'] >= 4) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "
				" . (($event['event_rating_avg'] >= 5) ? ("" . $this->registry->getClass('output')->getReplacement("rate_on") . "") : ("" . $this->registry->getClass('output')->getReplacement("rate_off") . "")) . "
			</span>
		</h3>
		<span class='post_id'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=calendar&amp;module=calendar&amp;section=view&amp;do=showevent&amp;event_id={$event['event_id']}", "public",'' ), "{$event['event_title_seo']}", "cal_event" ) . "' class='hide' rel='bookmark url' title='{$this->lang->words['link_to_event']} {$event['event_title']}'>{$this->lang->words['permalink_link']}</a></span>

		<div class='post_body'>
			<p class='posted_info'>
				<strong class='event'>{$this->lang->words['event_date']}  <abbr class=\"dtstart\" title=\"" . date( 'c', $event['_start_time'] ) . "\">{$event['_start_date']} {$event['_event_time']}</abbr> " . (($event['ends']) ? ("<abbr class=\"dtend\" title=\"" . date( 'c', $event['_end_time'] ) . "\">{$event['ends']} " . (($event['_event_etime']) ? ("{$event['_event_etime']}") : ("")) . "") : ("" . (($event['_event_etime']) ? ("- {$event['_event_etime']}") : ("")) . "</abbr>")) . " ({$event['type']})</strong>
			</p>
			<div class='post entry-content description'>
				{$event['event_content']}
				{$event['event_attach_content']}
			</div>
		</div>
	</div>			
</div>";
return $IPBHTML;
}


}


/*--------------------------------------------------*/
/* END OF FILE                                      */
/*--------------------------------------------------*/

?>