<?php
/*--------------------------------------------------*/
/* FILE GENERATED BY INVISION POWER BOARD 3         */
/* CACHE FILE: Skin set id: 2               */
/* CACHE FILE: Generated: Wed, 29 Aug 2012 14:14:59 GMT */
/* DO NOT EDIT DIRECTLY - THE CHANGES WILL NOT BE   */
/* WRITTEN TO THE DATABASE AUTOMATICALLY            */
/*--------------------------------------------------*/

class skin_mod_2 extends skinMaster{

/**
* Construct
*/
function __construct( ipsRegistry $registry )
{
	parent::__construct( $registry );
	

$this->_funcHooks = array();
$this->_funcHooks['editUserForm'] = array('editusercfielddesc','custom_fields','editusercfields');
$this->_funcHooks['mergePostForm'] = array('selectedpids','dates','authors','uploads','mergepostsdates','mergepostsauthors','mergepostsattachments');
$this->_funcHooks['movePostForm'] = array('posts','movepostserror','movepostsloop');
$this->_funcHooks['moveTopicsForm'] = array('topics','movetopicsloop');
$this->_funcHooks['pruneSplash'] = array('defaultselectedoption','types','prunecompletehtml','confirmprune');
$this->_funcHooks['splitPostForm'] = array('split_posts','splitpostsloop');
$this->_funcHooks['topicHistory'] = array('modlogmemberid','mod_logs','historystarter','historylastposter','topicmodlogs');
$this->_funcHooks['warn_success'] = array('warnsuccesstid');
$this->_funcHooks['warn_view_log'] = array('warnlognote','warnlogcolor','warnlogpos','warnlogneg','warnlognochange','warnlognotetype','logs','warnlogentries');


}

/* -- deleteTopicForm --*/
function deleteTopicForm($forum, $topic) {
$IPBHTML = "";
$IPBHTML .= "<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", "public",'' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='08' />
<input type='hidden' name='t' value='{$topic['tid']}' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='st' value='{$this->request['st']}' />
<h2 class='maintitle'>{$this->lang->words['top_delete']}: {$forum['name']} -&gt; {$topic['title']}</h2>
<div class='generic_bar'></div>
<div class='post_form'>
	<p class='row1 field'>{$this->lang->words['delete_topic']}</p>
	<fieldset class='submit'>
		<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['submit_delete']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}&amp;st={$this->request['st']}", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
</div>
</form>";
return $IPBHTML;
}

/* -- editTopicTitle --*/
function editTopicTitle($forum, $topic) {
$IPBHTML = "";
$IPBHTML .= "<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", "public",'' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='12' />
<input type='hidden' name='t' value='{$topic['tid']}' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='st' value='{$this->request['st']}' />
<h2 class='maintitle'>{$this->lang->words['top_edit']}: {$forum['name']} &gt; {$topic['title']}</h2>
<div class='generic_bar'></div>
<div class='post_form'>
	<fieldset>
		<h3 class='bar'>{$this->lang->words['editing_topic_title']}</h3>
		<ul>
			<li class='field'>
				<label for='topic_title'>{$this->lang->words['edit_f_title']}</label>
				<input type=\"text\" size=\"40\" id='topic_title' maxlength=\"{$this->settings['topic_title_max_len']}\" name=\"TopicTitle\" value=\"{$topic['title']}\" />
			</li>
			<li class='field'>
				<label for='topic_desc'>{$this->lang->words['edit_f_desc']}</label>
				<input type=\"text\" size=\"40\" id='topic_desc' maxlength=\"70\" name=\"TopicDesc\" value=\"{$topic['description']}\" />
			</li>
		</ul>
	</fieldset>
	<fieldset class='submit'>
		<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['submit_edit']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
</form>";
return $IPBHTML;
}

/* -- editUserForm --*/
function editUserForm($profile, $custom_fields=null) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_mod', $this->_funcHooks['editUserForm'] ) )
{
$count_ed4b9f316e0f4a02f0b6190cd7783e36 = is_array($this->functionData['editUserForm']) ? count($this->functionData['editUserForm']) : 0;
$this->functionData['editUserForm'][$count_ed4b9f316e0f4a02f0b6190cd7783e36]['profile'] = $profile;
$this->functionData['editUserForm'][$count_ed4b9f316e0f4a02f0b6190cd7783e36]['custom_fields'] = $custom_fields;
}
$IPBHTML .= "<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", "public",'' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='doeditmember' />
<input type='hidden' name='mid' value='{$profile['member_id']}' />
<h2 class='maintitle'>{$this->lang->words['cp_em_title']}: {$profile['members_display_name']}</h2>
<div class='generic_bar'></div>
<div class='post_form'>
	<fieldset>
		<h3 class='bar'>{$this->lang->words['edit_user_images']}</h3>
		<ul>
			<li class='field'>
				<label for='photo'>{$this->lang->words['cp_remove_photo']}</label>
				<select name=\"photo\" id='photo' class='input_select'>
					<option value=\"0\">{$this->lang->words['no']}</option>
					<option value=\"1\">{$this->lang->words['yes']}</option>
				</select>
			</li>
		</ul>
		" . ((count($custom_fields->out_fields)) ? ("
			<h3 class='bar'>{$this->lang->words['edit_user_profile']}</h3>
			<ul>
				<li class='field'>
					<label for='title'>{$this->lang->words['edit_user_title']}</label>
					<input type='text' class=\"input_text\" name='title' value='{$profile['title']}' />
				</li>
				<li class='field'>
					<label for='title'>{$this->lang->words['edit_user_status']}</label>
					<input type='text' class=\"input_text\" name='status' value='{$profile['pp_status']}' />
				</li>
				".$this->__f__a232e2b6a7da515ca9283d74448dcdc4($profile,$custom_fields)."			</ul>
		") : ("")) . "
		<h3 class='bar'>{$this->lang->words['cp_edit_signature']}</h3>
		{$profile['signature']}
		<h3 class='bar'>{$this->lang->words['cp_edit_aboutme']}</h3>
		{$profile['aboutme']}
	</fieldset>
	<fieldset class='submit'>
		<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['cp_em_submit']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$profile['member_id']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
</div>
</form>";
return $IPBHTML;
}


function __f__a232e2b6a7da515ca9283d74448dcdc4($profile, $custom_fields=null)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $custom_fields->out_fields as $id => $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
					<li class='field'>
						<label for='field_{$id}'>{$custom_fields->field_names[ $id ]}</label>
						{$data}<br />
						" . (($custom_fields->field_desc[ $id ]) ? ("
							<span class='desc'>{$custom_fields->field_desc[ $id ]}</span>
						") : ("")) . "
					</li>
				
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- mergeMultiplePolls --*/
function mergeMultiplePolls($polls, $tids) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- mergePostForm --*/
function mergePostForm($editor, $dates, $authors, $uploads, $seoTitle) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_mod', $this->_funcHooks['mergePostForm'] ) )
{
$count_82fd9db72ad44e8530cac6fc56719a37 = is_array($this->functionData['mergePostForm']) ? count($this->functionData['mergePostForm']) : 0;
$this->functionData['mergePostForm'][$count_82fd9db72ad44e8530cac6fc56719a37]['editor'] = $editor;
$this->functionData['mergePostForm'][$count_82fd9db72ad44e8530cac6fc56719a37]['dates'] = $dates;
$this->functionData['mergePostForm'][$count_82fd9db72ad44e8530cac6fc56719a37]['authors'] = $authors;
$this->functionData['mergePostForm'][$count_82fd9db72ad44e8530cac6fc56719a37]['uploads'] = $uploads;
$this->functionData['mergePostForm'][$count_82fd9db72ad44e8530cac6fc56719a37]['seoTitle'] = $seoTitle;
}

$selectedPids	= implode( ',', $this->request['selectedpids'] );
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("moderate", "0" ) . "
<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", "public",'' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='postchoice' />".$this->__f__8af71c88cdbf1f9fda5e7d7a7f3f5c8e($editor,$dates,$authors,$uploads,$seoTitle)."<input type=\"hidden\" name=\"t\" value=\"{$this->request['t']}\" />
<input type=\"hidden\" name=\"f\" value=\"{$this->request['f']}\" />
<input type='hidden' name='tact' value='merge' />
<input type='hidden' name='checked' value='1' />
<input type='hidden' name='st' value='{$this->request['st']}' />
<p class='message'>{$this->lang->words['merge_select']}</p>
<h2 class='maintitle'>{$this->lang->words['cm_title']}</h2>
<div class='generic_bar'></div>
<div class='post_form'>
	<fieldset>
		<h3 class='bar'>{$this->lang->words['post_options']}</h3>
		<ul>
			<li class='field'>
				<label for='post_date'>{$this->lang->words['cm_post']}</label>
				<select name=\"postdate\" class=\"input_select\" id='post_date'>
					" . ((is_array($dates) AND count($dates)) ? ("
						".$this->__f__e4cf63bd8632efd809a1e22594c2643a($editor,$dates,$authors,$uploads,$seoTitle)."					") : ("")) . "
				</select>
			</li>
			<li class='field'>
				<label for='post_author'>{$this->lang->words['cm_author']}</label>
				<select name=\"postauthor\" class=\"input_select\" id='post_author'>
					" . ((is_array($authors) AND count($authors)) ? ("
						".$this->__f__8603597cee1e4c02c3a4785db151a72a($editor,$dates,$authors,$uploads,$seoTitle)."					") : ("")) . "
				</select>
			</li>
		</ul>
		<h3 class='bar'>{$this->lang->words['post_content']}</h3>
		{$editor}
	</fieldset>
	" . ((count($uploads)) ? ("
		<fieldset>
			<h3 class='bar'>{$this->lang->words['cm_attach']}</h3>
			<h4>{$this->lang->words['cm_attach2']}<h4>
			<table>
				".$this->__f__da9f60a857eba68dc1ea0f418beefea7($editor,$dates,$authors,$uploads,$seoTitle)."			</table>
		</fieldset>
	") : ("")) . "
	<fieldset class='submit'>
				<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['cm_submit']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$this->request['t']}&amp;selectedpids={$selectedPids}", "public",'' ), "{$seoTitle}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
</div>
</form>";
return $IPBHTML;
}


function __f__8af71c88cdbf1f9fda5e7d7a7f3f5c8e($editor, $dates, $authors, $uploads, $seoTitle)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $this->request['selectedpids'] as $pid )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
	<input type=\"hidden\" name=\"selectedpids[]\" value=\"{$pid}\" />

";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__e4cf63bd8632efd809a1e22594c2643a($editor, $dates, $authors, $uploads, $seoTitle)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $dates as $date )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
							<option value='{$date[0]}'>{$date[1]}</option>
						
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__8603597cee1e4c02c3a4785db151a72a($editor, $dates, $authors, $uploads, $seoTitle)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $authors as $author )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
							<option value='{$author[0]}'>{$author[1]}</option>
						
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__da9f60a857eba68dc1ea0f418beefea7($editor, $dates, $authors, $uploads, $seoTitle)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $uploads as $attach )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
					<tr>
						<td width=\"1%\">
							<select name=\"attach_{$attach['attach_id']}\" class=\"input_select\">
								<option value=\"keep\">{$this->lang->words['cm_keep']}</option>
								<option value=\"delete\">{$this->lang->words['cm_delete']}</option>
							</select>
						</td>
						<td width=\"1%\"><img src=\"{$this->settings['public_dir']}{$attach['image']}\" alt=\"{$this->lang->words['cm_attach_alt']}\" /></td>
						<td width=\"15%\" nowrap=\"nowrap\">{$attach['size']}</td>
						<td width=\"95%\"><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=attach&amp;section=attach&amp;attach_id={$attach['attach_id']}", "public",'' ), "", "" ) . "\" title=\"{$this->lang->words['cm_attach_title']}\">{$attach['attach_file']}</a> #{$attach['attach_rel_id']}</td>
					</tr>
				
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- mergeTopicsForm --*/
function mergeTopicsForm($forum, $topic) {
$IPBHTML = "";
$IPBHTML .= "<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", "public",'' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='61' />
<input type='hidden' name='t' value='{$topic['tid']}' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='st' value='{$this->request['st']}' />
<h2 class='maintitle'>{$this->lang->words['mt_top']}: {$forum['name']} &gt; {$topic['title']}</h2>
<div class='generic_bar'></div>
<div class='post_form'>
	<fieldset>
		<h3 class='bar'>{$this->lang->words['merge_topic_options']}</h3>
		<ul>
			<li class='field'>
				<label for='new_title'>{$this->lang->words['mt_new_title']}</label>
				<input type=\"text\" id='new_title' class='input_text' size=\"40\" maxlength=\"250\" name=\"title\" value=\"{$topic['title']}\" />
			</li>
			<li class='field'>
				<label for='new_desc'>{$this->lang->words['mt_new_desc']}</label>
				<input type=\"text\" id='new_desc' class='input_text' size=\"40\" maxlength=\"250\" name=\"desc\" value=\"{$topic['description']}\" />
			</li>
			<li class='field'>
				<label for='topic_url'>{$this->lang->words['mt_tid']}</label>
				<input type=\"text\" id='topic_url' class='input_text' size=\"40\" name=\"topic_url\" value=\"\" />
				<span class='desc'>{$this->lang->words['mt_tid_desc']}</span>
			</li>
		</ul>
	</fieldset>
	<fieldset class='submit'>
		<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['mt_submit']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
</div>
</form>";
return $IPBHTML;
}

/* -- movePostForm --*/
function movePostForm($forum, $topic, $posts, $error='') {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_mod', $this->_funcHooks['movePostForm'] ) )
{
$count_5d7f94c52420e69e18ce964341ec3c61 = is_array($this->functionData['movePostForm']) ? count($this->functionData['movePostForm']) : 0;
$this->functionData['movePostForm'][$count_5d7f94c52420e69e18ce964341ec3c61]['forum'] = $forum;
$this->functionData['movePostForm'][$count_5d7f94c52420e69e18ce964341ec3c61]['topic'] = $topic;
$this->functionData['movePostForm'][$count_5d7f94c52420e69e18ce964341ec3c61]['posts'] = $posts;
$this->functionData['movePostForm'][$count_5d7f94c52420e69e18ce964341ec3c61]['error'] = $error;
}

$selectedPids	= implode( ',', $this->request['selectedpids'] );
$IPBHTML .= "" . (($error) ? ("
	<p class=\"message error\">{$error}</p>
") : ("")) . "
" . $this->registry->getClass('output')->addJSModule("moderate", "0" ) . "
<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", "public",'' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='postchoice' />
<input type='hidden' name='t' value='{$topic['tid']}' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='tact' value='move' />
<input type='hidden' name='checked' value='1' />
<input type='hidden' name='st' value='{$this->request['st']}' />
<h2 class='maintitle'>{$this->lang->words['cmp_title']}: {$forum['name']} -&gt; {$topic['title']}</h2>
<div class='generic_bar'></div>
<div class='post_form'>
	<fieldset class='row1'>
		<h3 class='bar'>{$this->lang->words['move_posts_option']}</h3>
		<ul>
			<li class='field'>
				<label for='topic_url'>{$this->lang->words['cmp_topic']}</label>
				<input type=\"text\" size=\"50\" name=\"topic_url\" value=\"\" id='topic_url' class='input_text' />
				<span class='desc'>{$this->lang->words['cmp_topic2']}</span>
			</li>
		</ul>
	</fieldset>
</div>
<br />
<h2 class='maintitle'>{$this->lang->words['move_topic_summary']}</h2>
<div class='generic_bar'></div>
" . ((is_array( $posts ) AND count( $posts )) ? ("
	".$this->__f__4dc857beafb6967d6ef1df453d0643cd($forum,$topic,$posts,$error)."") : ("")) . "
<fieldset class='submit'>
		<input type=\"submit\" name=\"submit\" class='input_submit' value=\"{$this->lang->words['cmp_submit']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}&amp;selectedpids={$selectedPids}", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
</fieldset>
</form>";
return $IPBHTML;
}


function __f__4dc857beafb6967d6ef1df453d0643cd($forum, $topic, $posts, $error='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $posts as $row )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
		<div class='post_block topic_summary'>
			<h3>{$row['author_name']}</h3>
			<p class='posted_info'>{$this->lang->words['move_posted']} {$row['date']}</p>
			<label for='checkbox_{$row['pid']}' class='post_mod hide'>{$this->lang->words['st_split']}</label>
			<input type='checkbox' id='checkbox_{$row['pid']}' name='selectedpids[{$row['pid']}]' value='{$row['pid']}' class='post_mod' checked='checked' />
			<div class='post_body'>
				<div class='post'>{$row['post']}</div>
			</div>
		</div>
	
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- moveTopicForm --*/
function moveTopicForm($forum, $topic, $forum_jump) {
$IPBHTML = "";
$IPBHTML .= "<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", "public",'' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='14' />
<input type='hidden' name='t' value='{$topic['tid']}' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='st' value='{$this->request['st']}' />

<p class='message'>{$this->lang->words['move_exp']}</p>
<br />
<h2 class='maintitle'>{$this->lang->words['top_move']}: {$forum['name']} &gt; {$topic['title']}</h2>
<div class='generic_bar'></div>
<div class='post_form'>
	<fieldset>
		<h3 class='bar'>{$this->lang->words['move_topic_options']}</h3>
		<ul>
			<li class='field'>
				<label for='move_from'>{$this->lang->words['move_from']} <strong>{$forum['name']}</strong> {$this->lang->words['to']}</label>
				<select name=\"move_id\" id='move_from' class='input_select'>{$forum_jump}</select>
			</li>
			<li class='field'>
				<label for='leave_link'>{$this->lang->words['leave_link']}</label>
				<input type='checkbox' id='leave_link' class='input_check' name='leave' value='y' />
			</li>
		</ul>
	</fieldset>
	<fieldset class='submit'>
		<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['submit_move']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
</div>
</form>";
return $IPBHTML;
}

/* -- moveTopicsForm --*/
function moveTopicsForm($forum, $jump_html, $topics) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_mod', $this->_funcHooks['moveTopicsForm'] ) )
{
$count_6ed6151a8eafa30ab164190d8e4f0645 = is_array($this->functionData['moveTopicsForm']) ? count($this->functionData['moveTopicsForm']) : 0;
$this->functionData['moveTopicsForm'][$count_6ed6151a8eafa30ab164190d8e4f0645]['forum'] = $forum;
$this->functionData['moveTopicsForm'][$count_6ed6151a8eafa30ab164190d8e4f0645]['jump_html'] = $jump_html;
$this->functionData['moveTopicsForm'][$count_6ed6151a8eafa30ab164190d8e4f0645]['topics'] = $topics;
}
$IPBHTML .= "<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", "public",'' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='topicchoice' />
<input type='hidden' name='tact' value='domove' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='st' value='{$this->request['st']}' />
<p class='message'>{$this->lang->words['move_exp']}</p>
<br />
<h2 class='maintitle'>{$this->lang->words['cp_tmove_start']} {$forum['name']}</h2>
<div class='generic_bar'></div>
<div class='post_form' id='mod_form'>
	<fieldset class='row1'>
		<h3 class='bar'>{$this->lang->words['topics_to_move']}</h3>
		<ul>
			" . ((count($topics) AND is_array($topics)) ? ("
				".$this->__f__902d4522bb25e4a0965614a65fe6f37a($forum,$jump_html,$topics)."			") : ("")) . "
		</ul>
	</fieldset>
	<fieldset class='row1'>
		<h3 class='bar'>{$this->lang->words['move_topic_options']}</h3>
		<ul>
			<li class='field'>
				<label for='move_from'>{$this->lang->words['move_from']} <strong>{$forum['name']}</strong> {$this->lang->words['to']}</label>
				<select name=\"df\" id='move_from' class='input_select'>{$jump_html}</select>
			</li>
			<li class='field'>
				<label for='leave_link'>{$this->lang->words['leave_link']}</label>
				<input type='checkbox' id='leave_link' class='input_check' name='leave' value='y' />
			</li>
		</ul>
	</fieldset>
	<fieldset class='submit'>
		<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['submit_move']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showforum={$forum['id']}", "public",'' ), "{$forum['name_seo']}", "showforum" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
</div>
</form>";
return $IPBHTML;
}


function __f__902d4522bb25e4a0965614a65fe6f37a($forum, $jump_html, $topics)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $topics as $row )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
					<li class='field checkbox'>
						<input class='input_check' type=\"checkbox\" name=\"selectedtids[{$row['tid']}]\" id='t_{$row['tid']}' value=\"{$row['tid']}\" checked=\"checked\" />
						<label for='t_{$row['tid']}'>{$row['title']}</label>
					</li>
				
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- pruneSplash --*/
function pruneSplash($forum="", $forums_html="", $confirm_data="", $complete_html="") {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_mod', $this->_funcHooks['pruneSplash'] ) )
{
$count_1c4a34f4044dc9d1c3531aa6b4062f67 = is_array($this->functionData['pruneSplash']) ? count($this->functionData['pruneSplash']) : 0;
$this->functionData['pruneSplash'][$count_1c4a34f4044dc9d1c3531aa6b4062f67]['forum'] = $forum;
$this->functionData['pruneSplash'][$count_1c4a34f4044dc9d1c3531aa6b4062f67]['forums_html'] = $forums_html;
$this->functionData['pruneSplash'][$count_1c4a34f4044dc9d1c3531aa6b4062f67]['confirm_data'] = $confirm_data;
$this->functionData['pruneSplash'][$count_1c4a34f4044dc9d1c3531aa6b4062f67]['complete_html'] = $complete_html;
}
$IPBHTML .= "" . (($complete_html != '') ? ("
	{$complete_html}<br />
") : ("")) . "
	
<h2 class='maintitle'>{$this->lang->words['cp_prune']} {$forum['name']}</h2>
<div class='generic_bar'></div>
<div class='post_form'>
	" . (($confirm_data['show'] == 1) ? ("
		<fieldset>
			<h3 class='bar'>{$this->lang->words['mpt_confirm']} : {$this->lang->words['cp_check_result']}</h3>
			
			<ul>
				<li class='field'>
					<label>{$this->lang->words['cp_total_topics']}</label>
					{$confirm_data['tcount']}
				</li>
				<li class='field'>
					<label>{$this->lang->words['cp_total_match']}</label>
					{$confirm_data['count']}
				</li>
			</ul>
		</fieldset>
	
		<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$confirm_data['link']}", "public",'' ), "", "" ) . "' method=\"post\">
		<input type=\"hidden\" name=\"auth_key\" value=\"{$this->member->form_hash}\" />
		<fieldset class='submit'>
			<input type=\"submit\" class='input_submit' value=\"{$confirm_data['link_text']}\" />
		</fieldset>
		</form>
		
	") : ("")) . "
	<form id='postingform' action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "", "public",'' ), "", "" ) . "\" method=\"post\">
	<input type=\"hidden\" name=\"app\" value=\"forums\" />
	<input type=\"hidden\" name=\"module\" value=\"moderate\" />
	<input type=\"hidden\" name=\"section\" value=\"moderate\" />
	<input type=\"hidden\" name=\"do\" value=\"prune_start\" />
	<input type=\"hidden\" name=\"f\" value=\"{$forum['id']}\" />
	<input type=\"hidden\" name=\"auth_key\" value=\"{$this->member->form_hash}\" />
	<input type=\"hidden\" name=\"check\" value=\"1\" />
	<fieldset>
		<h3 class='bar'>{$this->lang->words['mpt_help']}</h3>
		<p>{$this->lang->words['cp_prune_text']}</p>
		<ul>
			<li class='field'>
				<label for='df'>{$this->lang->words['cp_prune_action2']}</label>
				<select class='input_select' name=\"df\" id=\"df\">
					<option value='prune'>{$this->lang->words['cp_ac_prune']}</option>
					{$forums_html}
				</select>
			</li>
			<li class='field'>
				<label for='pergo'>{$this->lang->words['cp_per_go']}</label>
				<input class='input_text' type=\"text\" size=\"5\" name=\"pergo\" id=\"pergo\" value=\"{$this->request['pergo']}\" />
			</li>
			<li class='field'>
				<label for='entered_name'>{$this->lang->words['cp_prune_member']}</label>
				<input class='input_text' type=\"text\" size=\"30\" name=\"member\" id='entered_name' value=\"{$this->request['member']}\" />
			</li>
			<li class='field'>
				<label for='dateline'>{$this->lang->words['cp_prune_days2']}</label>
				<input class='input_text' type=\"text\" size=\"5\" name=\"dateline\" id=\"dateline\" value=\"{$this->request['dateline']}\" />
			</li>
			<li class='field'>
				<label for='posts'>{$this->lang->words['cp_prune_replies']}</label>
				<input class='input_text' type=\"text\" size=\"5\" name=\"posts\" id=\"posts\" value=\"{$this->request['posts']}\" />
			</li>
			<li class='field'>
				<label for='topic_type'>{$this->lang->words['cp_prune_type']}</label>
				<select class='input_select' name='topic_type' id=\"topic_type\">
					".$this->__f__b85c3a3497714ca482433fd175283b9b($forum,$forums_html,$confirm_data,$complete_html)."				</select>
			</li>
			<li class='field'>
				<label for='cbox'>{$this->lang->words['mps_ignorepin']}</label>
				<input class='input_check' type=\"checkbox\" id=\"cbox\" name=\"ignore_pin\" value=\"1\" checked=\"checked\" />
			</li>
			<li class='field'>
				<span class='desc'>{$this->lang->words['cp_optional']}</span>
			</li>
		</ul>
	</fieldset>
	<fieldset class='submit'>
		<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['cp_prune_sub1']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showforum={$forum['id']}", "public",'' ), "{$forum['name_seo']}", "showforum" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
	</form>
</div>";
return $IPBHTML;
}


function __f__b85c3a3497714ca482433fd175283b9b($forum="", $forums_html="", $confirm_data="", $complete_html="")
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( array( 'open', 'closed', 'link', 'all' ) as $type )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
						<option value='{$type}'" . (($this->request['topic_type'] == $type) ? (" selected='selected'") : ("")) . ">{$this->lang->words[ 'cp_pday_' . $type ]}</option>
					
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- simplePage --*/
function simplePage($title="", $msg="") {
$IPBHTML = "";
$IPBHTML .= "<h2>{$title}</h2>
<div class='general_box'>
	{$msg}
</div>";
return $IPBHTML;
}

/* -- softDeleteSplash --*/
function softDeleteSplash($forum, $tids=array(), $canHardDelete=false) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- softDeleteSplashPosts --*/
function softDeleteSplashPosts($forum, $topic, $pids=array(), $canHardDelete=false) {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- splitPostForm --*/
function splitPostForm($forum, $topic, $posts, $jump) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_mod', $this->_funcHooks['splitPostForm'] ) )
{
$count_e7fa5544f79c628ba51aec4ebfc34e49 = is_array($this->functionData['splitPostForm']) ? count($this->functionData['splitPostForm']) : 0;
$this->functionData['splitPostForm'][$count_e7fa5544f79c628ba51aec4ebfc34e49]['forum'] = $forum;
$this->functionData['splitPostForm'][$count_e7fa5544f79c628ba51aec4ebfc34e49]['topic'] = $topic;
$this->functionData['splitPostForm'][$count_e7fa5544f79c628ba51aec4ebfc34e49]['posts'] = $posts;
$this->functionData['splitPostForm'][$count_e7fa5544f79c628ba51aec4ebfc34e49]['jump'] = $jump;
}

$selectedPids	= implode( ',', $this->request['selectedpids'] );
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("moderate", "0" ) . "
<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", "public",'' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='postchoice' />
<input type='hidden' name='t' value='{$topic['tid']}' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='tact' value='split' />
<input type='hidden' name='checked' value='1' />
<input type='hidden' name='st' value='{$this->request['st']}' />
<p class='message'>{$this->lang->words['st_explain']}</p>
<h2 class='maintitle'>{$this->lang->words['st_top']}: {$forum['name']} &gt; {$topic['title']}</h2>
<div class='generic_bar'></div>
<div class='post_form'>
	<fieldset>
		<h3 class='bar'>{$this->lang->words['st_new_topic']}</h3>
		<ul>
			<li class='field'>
				<label for='new_title'>{$this->lang->words['mt_new_title']}</label>
				<input type=\"text\" size=\"40\" class='input_text' id='new_title' maxlength=\"100\" name=\"title\" value=\"\" />
			</li>
			<li class='field'>
				<label for='new_desc'>{$this->lang->words['mt_new_desc']}</label>
				<input type=\"text\" size=\"40\" class='input_text' id='new_desc' maxlength=\"100\" name=\"desc\" value=\"\" />
			</li>
			<li class='field'>
				<label for='new_forum'>{$this->lang->words['st_forum']}</label>
				<select name=\"fid\" id='new_forum' class='input_select'>{$jump}</select>
			</li>
		</ul>
	</fieldset>
</div>
<br />
<h2 class='maintitle'>{$this->lang->words['st_post']}</h2>
<div class='generic_bar'></div>
" . ((is_array( $posts ) AND count( $posts )) ? ("
	".$this->__f__2c9c53d93d6188853d3cfd326f763373($forum,$topic,$posts,$jump)."") : ("")) . "
<fieldset class='submit'>
		<input type=\"submit\" name=\"submit\" class='input_submit' value=\"{$this->lang->words['st_submit']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}&amp;selectedpids={$selectedPids}", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
</fieldset>
</form>";
return $IPBHTML;
}


function __f__2c9c53d93d6188853d3cfd326f763373($forum, $topic, $posts, $jump)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $posts as $row )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
		<div class='post_block topic_summary'>
			<h3>{$row['author_name']}</h3>
			<p class='posted_info'>{$this->lang->words['move_posted']} {$row['date']}</p>
			<label for='checkbox_{$row['pid']}' class='post_mod hide'>{$this->lang->words['st_split']}</label>
			<input type='checkbox' id='checkbox_{$row['pid']}' name='selectedpids[{$row['pid']}]' value='{$row['pid']}' class='post_mod' checked='checked' />
			<div class='post_body'>
				<div class='post'>{$row['post']}</div>
			</div>
		</div>
	
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- topicHistory --*/
function topicHistory($topic, $avg_post, $mod_logs=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_mod', $this->_funcHooks['topicHistory'] ) )
{
$count_c13b040b429401c2c606776953d308dc = is_array($this->functionData['topicHistory']) ? count($this->functionData['topicHistory']) : 0;
$this->functionData['topicHistory'][$count_c13b040b429401c2c606776953d308dc]['topic'] = $topic;
$this->functionData['topicHistory'][$count_c13b040b429401c2c606776953d308dc]['avg_post'] = $avg_post;
$this->functionData['topicHistory'][$count_c13b040b429401c2c606776953d308dc]['mod_logs'] = $mod_logs;
}

if ( ! isset( $this->registry->templateStriping['modlogs'] ) ) {
$this->registry->templateStriping['modlogs'] = array( FALSE, "row1","row2");
}
$IPBHTML .= "<h2 class='maintitle'>{$this->lang->words['th_title']}</h2>
<table class='ipb_table' summary=\"{$this->lang->words['topic_history_summary']} '{$topic['title']}'\">
	<tr class='header'>
		<th scope='col' style='width: 40%'>{$this->lang->words['summary_th_title']}</th>
		<th scope='col' style='width: 60%'>{$this->lang->words['summary_th_info']}</th>
	</tr>
	<tr class='row1'>
		<td class='altrow'>{$this->lang->words['th_topic']}</td>
		<td>{$topic['title']}</td>
	</tr>
	<tr class='row2'>
		<td class='altrow'>{$this->lang->words['th_desc']}</td>
		<td>{$topic['description']}</td>
	</tr>
	<tr class='row1'>
		<td class='altrow'>{$this->lang->words['th_start_date']}</td>
		<td>" . $this->registry->getClass('class_localization')->getDate($topic['start_date'],"long", 0) . "</td>
	</tr>
	<tr class='row2'>
		<td class='altrow'>{$this->lang->words['th_start_name']}</td>
		<td>
			" . (($topic['starter_id']) ? ("
				<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$topic['starter_id']}", "public",'' ), "{$topic['seo_first_name']}", "showuser" ) . "' title='{$this->lang->words['view_profile']}'>{$topic['starter_name']}</a>
			") : ("
				{$topic['starter_name']}
			")) . "
		</td>
	</tr>
	<tr class='row1'>
		<td class='altrow'>{$this->lang->words['th_last_date']}</td>
		<td>" . $this->registry->getClass('class_localization')->getDate($topic['last_post'],"long", 0) . "</td>
	</tr>
	<tr class='row2'>
		<td class='altrow'>{$this->lang->words['th_last_name']}</td>
		<td>
			" . (($topic['last_poster_id']) ? ("
				<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$topic['last_poster_id']}", "public",'' ), "{$topic['seo_last_name']}", "showuser" ) . "' title='{$this->lang->words['view_profile']}'>{$topic['last_poster_name']}</a>
			") : ("
				{$topic['last_poster_name']}
			")) . "
		</td>
	</tr>
	<tr class='row1'>
		<td class='altrow'>{$this->lang->words['th_avg_post']}</td>
		<td>{$avg_post}</td>
	</tr>
</table>
<br />
<h2 class='maintitle'>{$this->lang->words['ml_title']}</h2>
<table class='ipb_table' summary=\"{$this->lang->words['mod_logs_topic_summary']} '{$topic['title']}'\">
	<tr class='header'>
		<th scope='col' style='width: 25%'>{$this->lang->words['ml_name']}</th>
		<th scope='col' style='width: 50%'>{$this->lang->words['ml_desc']}</th>
		<th scope='col' style='width: 25%'>{$this->lang->words['ml_date']}</th>
	</tr>
	" . ((!count($mod_logs) OR !is_array($mod_logs)) ? ("
		<tr>
			<td class=\"no_messages\" colspan=\"3\">{$this->lang->words['ml_none']}</td>
		</tr>
	") : ("
				".$this->__f__ebfa774e9d57d781b2b2917ca4d2bf28($topic,$avg_post,$mod_logs)."	")) . "
</table>";
return $IPBHTML;
}


function __f__ebfa774e9d57d781b2b2917ca4d2bf28($topic, $avg_post, $mod_logs=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $mod_logs as $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			<tr class='" .  IPSLib::next( $this->registry->templateStriping["modlogs"] ) . "'>
				<td class='altrow'>
					" . (($data['member_id']) ? ("
						<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$data['member_id']}", "public",'' ), "{$data['members_seo_name']}", "showuser" ) . "' title='{$this->lang->words['view_profile']}'>{$data['member_name']}</a>
					") : ("
						{$data['member_name']}
					")) . "
				</td>
				<td>{$data['action']}</td>
				<td class=\"altrow\">" . $this->registry->getClass('class_localization')->getDate($data['ctime'],"long", 0) . "</td>
			</tr>
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- unsubscribeForm --*/
function unsubscribeForm($forum, $topic, $text) {
$IPBHTML = "";
$IPBHTML .= "<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", "public",'' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='31' />
<input type='hidden' name='t' value='{$topic['tid']}' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='st' value='{$this->request['st']}' />
<h2>{$this->lang->words['ts_title']}: {$forum['name']} &gt; {$topic['title']}</h2>
<p class='message'>{$text}</p>
<br />
<fieldset class='submit'>
	<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['ts_submit']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
</fieldset>
</form>";
return $IPBHTML;
}

/* -- warn_add_note_form --*/
function warn_add_note_form($id="",$name="",$seo_name="") {
$IPBHTML = "";
$IPBHTML .= "<form method=\"post\" action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=warn&amp;section=warn&amp;do=save_note&amp;mid={$id}", "public",'' ), "", "" ) . "\" id='postingform'>
	<input type='hidden' name='popup' value='{$this->request['popup']}' />
	<h2 class='maintitle'>{$this->lang->words['mod_warn_new_note']} <a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$id}", "public",'' ), "{$seo_name}", "showuser" ) . "\" title='{$this->lang->words['view_profile']}'>{$name}</a></h2>
	<div class='generic_bar'></div>
	<div class='post_form'>
		<fieldset class='row1'>
			<h3 class='bar'>{$this->lang->words['mod_warn_fieldset']}</h3>
			<ul>
				<li class='field'>
					<textarea name='note' style='width: 95%; height:150px'>{$_POST['note']}</textarea>
				</li>
			</ul>
		</fieldset>
		<fieldset class='submit'>
			<input type='submit' class='input_submit' value='{$this->lang->words['mod_warn_note_save']}' />
		</fieldset>
	</div>
</form>";
return $IPBHTML;
}

/* -- warn_success --*/
function warn_success($topic=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_mod', $this->_funcHooks['warn_success'] ) )
{
$count_6168c1547db7e5528a136af83e538c7c = is_array($this->functionData['warn_success']) ? count($this->functionData['warn_success']) : 0;
$this->functionData['warn_success'][$count_6168c1547db7e5528a136af83e538c7c]['topic'] = $topic;
}
$IPBHTML .= "<h2>{$this->lang->words['w_done_t']}</h2>
<div class='message'>
	{$this->lang->words['w_done_te']}
	<br /><br />
	
	<ul class='bullets'>
		<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "", "public",'' ), "", "" ) . "\">{$this->lang->words['w_done_home']}</a></li>
		" . (($topic['tid']) ? ("
			<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showforum={$topic['id']}", "public",'' ), "{$topic['name_seo']}", "showforum" ) . "\">{$this->lang->words['w_done_forum']} <b>{$topic['name']}</b></a></li>
			<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}&amp;st={$this->request['st']}", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "\">{$this->lang->words['w_done_topic']} <b>{$topic['title']}</b></a></li>
		") : ("")) . "
	</ul>
</div>
<br />";
return $IPBHTML;
}

/* -- warn_view_log --*/
function warn_view_log($member, $rows, $links='') {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_mod', $this->_funcHooks['warn_view_log'] ) )
{
$count_c3e9641c60b780ea453f2e5284a969a5 = is_array($this->functionData['warn_view_log']) ? count($this->functionData['warn_view_log']) : 0;
$this->functionData['warn_view_log'][$count_c3e9641c60b780ea453f2e5284a969a5]['member'] = $member;
$this->functionData['warn_view_log'][$count_c3e9641c60b780ea453f2e5284a969a5]['rows'] = $rows;
$this->functionData['warn_view_log'][$count_c3e9641c60b780ea453f2e5284a969a5]['links'] = $links;
}

if ( ! isset( $this->registry->templateStriping['modlog'] ) ) {
$this->registry->templateStriping['modlog'] = array( FALSE, "row2","row1");
}
$IPBHTML .= "" . (($this->request['module']=='ajax') ? ("
		<h3>{$this->lang->words['w_v_title']}: <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$member['member_id']}", "public",'' ), "{$member['members_seo_name']}", "showuser" ) . "' title='{$this->lang->words['view_profile']}'>{$member['members_display_name']}</a></h3>
	") : ("
		<h3 class='maintitle'>{$this->lang->words['w_v_title']}: <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$member['member_id']}", "public",'' ), "{$member['members_seo_name']}", "showuser" ) . "' title='{$this->lang->words['view_profile']}'>{$member['members_display_name']}</a></h3>
	")) . "
	<table class='ipb_table'>
		<tr class='header'>
			<th scope='col'>{$this->lang->words['w_v_warnby']}</th>
			<th scope='col'>{$this->lang->words['w_v_notes']}</th>
		</tr>
		" . ((!is_array($rows) OR !count($rows)) ? ("
			<tr>
				<td class=\"no_messages\" colspan=\"2\">{$this->lang->words['w_v_none']}</td>
			</tr>
		") : ("
						".$this->__f__cee5553545940c8801fe4b23f7dc6479($member,$rows,$links)."		")) . "
	</table>
	<div class='topic_controls'>
		{$links}
	</div>";
return $IPBHTML;
}


function __f__cee5553545940c8801fe4b23f7dc6479($member, $rows, $links='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $rows as $r )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
				<tr class='" .  IPSLib::next( $this->registry->templateStriping["modlog"] ) . "'>
					<td><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$r['punisher_id']}", "public",'' ), "{$r['members_seo_name']}", "showuser" ) . "' title='{$this->lang->words['view_profile']}'><strong>{$r['punisher_name']}</strong></a></td>
					<td>{$this->lang->words['mod_warn_added']} <strong>" . $this->registry->getClass('class_localization')->getDate($r['wlog_date'],"long", 1) . "</strong></td>
				</tr>
				<tr class='" .  IPSLib::next( $this->registry->templateStriping["modlog"] ) . "'>
					<td>
						<span class=\"" . (($r['wlog_type'] == 'note' OR $r['wlog_type'] == 'pos') ? ("positive") : ("negative")) . "\" " . (($r['wlog_type'] == 'note' || $r['wlog_type'] == 'nochan') ? ("style='color:gray'") : ("")) . ">
							" . (($r['wlog_type'] == 'note') ? ("
								{$this->lang->words['mod_warn_note']}
							") : ("" . (($r['wlog_type'] == 'pos') ? ("
									{$this->lang->words['w_v_minus']}
								") : ("")) . "
								" . (($r['wlog_type'] == 'neg') ? ("
									{$this->lang->words['w_v_add']}
								") : ("")) . "
								" . (($r['wlog_type'] == 'nochan') ? ("
									{$this->lang->words['w_v_nochan']}
								") : ("")) . "")) . "
						</span>
					</td>
					<td>{$r['content']}</td>
				</tr>
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}


}


/*--------------------------------------------------*/
/* END OF FILE                                      */
/*--------------------------------------------------*/

?>