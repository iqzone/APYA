<?xml version="1.0" encoding="utf-8"?>
<templates application="core" templategroups="a:12:{s:12:&quot;skin_editors&quot;;s:5:&quot;exact&quot;;s:11:&quot;skin_emails&quot;;s:5:&quot;exact&quot;;s:11:&quot;skin_global&quot;;s:5:&quot;exact&quot;;s:17:&quot;skin_global_other&quot;;s:5:&quot;exact&quot;;s:20:&quot;skin_global_comments&quot;;s:5:&quot;exact&quot;;s:9:&quot;skin_help&quot;;s:5:&quot;exact&quot;;s:10:&quot;skin_login&quot;;s:5:&quot;exact&quot;;s:13:&quot;skin_register&quot;;s:5:&quot;exact&quot;;s:12:&quot;skin_reports&quot;;s:5:&quot;exact&quot;;s:11:&quot;skin_search&quot;;s:5:&quot;exact&quot;;s:10:&quot;skin_stats&quot;;s:5:&quot;exact&quot;;s:10:&quot;skin_modcp&quot;;s:5:&quot;exact&quot;;}">
  <templategroup group="skin_editors">
    <template>
      <template_group>skin_editors</template_group>
      <template_content><![CDATA[<if test="jsNotLoaded:|:$extraData['_loadJs']">
	{parse template="editorLoadJs" group="editors" params="$extraData['smilies']"}
</if>
<if test="ajaxerror:|:$error_msg">
	<p id='error_msg_e{$pid}' class='message error'>{$error_msg}</p>
<else />
	<p id='error_msg_e{$pid}' class='message error' style='display: none'>{$error_msg}</p>
</if>
<input type='hidden' name='editor_ids[]' value='e{$pid}' />
<div class='ipsBox clearfix'>
	<div class='ipsBox_container'>
		<div class='ips_editor' id='editor_e{$pid}'>
			<if test="forceStd:|:$extraData['isHtml']">
				{parse editor="Post" content="$post" options="array( 'editorName' => 'edit-' . $pid, 'type' => 'full', 'minimize' => 0, 'isRte' => 0, 'isHtml' => 1 )"}
			<else />
				{parse editor="Post" content="$post" options="array( 'editorName' => 'edit-' . $pid, 'type' => 'full', 'minimize' => 0 )"}
			</if>
			<if test="showeditoptions:|:$extraData['showEditOptions']">
				<div class='row2 ipsPad ipsText_small desc'>
					<if test="showreason:|:$extraData['showReason']">
						{$this->lang->words['preason_for_edit']} <input type='text' size='35' maxlength='250' class='input_text' id='post_edit_reason_{$pid}' name='post_edit_reason_{$pid}' value='{$extraData['reasonForEdit']}' tabindex='0' />
					</if>
					<if test="showappendedit:|:$extraData['showAppendEdit']">
					<input type='checkbox' name='add_edit_{$pid}' id='add_edit_{$pid}' <if test="appendedit:|:$extraData['append_edit']">checked='checked'</if> value='1' /> <label for='add_edit_{$pid}'>{$this->lang->words['show_edited_by']}</label>
					</if>
				</div>
				<if test="htmlstatus:|:$extraData['checkBoxes']['html'] !== null">
					<div class='row2 ipsPad ipsText_small desc'>
						<input type="checkbox" name="post_htmlstatus" class="input_check" value="1" id='post_htmlstatus_{$pid}' {$extraData['checkBoxes']['html']} /> <label for='post_htmlstatus' data-tooltip='{$this->lang->words['pp_html_tooltip']}'>{$this->lang->words['pp_html']}</label>
						<script type="text/javascript">
							ipb.textEditor.bindHtmlCheckbox( $('post_htmlstatus_{$pid}') );
						</script>
					</div>
				</if>
			</if>
			<fieldset class='submit'>			
				<input type='submit' value='{$this->lang->words['save_changes']}' class='input_submit' id='edit_save_e{$pid}' tabindex='0' /> <if test="! $extraData['skipFullButton']"><input type='submit' value='{$this->lang->words['use_full_editor']}' class='input_submit alt' id='edit_switch_e{$pid}' tabindex='0' /></if> {$this->lang->words['or']} <a href='#' title='{$this->lang->words['cancel']}' class='cancel' id='edit_cancel_e{$pid}' tabindex='0'>{$this->lang->words['cancel']}</a>
			</fieldset>
		</div>
	</div>
</div>]]></template_content>
      <template_name>ajaxEditBox</template_name>
      <template_data><![CDATA[$post="", $pid=0, $error_msg="", $extraData]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_editors</template_group>
      <template_content><![CDATA[<if test="$acknowledge">
	<p class='message'>{$this->lang->words['warnings_acknowledge_desc']} <a href='{parse url="app=members&amp;module=profile&amp;section=warnings&amp;do=acknowledge&amp;id={$acknowledge}" base="public"}' class='ipsButton_secondary'>{$this->lang->words['warnings_acknowledge_review']}</a></p>
<else />
	<if test="$warningInfo">
		<p class='message'>{$warningInfo}</p>
		<br />
	</if>
	<php>
		/* Always return as UTF-8 */
		$jsonEncoded = IPSText::jsonEncodeForTemplate( $autoSaveData );
	</php>
	<if test="jsNotLoaded:|:empty($this->_editorJsLoaded)">
		{parse template="editorLoadJs" group="editors" params="$options"}
	</if>
	<input type='hidden' name='isRte' id='isRte_{$options['editorName']}' value='{parse expression="intval( $options['isRte'] )"}' />
	<input type='hidden' name='noSmilies' id='noSmilies_{$options['editorName']}' value='{parse expression="intval( $options['noSmilies'] )"}' />
	<textarea id="{$options['editorName']}" name="{$formField}" class='ipsEditor_textarea input_text<if test="ismini:|:$options['type'] == 'mini'"> mini</if>'>{$content}</textarea>
	<p class='desc ipsPad' style='display: none' id='editor_html_message_{$options['editorName']}'>{$this->lang->words['editor_html_message']}</p>
	<script type="text/javascript">
		ipb.textEditor.initialize('{$options['editorName']}', { type: <if test="hasType:|:$options['type']">'{$options['type']}'<else />''</if>,
																height: <if test="hasHeight:|:$options['height'] > 0">{$options['height']}<else /><if test="ismini:|:$options['type'] == 'mini'">150<else />300</if></if>,
																minimize: <if test="hasMinimize:|:$options['minimize']">'{$options['minimize']}'<else />0</if>,
																bypassCKEditor: {parse expression="intval( $options['bypassCKEditor'] )"},
																delayInit: {parse expression="intval( $options['delayInit'] )"},
																isHtml: {parse expression="intval( $options['isHtml'] )"},
																isRte: {parse expression="intval( $options['isRte'] )"},
																noSmilies: {parse expression="intval( $options['noSmilies'] )"},
																isTypingCallBack: <if test="hasCallback:|:$options['isTypingCallBack']">{$options['isTypingCallBack']}<else />''</if>,
																ips_AutoSaveKey: <if test="hasSaveKey:|:$options['autoSaveKey']">'{$options['autoSaveKey']}'<else />''</if>,
												                ips_AutoSaveData: {$jsonEncoded} } );
	</script>
</if>]]></template_content>
      <template_name>editor</template_name>
      <template_data><![CDATA[$formField='post', $content='', $options=array(), $autoSaveData=array(), $warningInfo='', $acknowledge=FALSE]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_editors</template_group>
      <template_content><![CDATA[ipb.editor_values.get('templates')['link'] = new Template("<label for='#{id}_url'>{$this->lang->words['js_template_url']}</label><input type='text' class='input_text' id='#{id}_url' value='http://' tabindex='10' /><label for='#{id}_urltext'>{$this->lang->words['js_template_link']}</label><input type='text' class='input_text _select' id='#{id}_urltext' value='{$this->lang->words['js_template_default']}' tabindex='11' /><input type='submit' class='input_submit' value='{$this->lang->words['js_template_insert_link']}' tabindex='12' />");
ipb.editor_values.get('templates')['image'] = new Template("<label for='#{id}_img'>{$this->lang->words['js_template_imageurl']}</label><input type='text' class='input_text' id='#{id}_img' value='http://' tabindex='10' /><input type='submit' class='input_submit' value='{$this->lang->words['js_template_insert_img']}' tabindex='11' />");
ipb.editor_values.get('templates')['email'] = new Template("<label for='#{id}_email'>{$this->lang->words['js_template_email_url']}</label><input type='text' class='input_text' id='#{id}_email' tabindex='10' /><label for='#{id}_emailtext'>{$this->lang->words['js_template_link']}</label><input type='text' class='input_text _select' id='#{id}_emailtext' value='{$this->lang->words['js_template_email_me']}' tabindex='11' /><input type='submit' class='input_submit' value='{$this->lang->words['js_template_insert_email']}' tabindex='12' />");
ipb.editor_values.get('templates')['media'] = new Template("<label for='#{id}_media'>{$this->lang->words['js_template_media_url']}</label><input type='text' class='input_text' id='#{id}_media' value='http://' tabindex='10' /><input type='submit' class='input_submit' value='{$this->lang->words['js_template_insert_media']}' tabindex='11' />");
ipb.editor_values.get('templates')['generic'] = new Template("<div class='rte_title'>#{title}</div><strong>{$this->lang->words['js_template_example']}</strong><pre>#{example}</pre><label for='#{id}_option' class='optional'>#{option_text}</label><input type='text' class='input_text optional' id='#{id}_option' tabindex='10' /><label for='#{id}_text'>#{value_text}</label><input type='text' class='input_text _select' id='#{id}_text' tabindex='11' /><input type='submit' class='input_submit' value='{$this->lang->words['js_template_add']}' tabindex='12' />");
ipb.editor_values.get('templates')['togglesource'] = new Template("<fieldset id='#{id}_ts_controls' class='submit' style='text-align: left'><input type='button' class='input_submit' value='{$this->lang->words['js_template_update']}' id='#{id}_ts_update' />&nbsp;&nbsp;&nbsp; <a href='#' id='#{id}_ts_cancel' class='cancel'>{$this->lang->words['js_template_cancel_source']}</a></fieldset>");
	
ipb.editor_values.get('templates')['toolbar'] = new Template("<ul id='#{id}_toolbar_#{toolbarid}' class='toolbar' style='display: none'>#{content}</ul>");
ipb.editor_values.get('templates')['button'] = new Template("<li><span id='#{id}_cmd_custom_#{cmd}' class='rte_control rte_button specialitem' title='#{title}'><img src='{$this->settings['img_url']}/rte_icons/#{img}' alt='' /></span></li>");
ipb.editor_values.get('templates')['menu_item'] = new Template("<li id='#{id}_cmd_custom_#{cmd}' class='specialitem clickable'>#{title}</li>");
ipb.editor_values.get('templates')['togglesource'] = new Template("<fieldset id='#{id}_ts_controls' class='submit' style='text-align: left'><input type='button' class='input_submit' value='{$this->lang->words['js_template_update']}' id='#{id}_ts_update' />&nbsp;&nbsp;&nbsp; <a href='#' id='#{id}_ts_cancel' class='cancel'>{$this->lang->words['js_template_cancel_source']}</a></fieldset>");
ipb.editor_values.get('templates')['emoticons_showall'] = new Template("<input class='input_submit emoticons' type='button' id='#{id}_all_emoticons' value='{$this->lang->words['show_all_emoticons']}' />");
ipb.editor_values.get('templates')['emoticon_wrapper'] = new Template("<h4><span>{$this->lang->words['emoticons_template_title']}</span></h4><div id='#{id}_emoticon_holder' class='emoticon_holder'></div>");

// Add smilies into the mix
ipb.editor_values.set( 'show_emoticon_link', false );
<if test="hasemoticons:|:$emoticons != ''">
	ipb.editor_values.set( 'emoticons', \$H({ $emoticons }) );
</if>
ipb.editor_values.set( 'bbcodes', \$H({IPSLib::fetchBbcodeAsJson()}) );
	ipb.vars['emoticon_url'] = "{$this->settings['emoticons_url']}";]]></template_content>
      <template_name>editorJS</template_name>
      <template_data><![CDATA[$emoticons='']]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_editors</template_group>
      <template_content><![CDATA[{parse js_module="textEditor"}
<php>
	$this->_editorJsLoaded = true;
	$jsonEncoded = IPSText::jsonEncodeForTemplate( is_array($options['smilies']) ? $options['smilies'] : array() );
</php>
<if test="bypassCkEditor:|: ! $options['bypassCKEditor']">
	<if test="defined("CK_LOAD_SOURCE") AND CK_LOAD_SOURCE">
		<!-- Load source files, not the minified version -->
		<script type="text/javascript" src="{$this->settings['js_base_url']}js/3rd_party/ckeditor/ckeditor_source.js"></script>
	<else />
		<script type="text/javascript" src="{$this->settings['js_base_url']}js/3rd_party/ckeditor/ckeditor.js"></script>
	</if>
	<script type="text/javascript">
		/* Dynamic items */
		CKEDITOR.config.IPS_BBCODE          = {IPSLib::fetchBbcodeAsJson( array( 'skip' => array( 'sharedmedia' ) ) )};
		CKEDITOR.config.IPS_BBCODE_IMG_URL  = "{$this->settings['public_cdn_url']}style_extra/bbcode_icons";
		CKEDITOR.config.IPS_BBCODE_BUTTONS  = [];
		
		/* Has to go before config load */
		var IPS_smiley_path			= "{$this->settings['emoticons_url']}/";
		var IPS_smiles       		= <if test="hasimages:|:! empty($options['smilies']['count'])">{$jsonEncoded}<else />{}</if>;
		var IPS_remove_plugins      = [];
		var IPS_hide_contextMenu    = {parse expression="intval($this->settings['cke_hide_contextMenu'])"};
		var IPS_rclick_contextMenu  = {parse expression="intval($this->memberData['bw_cke_contextmenu'])"};
		
		/* Load our configuration */
		CKEDITOR.config.customConfig  = '{$this->settings['js_base_url']}js/3rd_party/ckeditor/ips_config.js';
	</script>
</if>
{parse expression="$this->registry->output->addToDocumentHead( 'importcss', "{$this->settings['css_base_url']}style_css/{$this->registry->output->skin['_csscacheid']}/ipb_ckeditor.css" )"}]]></template_content>
      <template_name>editorLoadJs</template_name>
      <template_data><![CDATA[$options='']]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_editors</template_group>
      <template_content><![CDATA[<h3>{$this->lang->words['editor_options']}</h3>
<div class='fixed_inner ipsBox row1'>
	<div class='ipsSettings'>
		<fieldset class='ipsSettings_section'>
			<ul class='ipsForm ipsForm_horizontal'>
				<li class='ipsField'>
					<label for='bw_cke_contextmenu'>{$this->lang->words['editor_context_menu']}</label>
					<br />
					<select name='bw_cke_contextmenu' id='bw_cke_contextmenu' class='input_select'>
					<option value='0' <if test="isSelected:|:$this->memberData['bw_cke_contextmenu'] != 1"> selected="selected"</if>>{$this->lang->words['editor_context_menu_crc']}</option>
					<option value='1' <if test="isSelected:|:$this->memberData['bw_cke_contextmenu'] == 1"> selected="selected"</if>>{$this->lang->words['editor_context_menu_rc']}</option>
					
					</select>
				</li>			
				<li>
					<input type='checkbox' class='input_check' id='clearSavedContent' name="clearSavedContent" value="1" /> &nbsp;<label for='clearSavedContent'>{$this->lang->words['editor_clear_data']}</label>
				</li>
			</ul>
		</fieldset>
	</div>
	<div class='right' style='position: relative'>
		<a href='#' id='ipsEditorOptionsSave' class='ipsButton_secondary'>{$this->lang->words['editor_ok']}</a>
	</div>
</div>]]></template_content>
      <template_name>editorSettings</template_name>
      <template_data/>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_editors</template_group>
      <template_content><![CDATA[{parse addtohead="{$this->settings['css_base_url']}style_css/{$this->registry->output->skin['_csscacheid']}/ipb_editor.css" type="importcss"}
<if test="$show_sidebar = IPSCookie::get('emoticon_sidebar')"></if>
	<div class='ips_editor' id='editor_{$editor_id}'>
		<div class='sidebar row1 altrow' id='{$editor_id}_sidebar' style='display: none'>
			<h4><img src='{$this->settings['img_url']}/close_popup.png' alt='' id='{$editor_id}_close_sidebar' /><span>{$this->lang->words['emoticons_template_title']}</span></h4>
			<div id='{$editor_id}_emoticon_holder' class='emoticon_holder'></div>
			<div class='show_all_emoticons' id='{$editor_id}_showall_bar'>
				<input type='button' value='{$this->lang->words['show_all_emotes']}' id='{$editor_id}_showall_emoticons' class='input_submit emoticons' />
			</div>
		</div>
		<div id='{$editor_id}_controls' class='controls'>
			<if test="notlightweight:|:!$lightweight">
				<ul id='{$editor_id}_toolbar_1' class='toolbar' style='display: none'>
					<li class='left'>
						<span id='{$editor_id}_cmd_removeformat' class='rte_control rte_button' title='{$this->lang->words['js_tt_noformat']}'><img src='{$this->settings['img_url']}/rte_icons/remove_formatting.png' alt='{$this->lang->words['js_tt_noformat']}' /></span>
					</li>
					<!--<li class='left'>
						<span id='{$editor_id}_cmd_togglesource' class='rte_control rte_button' title='{$this->lang->words['js_tt_htmlsource']}'><img src='{$this->settings['img_url']}/rte_icons/toggle_source.png' alt='{$this->lang->words['js_tt_htmlsource']}' /></span>
					</li>-->
					<li class='left'>
						<span id='{$editor_id}_cmd_otherstyles' class='rte_control rte_menu rte_special' title='{$this->lang->words['box_other']}' style='display: none'>{$this->lang->words['box_other']}</span>
					</li>
					<li class='left'>
						<span id='{$editor_id}_cmd_fontname' class='rte_control rte_menu rte_font' title='{$this->lang->words['box_font']}'>{$this->lang->words['box_font']}</span>
					</li>
					<li class='left'>
						<span id='{$editor_id}_cmd_fontsize' class='rte_control rte_menu rte_fontsize' title='{$this->lang->words['box_size']}'>{$this->lang->words['box_size']}</span>
					</li>
					<li class='left'>
						<span id='{$editor_id}_cmd_forecolor' class='rte_control rte_palette' title='{$this->lang->words['js_tt_font_col']}'><img src='{$this->settings['img_url']}/rte_icons/font_color.png' alt='{$this->lang->words['js_tt_font_col']}' /></span>
					</li>
					<!--<li class='left'>
						<span id='{$editor_id}_cmd_backcolor' class='rte_control rte_palette' title='{$this->lang->words['js_tt_back_col']}'><img src='{$this->settings['img_url']}/rte_icons/background_color.png' alt='{$this->lang->words['js_tt_back_col']}' /></span>
					</li>-->
					<li class='right'>
						<span id='{$editor_id}_cmd_spellcheck' class='rte_control rte_button' title='{$this->lang->words['js_tt_spellcheck']}'><img src='{$this->settings['img_url']}/rte_icons/spellcheck.png' alt='{$this->lang->words['js_tt_spellcheck']}' /></span>
					</li>
					<li class='right'>
						<span id='{$editor_id}_cmd_r_small' class='rte_control rte_button' title='{$this->lang->words['js_tt_resizesmall']}'><img src='{$this->settings['img_url']}/rte_icons/resize_small.png' alt='{$this->lang->words['js_tt_resizesmall']}' /></span>
					</li>
					<li class='right'>
						<span id='{$editor_id}_cmd_r_big' class='rte_control rte_button' title='{$this->lang->words['js_tt_resizebig']}'><img src='{$this->settings['img_url']}/rte_icons/resize_big.png' alt='{$this->lang->words['js_tt_resizebig']}' /></span>
					</li>
					<li class='right sep'>
						<span id='{$editor_id}_cmd_help' class='rte_control rte_button' title='{$this->lang->words['js_tt_help']}'><a href='{parse url="app=forums&amp;module=extras&amp;section=legends&amp;do=bbcode" base="public"}' title='{$this->lang->words['js_tt_help']}'><img src='{$this->settings['img_url']}/rte_icons/help.png' alt='{$this->lang->words['js_tt_help']}' /></a></span>
					</li>
					<li class='right'>
						<span id='{$editor_id}_cmd_undo' class='rte_control rte_button' title='{$this->lang->words['js_tt_undo']}'><img src='{$this->settings['img_url']}/rte_icons/undo.png' alt='{$this->lang->words['js_tt_undo']}' /></span>
					</li>
					<li class='right'>
						<span id='{$editor_id}_cmd_redo' class='rte_control rte_button' title='{$this->lang->words['js_tt_redo']}'><img src='{$this->settings['img_url']}/rte_icons/redo.png' alt='{$this->lang->words['js_tt_redo']}' /></span>
					</li>
				</ul>
			</if>
			<ul id='{$editor_id}_toolbar_2' class='toolbar' style='display: none'>
				<li>
					<span id='{$editor_id}_cmd_bold' class='rte_control rte_button' title='{$this->lang->words['js_tt_bold']}'><img src='{$this->settings['img_url']}/rte_icons/bold.png' alt='{$this->lang->words['js_tt_bold']}' /></span>
				</li>
				<li>
					<span id='{$editor_id}_cmd_italic' class='rte_control rte_button' title='{$this->lang->words['js_tt_italic']}'><img src='{$this->settings['img_url']}/rte_icons/italic.png' alt='{$this->lang->words['js_tt_italic']}' /></span>
				</li>
				<li>
					<span id='{$editor_id}_cmd_underline' class='rte_control rte_button' title='{$this->lang->words['js_tt_underline']}'><img src='{$this->settings['img_url']}/rte_icons/underline.png' alt='{$this->lang->words['js_tt_underline']}' /></span>
				</li>
				<li class='sep'>
					<span id='{$editor_id}_cmd_strikethrough' class='rte_control rte_button' title='{$this->lang->words['js_tt_strike']}'><img src='{$this->settings['img_url']}/rte_icons/strike.png' alt='{$this->lang->words['js_tt_strike']}' /></span>
				</li>
				<if test="shellnotlightweight:|:!$lightweight">
					<li>
						<span id='{$editor_id}_cmd_subscript' class='rte_control rte_button' title='{$this->lang->words['js_tt_sub']}'><img src='{$this->settings['img_url']}/rte_icons/subscript.png' alt='{$this->lang->words['js_tt_sub']}' /></span>
					</li>
					<li class='sep'>
						<span id='{$editor_id}_cmd_superscript' class='rte_control rte_button' title='{$this->lang->words['js_tt_sup']}'><img src='{$this->settings['img_url']}/rte_icons/superscript.png' alt='{$this->lang->words['js_tt_sup']}' /></span>
					</li>
					<li>
						<span id='{$editor_id}_cmd_insertunorderedlist' class='rte_control rte_button' title='{$this->lang->words['js_tt_list']}'><img src='{$this->settings['img_url']}/rte_icons/unordered_list.png' alt='{$this->lang->words['js_tt_list']}' /></span>
					</li>
					<li class='sep'>
						<span id='{$editor_id}_cmd_insertorderedlist' class='rte_control rte_button' title='{$this->lang->words['js_tt_list']}'><img src='{$this->settings['img_url']}/rte_icons/ordered_list.png' alt='{$this->lang->words['js_tt_list']}' /></span>
					</li>
				</if>
			<if test="shellremoveemoticons:|:$this->settings['_remove_emoticons']==0">
				<li>
					<span id='{$editor_id}_cmd_emoticons' class='rte_control rte_button' title='{$this->lang->words['js_tt_emoticons']}'><img src='{$this->settings['img_url']}/rte_icons/emoticons.png' alt='{$this->lang->words['js_tt_emoticons']}' /></span>
				</li>
			</if>
				<li>
					<span id='{$editor_id}_cmd_link' class='rte_control rte_palette' title='{$this->lang->words['js_tt_link']}'><img src='{$this->settings['img_url']}/rte_icons/link.png' alt='{$this->lang->words['js_tt_link']}' /></span>
				</li>
				<li>
					<span id='{$editor_id}_cmd_image' class='rte_control rte_palette' title='{$this->lang->words['js_tt_image']}'><img src='{$this->settings['img_url']}/rte_icons/picture.png' alt='{$this->lang->words['js_tt_image']}' /></span>
				</li>
				<li>
					<span id='{$editor_id}_cmd_email' class='rte_control rte_palette' title='{$this->lang->words['js_tt_email']}'><img src='{$this->settings['img_url']}/rte_icons/email.png' alt='{$this->lang->words['js_tt_email']}' /></span>
				</li>
				<li>
					<span id='{$editor_id}_cmd_ipb_quote' class='rte_control rte_button' title='{$this->lang->words['js_tt_quote']}'><img src='{$this->settings['img_url']}/rte_icons/quote.png' alt='{$this->lang->words['js_tt_quote']}' /></span>
				</li>
				<li>
					<span id='{$editor_id}_cmd_ipb_code' class='rte_control rte_button' title='{$this->lang->words['js_tt_code']}'><img src='{$this->settings['img_url']}/rte_icons/code.png' alt='{$this->lang->words['js_tt_code']}' /></span>
				</li>
				<li>
					<span id='{$editor_id}_cmd_media' class='rte_control rte_palette' title='{$this->lang->words['js_tt_media']}'><img src='{$this->settings['img_url']}/rte_icons/media.png' alt='{$this->lang->words['js_tt_media']}' /></span>
				</li>
				<if test="shellsecondbarlightweight:|:!$lightweight">
					<li class='right'>
						<span id='{$editor_id}_cmd_justifyright' class='rte_control rte_button' title='{$this->lang->words['js_tt_right']}'><img src='{$this->settings['img_url']}/rte_icons/align_right.png' alt='{$this->lang->words['js_tt_right']}' /></span>
					</li>
					<li class='right'>
						<span id='{$editor_id}_cmd_justifycenter' class='rte_control rte_button' title='{$this->lang->words['js_tt_center']}'><img src='{$this->settings['img_url']}/rte_icons/align_center.png' alt='{$this->lang->words['js_tt_center']}' /></span>
					</li>
					<li class='right'>
						<span id='{$editor_id}_cmd_justifyleft' class='rte_control rte_button' title='{$this->lang->words['js_tt_left']}'><img src='{$this->settings['img_url']}/rte_icons/align_left.png' alt='{$this->lang->words['js_tt_left']}' /></span>
					</li>
					<li class='right sep'>
						<span id='{$editor_id}_cmd_indent' class='rte_control rte_button' title='{$this->lang->words['js_tt_indent']}'><img src='{$this->settings['img_url']}/rte_icons/indent.png' alt='{$this->lang->words['js_tt_indent']}' /></span>
					</li>
					<li class='right'>
						<span id='{$editor_id}_cmd_outdent' class='rte_control rte_button' title='{$this->lang->words['js_tt_outdent']}'><img src='{$this->settings['img_url']}/rte_icons/outdent.png' alt='{$this->lang->words['js_tt_outdent']}' /></span>
					</li>
				</if>
			</ul>
		</div>
		<div id='{$editor_id}_wrap' class='editor'>
			<textarea name="{$field}" class="input_rte" id="{$editor_id}_textarea" rows="10" cols="60" tabindex="0">{$content}</textarea>
		</div>
	</div>
	<script type='text/javascript'>
		if( $( '{$editor_id}_toolbar_1' ) ){ $( '{$editor_id}_toolbar_1' ).show(); }
		if( $( '{$editor_id}_toolbar_2' ) ){ $( '{$editor_id}_toolbar_2' ).show(); }
	</script>]]></template_content>
      <template_name>editorShell</template_name>
      <template_data><![CDATA[$editor_id, $field='Post', $content='', $no_sidebar=1, $lightweight=0]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_editors</template_group>
      <template_content><![CDATA[<!-- RTE ON: $rte_mode -->
{parse js_module="editor"}
{parse addtohead="{$this->settings['css_base_url']}style_css/{$this->registry->output->skin['_csscacheid']}/ipb_editor.css" type="importcss"}
<!--top-->
<input type='hidden' name='{$editor_id}_wysiwyg_used' id='{$editor_id}_wysiwyg_used' value='0' />
<input type='hidden' name='editor_ids[]' value='{$editor_id}' />
<if test="$show_sidebar = IPSCookie::get('emoticon_sidebar')"></if>
<div class='ips_editor <if test="$show_sidebar == '1' && $this->settings['_remove_emoticons'] == 0">with_sidebar</if>' id='editor_{$editor_id}'>
	<if test="$this->settings['_remove_emoticons'] == 0">
		<div class='sidebar row1 altrow' id='{$editor_id}_sidebar' <if test="IPSCookie::get('emoticon_sidebar') != '1'">style='display: none'</if>>
			<h4><img src='{$this->settings['img_url']}/close_popup.png' alt='' id='{$editor_id}_close_sidebar' /><span>{$this->lang->words['emoticons_template_title']}</span></h4>
			<div id='{$editor_id}_emoticon_holder' class='emoticon_holder'></div>
			<div class='show_all_emoticons' id='{$editor_id}_showall_bar'>
				<input type='button' value='{$this->lang->words['show_all_emotes']}' id='{$editor_id}_showall_emoticons' class='input_submit emoticons' />
			</div>
		</div>
	</if>
	<div id='{$editor_id}_controls' class='controls'>
		<ul id='{$editor_id}_toolbar_1' class='toolbar' style='display: none'>
			<li class='left'>
				<span id='{$editor_id}_cmd_removeformat' class='rte_control rte_button' title='{$this->lang->words['js_tt_noformat']}'><img src='{$this->settings['img_url']}/rte_icons/remove_formatting.png' alt='{$this->lang->words['js_tt_noformat']}' /></span>
			</li>
			<!--<li class='left'>
				<span id='{$editor_id}_cmd_togglesource' class='rte_control rte_button' title='{$this->lang->words['js_tt_htmlsource']}'><img src='{$this->settings['img_url']}/rte_icons/toggle_source.png' alt='{$this->lang->words['js_tt_htmlsource']}' /></span>
			</li>-->
			<li class='left'>
				<span id='{$editor_id}_cmd_otherstyles' class='rte_control rte_menu rte_special' title='{$this->lang->words['box_other_desc']}' style='display: none'>{$this->lang->words['box_other']}</span>
			</li>
			<li class='left'>
				<span id='{$editor_id}_cmd_fontname' class='rte_control rte_menu rte_font' title='{$this->lang->words['box_font_desc']}'>{$this->lang->words['box_font']}</span>
			</li>
			<li class='left'>
				<span id='{$editor_id}_cmd_fontsize' class='rte_control rte_menu rte_fontsize' title='{$this->lang->words['box_size_desc']}'>{$this->lang->words['box_size']}</span>
			</li>
			<li class='left'>
				<span id='{$editor_id}_cmd_forecolor' class='rte_control rte_palette' title='{$this->lang->words['js_tt_font_col']}'><img src='{$this->settings['img_url']}/rte_icons/font_color.png' alt='{$this->lang->words['js_tt_font_col']}' /></span>
			</li>
			<!--<li class='left'>
				<span id='{$editor_id}_cmd_backcolor' class='rte_control rte_palette' title='{$this->lang->words['js_tt_back_col']}'><img src='{$this->settings['img_url']}/rte_icons/background_color.png' alt='{$this->lang->words['js_tt_back_col']}' /></span>
			</li>-->
			
			<li class='right'>
				<span id='{$editor_id}_cmd_spellcheck' class='rte_control rte_button' title='{$this->lang->words['js_tt_spellcheck']}'><img src='{$this->settings['img_url']}/rte_icons/spellcheck.png' alt='{$this->lang->words['js_tt_spellcheck']}' /></span>
			</li>
			<li class='right'>
				<span id='{$editor_id}_cmd_r_small' class='rte_control rte_button' title='{$this->lang->words['js_tt_resizesmall']}'><img src='{$this->settings['img_url']}/rte_icons/resize_small.png' alt='{$this->lang->words['js_tt_resizesmall']}' /></span>
			</li>
			<li class='right'>
				<span id='{$editor_id}_cmd_r_big' class='rte_control rte_button' title='{$this->lang->words['js_tt_resizebig']}'><img src='{$this->settings['img_url']}/rte_icons/resize_big.png' alt='{$this->lang->words['js_tt_resizebig']}' /></span>
			</li>
			<li class='right sep'>
				<span id='{$editor_id}_cmd_help' class='rte_control rte_button' title='{$this->lang->words['js_tt_help']}'><a href='{parse url="app=forums&amp;module=extras&amp;section=legends&amp;do=bbcode" base="public"}' title='{$this->lang->words['js_tt_help']}'><img src='{$this->settings['img_url']}/rte_icons/help.png' alt='{$this->lang->words['js_tt_help']}' /></a></span>
			</li>			
			<li class='right sep'>
				<span id='{$editor_id}_cmd_undo' class='rte_control rte_button' title='{$this->lang->words['js_tt_undo']}'><img src='{$this->settings['img_url']}/rte_icons/undo.png' alt='{$this->lang->words['js_tt_undo']}' /></span>
			</li>
			<li class='right'>
				<span id='{$editor_id}_cmd_redo' class='rte_control rte_button' title='{$this->lang->words['js_tt_redo']}'><img src='{$this->settings['img_url']}/rte_icons/redo.png' alt='{$this->lang->words['js_tt_redo']}' /></span>
			</li>
		</ul>
		<ul id='{$editor_id}_toolbar_2' class='toolbar' style='display: none'>
			<li>
				<span id='{$editor_id}_cmd_bold' class='rte_control rte_button' title='{$this->lang->words['js_tt_bold']}'><img src='{$this->settings['img_url']}/rte_icons/bold.png' alt='{$this->lang->words['js_tt_bold']}' /></span>
			</li>
			<li>
				<span id='{$editor_id}_cmd_italic' class='rte_control rte_button' title='{$this->lang->words['js_tt_italic']}'><img src='{$this->settings['img_url']}/rte_icons/italic.png' alt='{$this->lang->words['js_tt_italic']}' /></span>
			</li>
			<li>
				<span id='{$editor_id}_cmd_underline' class='rte_control rte_button' title='{$this->lang->words['js_tt_underline']}'><img src='{$this->settings['img_url']}/rte_icons/underline.png' alt='{$this->lang->words['js_tt_underline']}' /></span>
			</li>
			<li class='sep'>
				<span id='{$editor_id}_cmd_strikethrough' class='rte_control rte_button' title='{$this->lang->words['js_tt_strike']}'><img src='{$this->settings['img_url']}/rte_icons/strike.png' alt='{$this->lang->words['js_tt_strike']}' /></span>
			</li>
			<li>
				<span id='{$editor_id}_cmd_subscript' class='rte_control rte_button' title='{$this->lang->words['js_tt_sub']}'><img src='{$this->settings['img_url']}/rte_icons/subscript.png' alt='{$this->lang->words['js_tt_sub']}' /></span>
			</li>
			<li class='sep'>
				<span id='{$editor_id}_cmd_superscript' class='rte_control rte_button' title='{$this->lang->words['js_tt_sup']}'><img src='{$this->settings['img_url']}/rte_icons/superscript.png' alt='{$this->lang->words['js_tt_sup']}' /></span>
			</li>
			<li>
				<span id='{$editor_id}_cmd_insertunorderedlist' class='rte_control rte_button' title='{$this->lang->words['js_tt_list']}'><img src='{$this->settings['img_url']}/rte_icons/unordered_list.png' alt='{$this->lang->words['js_tt_list']}' /></span>
			</li>
			<li class='sep'>
				<span id='{$editor_id}_cmd_insertorderedlist' class='rte_control rte_button' title='{$this->lang->words['js_tt_list']}'><img src='{$this->settings['img_url']}/rte_icons/ordered_list.png' alt='{$this->lang->words['js_tt_list']}' /></span>
			</li>			
		<if test="removeemoticons:|:$this->settings['_remove_emoticons'] == 0">
			<li>
				<span id='{$editor_id}_cmd_emoticons' class='rte_control rte_button' title='{$this->lang->words['js_tt_emoticons']}'><img src='{$this->settings['img_url']}/rte_icons/emoticons.png' alt='{$this->lang->words['js_tt_emoticons']}' /></span>
			</li>
		</if>
			<li>
				<span id='{$editor_id}_cmd_link' class='rte_control rte_palette' title='{$this->lang->words['js_tt_link']}'><img src='{$this->settings['img_url']}/rte_icons/link.png' alt='{$this->lang->words['js_tt_link']}' /></span>
			</li>
			<li>
				<span id='{$editor_id}_cmd_image' class='rte_control rte_palette' title='{$this->lang->words['js_tt_image']}'><img src='{$this->settings['img_url']}/rte_icons/picture.png' alt='{$this->lang->words['js_tt_image']}' /></span>
			</li>
			<li>
				<span id='{$editor_id}_cmd_email' class='rte_control rte_palette' title='{$this->lang->words['js_tt_email']}'><img src='{$this->settings['img_url']}/rte_icons/email.png' alt='{$this->lang->words['js_tt_email']}' /></span>
			</li>
			<li>
				<span id='{$editor_id}_cmd_ipb_quote' class='rte_control rte_button' title='{$this->lang->words['js_tt_quote']}'><img src='{$this->settings['img_url']}/rte_icons/quote.png' alt='{$this->lang->words['js_tt_quote']}' /></span>
			</li>
			<li>
				<span id='{$editor_id}_cmd_ipb_code' class='rte_control rte_button' title='{$this->lang->words['js_tt_code']}'><img src='{$this->settings['img_url']}/rte_icons/code.png' alt='{$this->lang->words['js_tt_code']}' /></span>
			</li>
			<li>
				<span id='{$editor_id}_cmd_media' class='rte_control rte_palette' title='{$this->lang->words['js_tt_media']}'><img src='{$this->settings['img_url']}/rte_icons/media.png' alt='{$this->lang->words['js_tt_media']}' /></span>
			</li>
			<li class='right'>
				<span id='{$editor_id}_cmd_justifyright' class='rte_control rte_button' title='{$this->lang->words['js_tt_right']}'><img src='{$this->settings['img_url']}/rte_icons/align_right.png' alt='{$this->lang->words['js_tt_right']}' /></span>
			</li>
			<li class='right'>
				<span id='{$editor_id}_cmd_justifycenter' class='rte_control rte_button' title='{$this->lang->words['js_tt_center']}'><img src='{$this->settings['img_url']}/rte_icons/align_center.png' alt='{$this->lang->words['js_tt_center']}' /></span>
			</li>
			<li class='right'>
				<span id='{$editor_id}_cmd_justifyleft' class='rte_control rte_button' title='{$this->lang->words['js_tt_left']}'><img src='{$this->settings['img_url']}/rte_icons/align_left.png' alt='{$this->lang->words['js_tt_left']}' /></span>
			</li>
			<li class='right sep'>
				<span id='{$editor_id}_cmd_indent' class='rte_control rte_button' title='{$this->lang->words['js_tt_indent']}'><img src='{$this->settings['img_url']}/rte_icons/indent.png' alt='{$this->lang->words['js_tt_indent']}' /></span>
			</li>
			<li class='right'>
				<span id='{$editor_id}_cmd_outdent' class='rte_control rte_button' title='{$this->lang->words['js_tt_outdent']}'><img src='{$this->settings['img_url']}/rte_icons/outdent.png' alt='{$this->lang->words['js_tt_outdent']}' /></span>
			</li>
		</ul>
	</div>
	<div id='{$editor_id}_wrap' class='editor'>
		<textarea name="{$form_field}" class="input_rte" id="{$editor_id}_textarea" rows="10" cols="60" tabindex="0">{$initial_content}</textarea>
	</div>
</div>
	
<!-- Toolpanes -->
<script type="text/javascript">
//<!#^#|CDATA|
$('{$editor_id}_toolbar_1').show();
$('{$editor_id}_toolbar_2').show();
// Rikki: Had to remove <form>... </form> because Opera would see </form> and not pass the topic icons / hidden fields properly. Tried "</" + "form>" but when it is parsed, it had the same affect
ipb.editor_values.get('templates')['link'] = new Template("<label for='#{id}_url'>{$this->lang->words['js_template_url']}</label><input type='text' class='input_text' id='#{id}_url' value='http://' tabindex='10' /><label for='#{id}_urltext'>{$this->lang->words['js_template_link']}</label><input type='text' class='input_text _select' id='#{id}_urltext' value='{$this->lang->words['js_template_default']}' tabindex='11' /><input type='submit' class='input_submit' value='{$this->lang->words['js_template_insert_link']}' tabindex='12' />");
ipb.editor_values.get('templates')['image'] = new Template("<label for='#{id}_img'>{$this->lang->words['js_template_imageurl']}</label><input type='text' class='input_text' id='#{id}_img' value='http://' tabindex='10' /><input type='submit' class='input_submit' value='{$this->lang->words['js_template_insert_img']}' tabindex='11' />");
ipb.editor_values.get('templates')['email'] = new Template("<label for='#{id}_email'>{$this->lang->words['js_template_email_url']}</label><input type='text' class='input_text' id='#{id}_email' tabindex='10' /><label for='#{id}_emailtext'>{$this->lang->words['js_template_link']}</label><input type='text' class='input_text _select' id='#{id}_emailtext' value='{$this->lang->words['js_template_email_me']}' tabindex='11' /><input type='submit' class='input_submit' value='{$this->lang->words['js_template_insert_email']}' tabindex='12' />");
ipb.editor_values.get('templates')['media'] = new Template("<label for='#{id}_media'>{$this->lang->words['js_template_media_url']}</label><input type='text' class='input_text' id='#{id}_media' value='http://' tabindex='10' /><input type='submit' class='input_submit' value='{$this->lang->words['js_template_insert_media']}' tabindex='11' />");
ipb.editor_values.get('templates')['generic'] = new Template("<div class='rte_title'>#{title}</div><strong>{$this->lang->words['js_template_example']}</strong><pre>#{example}</pre><label for='#{id}_option' class='optional'>#{option_text}</label><input type='text' class='input_text optional' id='#{id}_option' tabindex='10' /><label for='#{id}_text' class='tagcontent'>#{value_text}</label><textarea class='input_text _select tagcontent' id='#{id}_text' tabindex='11' rows='4' cols='30' style='width: 98%' /></textarea><input type='submit' class='input_submit' value='{$this->lang->words['js_template_add']}' tabindex='12' />");
ipb.editor_values.get('templates')['toolbar'] = new Template("<ul id='#{id}_toolbar_#{toolbarid}' class='toolbar' style='display: none'>#{content}</ul>");
ipb.editor_values.get('templates')['button'] = new Template("<li><span id='#{id}_cmd_custom_#{cmd}' class='rte_control rte_button specialitem' title='#{title}'><img src='{$this->settings['img_url']}/rte_icons/#{img}' alt='' /></span></li>");
ipb.editor_values.get('templates')['menu_item'] = new Template("<li id='#{id}_cmd_custom_#{cmd}' class='specialitem clickable'>#{title}</li>");
ipb.editor_values.get('templates')['togglesource'] = new Template("<fieldset id='#{id}_ts_controls' class='submit' style='text-align: left'><input type='button' class='input_submit' value='{$this->lang->words['js_template_update']}' id='#{id}_ts_update' />&nbsp;&nbsp;&nbsp; <a href='#' id='#{id}_ts_cancel' class='cancel'>{$this->lang->words['js_template_cancel_source']}</a></fieldset>");
ipb.editor_values.get('templates')['emoticons_showall'] = new Template("<input class='input_submit emoticons' type='button' id='#{id}_all_emoticons' value='{$this->lang->words['show_all_emoticons']}' />");
ipb.editor_values.get('templates')['emoticon_wrapper'] = new Template("<h4><span>{$this->lang->words['emoticons_template_title']}</span></h4><div id='#{id}_emoticon_holder' class='emoticon_holder'></div>");
// Add smilies into the mix
ipb.editor_values.set( 'show_emoticon_link', <if test="$allow_sidebar">true<else />false</if> );
ipb.editor_values.set( 'emoticons', \$H({ $smilies }) );
ipb.editor_values.set( 'bbcodes', \$H({IPSLib::fetchBbcodeAsJson()}) );
ipb.vars['emoticon_url'] = "{$this->settings['emoticons_url']}";
ipb.editors[ '{$editor_id}' ] = new ipb.editor( '{$editor_id}', USE_RTE );
//|#^#]>
</script>]]></template_content>
      <template_name>ips_editor</template_name>
      <template_data><![CDATA[$form_field="",$initial_content="",$images_path="",$rte_mode=0,$editor_id='ed-0',$smilies='',$allow_sidebar=1]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_editors</template_group>
      <template_content><![CDATA[<div class='clearfix'>
	{$pages}
</div>
<div>
	<ul class='media_results'>
		<if test="hasrows:|:count($rows)">
			<foreach loop="genericmedia:$rows as $row">
				<li class='result' onclick="return CKEDITOR.plugins.ipsmedia.insert( '{$row['insert']}' );">
					<if test="hasimage:|:$row['image']">
							<img src='{$row['image']}' alt=''<if test="haswidth:|:$row['width']"> width='{$row['width']}'</if><if test="hasheight:|:$row['height']"> height='{$row['height']}'</if> style='max-width: 80px;' class='media_image' /><br />
					</if>
					
						<strong>{parse expression="IPSText::truncate( $row['title'], 15 )"}</strong>
						<if test="hasdescription:|:$row['desc']">
							<br /><span class='desc'>{parse expression="IPSText::truncate( $row['desc'], 15 )"}</span>
						</if>
				</li>
			</foreach>
		<else />
			<li class='no_messages'>
				{$this->lang->words['no_mymedia_rows']}
			</li>
		</if>
	</ul>
</div>
<div class='clearfix'>
	{$pages}
</div>]]></template_content>
      <template_name>mediaGenericWrapper</template_name>
      <template_data>$rows, $pages, $app, $plugin</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_editors</template_group>
      <template_content><![CDATA[<h3>{$this->lang->words['mymedia_title']}</h3>
<div class='fixed_inner ipsBox'>
	<div id='mymedia_inserted' style='display: none'>{$this->lang->words['added_to_editor']}</div>
	<div class='ipsVerticalTabbed ipsLayout ipsLayout_withleft ipsLayout_smallleft clearfix'>
		<div class='ipsVerticalTabbed_tabs ipsLayout_left'>
			<ul id='mymedia_tabs'>
				<foreach loop="mediatabs:$tabs as $tab">
					<li id='{$tab['app']}_{$tab['plugin']}'><a href='#' onclick="return CKEDITOR.plugins.ipsmedia.loadTab( '{$tab['app']}', '{$tab['plugin']}' );">{$tab['title']}</a></li>
				</foreach>
			</ul>
		</div>
		<div class='ipsVerticalTabbed_content ipsLayout_content ipsBox_container' style='position: relative'>
			<div class='ipsType_small' id='mymedia_toolbar'>
				<a href='#' id='mymedia_finish' class='ipsButton no_width' onclick="CKEDITOR.plugins.ipsmedia.popup.hide(); return false;"><img src='{$this->settings['img_url']}/accept.png' /> &nbsp;{$this->lang->words['mymedia_finished']}</a>
				<input type='hidden' name='sharedmedia_search_app' id='sharedmedia_search_app' value='' />
				<input type='hidden' name='sharedmedia_search_plugin' id='sharedmedia_search_plugin' value='' />
				<input type='text' name='search_string' id='sharedmedia_search' value="{$this->lang->words['start_typing_sms']}" size='30' class='input_text inactive' />
				<input class='input_submit' type='button' id='sharedmedia_submit' value='{$this->lang->words['search_string_search']}' />
				&nbsp;&nbsp;<a href='#' id='sharedmedia_reset' class='ipsType_smaller'>{$this->lang->words['search_string_reset']}</a>
			</div>
			<div id='mymedia_content' class='ipsPad'>
				{parse template="sharedMediaDefault" group="editors" params=""}
			</div>
		</div>
	</div>
</div>
<script type='text/javascript'>
ipb.vars['sm_init_value']	= "{$this->lang->words['start_typing_sms']}";
CKEDITOR.plugins.ipsmedia.searchinit();
</script>]]></template_content>
      <template_name>sharedMedia</template_name>
      <template_data>$tabs</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_editors</template_group>
      <template_content><![CDATA[<h1 class='ipsType_pagetitle' style='text-align: center'>{$this->lang->words['mymedia_title']}</h1>
				<h2 class='ipsType_subtitle desc' style='text-align: center'>{$this->lang->words['shareable_media_warn']}</h2>]]></template_content>
      <template_name>sharedMediaDefault</template_name>
      <template_data/>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
  </templategroup>
  <templategroup group="skin_emails">
    <template>
      <template_group>skin_emails</template_group>
      <template_content><![CDATA[<h1 class='ipsType_pagetitle'>{$title}</h1>
<div class='row2 ipsPad rules'>
	{$body}
</div>
<br />]]></template_content>
      <template_name>boardRules</template_name>
      <template_data><![CDATA[$title="",$body=""]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_emails</template_group>
      <template_content><![CDATA[<form action="{parse url="app=forums&amp;module=extras&amp;section=forward" base="public"}" method="post" name='REPLIER'>
	<input type="hidden" name="do" value="01" />
	<input type="hidden" name="st" value="{$this->request['st']}" />
	<input type="hidden" name="f" value="{$this->request['f']}" />
	<input type="hidden" name="t" value="{$this->request['t']}" />
	<input type="hidden" name="url" value="{$this->request['url']}" />
	<input type="hidden" name="title" value="{$this->request['title']}" />
	<input type='hidden' name='k' value='{$this->member->form_hash}' />
	<if test="hasError:|:$msg">
		<p class='message error'>{$this->lang->words[ $msg ]}</p><br />
	<else />
		<p class='message'>{$this->lang->words['email_friend']}</p><br />
	</if>
	
	<h2 class='maintitle'>{$this->lang->words['title']}</h2>
	<div class='generic_bar'></div>
	<div class='ipsForm ipsForm_horizontal'>
		<fieldset>
			<h3 class='bar'>{$this->lang->words['email_recepient']}</h3>
			<ul class='ipsPad'>
				<if test="count($this->caches['lang_data']) == 1">
					<input type='hidden' name='lang' value='{$this->caches['lang_data'][0]['lang_id']}' />
				<else />
					<li class='ipsField clear'>
						<label for='to_lang' class='ipsField_title'>{$this->lang->words['send_lang']}</label>
						<p class='ipsField_content'>
							<select name='lang' class='input_select' id='to_lang'>
								<foreach loop="lang:$this->caches['lang_data'] as $l">
									<option value='{$l['lang_id']}' <if test="language:|:$l['lant_id'] == $this->memberData['language']">selected='selected'</if>>{$l['lang_title']}</option>
								</foreach>
							</select>
						</p>
					</li>
				</if>
				<li class='ipsField clear'>
					<label for='to_name' class='ipsField_title'>{$this->lang->words['to_name']}</label>
					<p class='ipsField_content'>
						<input type="text" id='to_name' class='input_text' name="to_name" value="{$this->request['to_name']}" size="30" maxlength="100" />
					</p>
				</li>
				<li class='ipsField clear'>
					<label for='to_email' class='ipsField_title'>{$this->lang->words['to_email']}</label>
					<p class='ipsField_content'>
						<input type="text" id='to_email' class='input_text' name="to_email" value="{$this->request['to_email']}" size="30" maxlength="100" />
					</p>
				</li>
				<li class='ipsField clear'> 
					<label for='subject' class='ipsField_title'>{$this->lang->words['subject']}</label>
					<p class='ipsField_content'>
						<input type="text" id="subject" class="input_text" name="subject" value="<if test="hasSubject:|:$this->request['subject']">{$this->request['subject']}<else />$title</if>" size="30" maxlength="120" />
					</p>
				</li> 				
				<li class='ipsField clear'>
					<label for='to_message' class='ipsField_title'>{$this->lang->words['message']}</label>
					<p class='ipsField_content'>
						<textarea id='to_message' cols="60" rows="12" wrap="soft" name="message" class="input_text"><if test="hasText:|:$this->request['message']">{$this->request['message']}<else />$text</if></textarea>
					</p>
				</li>
				<if test="hasCaptcha:|:$captchaHTML">
					<li class='ipsField clear'>
						{$captchaHTML}
					</li>
				</if>
			</ul>
		</fieldset>
		<fieldset class='submit'>
			<input class='input_submit' type="submit" value="{$this->lang->words['submit_send']}" />
		</fieldset>
	</div>
</form>]]></template_content>
      <template_name>forward_form</template_name>
      <template_data><![CDATA[$title="",$text="",$lang="", $captchaHTML='', $msg='']]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
  </templategroup>
  <templategroup group="skin_global">
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<a href='{$this->settings['board_url']}' title='{$this->lang->words['go_home']}' rel="home" accesskey='1'><img src='{parse replacement="logo_img"}' alt='{$this->lang->words['logo']}' /></a>]]></template_content>
      <template_name>defaultHeader</template_name>
      <template_data/>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<li class='fbLike'><div class="fb-like" data-href="{$url}" data-send="false" data-layout="button_count" data-width="150" data-show-faces="false" data-action="like"></div><div id="fb-root"></div></li>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/{$this->settings['fb_locale']}/all.js#xfbml=1&appId={$this->settings['fbc_appid']}";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>]]></template_content>
      <template_name>facebookShareButton</template_name>
      <template_data>$url, $title</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<form id='forum_jump' action='{parse url="" base="public"}' method='get'>
		<fieldset>
			<select name='showforum' id='showforumJump' class='input_select'>
				<optgroup label="{$this->lang->words['forum_jump']}">
					<option value='0'>{$this->lang->words['forum_home']}</option>
					{$html}
				</optgroup>
			</select>
			<if test="$this->member->session_type != 'cookie'"><input type='hidden' name='s' value='{$this->member->session_id}' /></if>
			<input type='submit' value='{$this->lang->words['jmp_go']}' class='input_submit alt' id='forum_jump_submit' />
		</fieldset>
	</form>]]></template_content>
      <template_name>forum_jump</template_name>
      <template_data>$html</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<!DOCTYPE html>
	<html lang="en" <if test="fbcenabled:|:IPSLib::fbc_enabled() === TRUE || $this->settings['fbc_appid']"> xmlns:fb="http://www.facebook.com/2008/fbml"</if>>
	<head>
		<meta charset="{$this->settings['gb_char_set']}" />
		<title>{$header_items['title']}</title>
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<link rel="shortcut icon" href='<if test="$this->registry->output->isHTTPS">{$this->settings['board_url_https']}<else />{$this->settings['board_url']}</if>/favicon.ico' />
		<link rel="image_src" href='{$this->settings['meta_imagesrc']}' />
		<script type='text/javascript'>
		//<!#^#|CDATA|
			jsDebug			= {parse expression="intval($this->settings['_jsDebug'])"}; /* Must come before JS includes */
			USE_RTE			= 1;
			DISABLE_AJAX	= parseInt({$this->settings['disable_text_ajax']}); /* Disables ajax requests where text is sent to the DB; helpful for charset issues */
			inACP			= false;
			var isRTL		= false;
			var rtlIe		= '';
			var rtlFull		= '';
		//|#^#]>
		</script>
		{parse template="includeCSS" group="global" params="$css"}
		<meta property="og:title" content="{$this->registry->output->encodeMetaTagContent( str_replace( ' - ' . $this->settings['board_name'], '', $header_items['title'] ) )}"/>
		<meta property="og:site_name" content="{$this->registry->output->encodeMetaTagContent( $this->settings['board_name'] )}"/>
		<meta property="og:image" content="{$this->settings['meta_imagesrc']}"/>
		<meta property="og:type" content="article" />
		{parse template="includeMeta" group="global" params="$metaTags"}
		<if test="isLargeTouch:|:$this->registry->output->isLargeTouchDevice()">
		<!--<meta name="viewport" content="width=device-width;">-->
		</if>
		<if test="isSmallTouch:|:$this->registry->output->isSmallTouchDevice()">
		<meta name="viewport" content="width=1024px">
		</if>
		{parse template="includeJS" group="global" params="$jsModules"}
		{parse template="includeFeeds" group="global" params="$documentHeadItems"}
		{parse template="includeRTL" group="global" params=""}		
		{parse template="includeVars" group="global" params="$header_items"}
	</head>
	<body id='ipboard_body'>
		<p id='content_jump' class='hide'><a id='top'></a><a href='#j_content' title='{$this->lang->words['jump_to_content']}' accesskey='m'>{$this->lang->words['jump_to_content']}</a></p>
		<div id='ipbwrapper'>
			<!-- ::: TOP BAR: Sign in / register or user drop down and notification alerts ::: -->
			<div id='header_bar' class='clearfix'>
				<div class='main_width'>
					<if test="accessreports:|:$this->memberData['is_mod'] OR !empty($this->memberData['access_report_center']) || ($this->memberData['g_access_cp'] AND !$this->settings['security_remove_acp_link'])">
						<ul id='admin_bar' class='ipsList_inline left'>
							<if test="showacplink:|:$this->memberData['g_access_cp'] AND !$this->settings['security_remove_acp_link']">
								<li>
									<a href="{$this->settings['_admin_link']}" title='{$this->lang->words['admin_cp']}' target="_blank">{$this->lang->words['login_to_acp']}</a>
								</li>
							</if>
							<li><a href="{parse url="app=core&amp;module=modcp" base="public"}" title='{$this->lang->words['gbl_modcp_link']}'>{$this->lang->words['gbl_modcp_link']}</a></li>
							<if test="rclink:|:$this->memberData['access_report_center'] && $this->memberData['_cache']['report_num'] > 0">
								<li class='active'>
									<a href="{parse url="app=core&amp;module=reports&amp;do=index" base="public"}" title='{$this->lang->words['view_reports']}'>{$this->memberData['_cache']['report_num']} {$this->lang->words['report_member_bar']}</a>
								</li>
							</if>
						</ul>
					</if>
					<if test="memberbox:|:$this->memberData['member_id']">
						<div id='user_navigation' class='logged_in'>
							<ul class='ipsList_inline right'>
								<if test="showInboxNotify:|:! ( ! $this->memberData['member_id'] && $this->settings['force_login'] ) && !($this->settings['board_offline'] && !$this->memberData['g_access_offline'])">
									<if test="messengerlink:|:$this->memberData['g_use_pm'] AND $this->memberData['members_disable_pm'] == 0">
										<li><a data-clicklaunch="getInboxList" id='inbox_link' href='{parse url="app=members&amp;module=messaging" base="public"}' title='{$this->lang->words['your_messenger']}'><if test="notifications:|:$this->memberData['msg_count_new']"><span class='ipsHasNotifications'>{$this->memberData['msg_count_new']}</span></if>&nbsp;</a></li>
									</if>
									<li><a data-clicklaunch="getNotificationsList" id='notify_link' href="{parse url="app=core&amp;module=usercp&amp;area=notificationlog" base="public"}" title="{$this->lang->words['notifications_at_the_top']}"><if test="notifications:|:$this->memberData['notification_cnt']"><span class='ipsHasNotifications'>{$this->memberData['notification_cnt']}</span></if>&nbsp;</a></li>
								</if>
								<li><a id='user_link' href="{parse url="showuser={$this->memberData['member_id']}" seotitle="{$this->memberData['members_seo_name']}" template="showuser" base="public"}"  title='{$this->lang->words['your_profile']}'>{$this->memberData['members_display_name']} &nbsp;<span id='user_link_dd'></span></a></li>							
								<li><a href="{parse url="app=core&amp;module=global&amp;section=login&amp;do=logout&amp;k={$this->member->form_hash}" base="public"}">{$this->lang->words['log_out']}</a></li>								
								<if test="authenticating:|:$this->memberData['member_group_id'] == $this->settings['auth_group']">
									<li>&nbsp;&nbsp;&nbsp;<a href="{parse url="app=core&amp;module=global&amp;section=register&amp;do=reval" base="public"}" title='{$this->lang->words['resend_val']}'>{$this->lang->words['resend_val']}</a></li>
								</if>
							</ul>
						</div>
						<!-- ::: USER DROP DOWN MENU ::: -->
						<div id='user_link_menucontent' class='ipsHeaderMenu clearfix boxShadow' style='display: none'>
							<a href="{parse url="showuser={$this->memberData['member_id']}" seotitle="{$this->memberData['members_seo_name']}" template="showuser" base="public"}" title='{$this->lang->words['your_profile']}' class='ipsUserPhotoLink left'>
								<img src='{$this->memberData['pp_small_photo']}' alt="{parse expression="sprintf($this->lang->words['users_photo'],$this->memberData['members_display_name'])"}" class='ipsUserPhoto ipsUserPhoto_medium photo' />
							</a>
							
							<div class='left'>
								<if test="canUpdateStatus:|:$this->registry->getClass('memberStatus')->canCreate( $this->memberData ) && !($this->settings['board_offline'] && !$this->memberData['g_access_offline'])">
									<form id='statusForm' action='{$this->settings['base_url']}app=members&amp;module=profile&amp;section=status&amp;do=new&amp;k={$this->member->form_hash}&amp;id={$this->memberData['member_id']}' method='post'>
										<input type='text' id='statusUpdateGlobal' name='content' class='input_text' style='width: 97%' /><br />
										<input type='submit' id='statusSubmitGlobal' class='ipsButton_secondary' value='{$this->lang->words['global_update_status']}' />
										<if test="update:|:(IPSLib::twitter_enabled() OR IPSLib::fbc_enabled() ) AND ( $this->memberData['fb_uid'] OR $this->memberData['twitter_id'] )">
											&nbsp;&nbsp;
											<if test="updateTwitter:|:IPSLib::twitter_enabled() AND ( $this->memberData['twitter_id'] )"><input type='checkbox' id='su_TwitterGlobal' value='1' name='su_Twitter' /> <label for='su_TwitterGlobal' class='desc ipsType_smaller'>Twitter</label></if> &nbsp; 
											<if test="updateFacebook:|:IPSLib::fbc_enabled() AND ( $this->memberData['fb_uid'] )">&nbsp;<input type='checkbox' id='su_FacebookGlobal' value='1' name='su_Facebook' /> <label for='su_FacebookGlobal' class='desc ipsType_smaller'>Facebook</label></if>
										</if>
										<br />
										<hr />
									</form>
								</if>
									<ul id='links'>
										<li id='user_profile'><a href='{parse url="showuser={$this->memberData['member_id']}" seotitle="{$this->memberData['members_seo_name']}" template="showuser" base="public"}' title='{$this->lang->words['your_profile']}'>{$this->lang->words['my_profile']}</a></li>
										<li id='user_ucp'><a href="{parse url="app=core&amp;module=usercp" base="public"}" title="{$this->lang->words['cp_tool_tip']}">{$this->lang->words['your_cp']}</a></li>
										<li id='user_content'><a href="{parse url="app=core&amp;module=search&amp;do=user_activity&amp;mid={$this->memberData['member_id']}" base="public"}" title="{$this->lang->words['my_content_link']}">{$this->lang->words['my_content_link']}</a></li>
										<if test="userLikeLink:|:count( IPSLib::getEnabledApplications('like') )">
											<li id='user_likes'><a href='{parse url="app=core&amp;module=search&amp;do=followed" base="public"}' title='{$this->lang->words['your_likes']}'>{$this->lang->words['your_likes']}</a></li>
										</if>
										<if test="nobbyNoMates:|:$this->settings['friends_enabled'] && $this->memberData['g_can_add_friends']">
											<li id='user_friends'><a href='{parse url="app=members&amp;module=profile&amp;section=friends&amp;do=list" base="public"}' title="{$this->lang->words['manage_friends']}" class='manage_friends'>{$this->lang->words['manage_friends']}</a></li>
										</if>
										<li id='user_enemies'><a href='{parse url="app=core&amp;module=usercp&amp;tab=core&amp;area=ignoredusers" base="public"}' title="{$this->lang->words['manage_ignored_users']}" class='manage_enemies'>{$this->lang->words['manage_ignored_users']}</a></li>
										<if test="bloglink:|:$this->memberData['has_blog'] AND IPSLib::appIsInstalled('blog')">
											<li id='user_blog'><a href="{parse url="app=blog&amp;module=manage" base="public" template="manageblog" seotitle="false"}">{$this->lang->words['manage_blogs']}</a></li>
										</if>
										<if test="pmLink:|:$this->memberData['members_disable_pm'] != 2">
											<li id='user_pm'><a href="{parse url="app=members&module=messaging" base="public"}">{$this->lang->words['user_dd_go_pm']}</a></li>
										</if>
										<if test="gallerylink:|:$this->memberData['has_gallery'] AND IPSLib::appIsInstalled('gallery')">
											<li id='user_gallery'><a href='{parse url="app=gallery&amp;user={$this->memberData['member_id']}" base="public" seotitle="{$this->memberData['members_seo_name']}" template="useralbum"}' title="{$this->lang->words['go_to_my_gallery']}">{$this->lang->words['my_gallery']}</a></li>
										</if>
										<if test="nexuslink:|:IPSLib::appIsInstalled('nexus')">
											<li id='user_nexus'><a href='{parse url="app=nexus&amp;module=clients" base="public"}' title="{$this->lang->words['client_area']}">{$this->lang->words['client_area']}</a></li>
										</if>
									</ul>
							</div>
						</div>
					<else />
						<div id='user_navigation' class='not_logged_in'>
							
							<ul class='ipsList_inline right'>
								<li>
									<span class='services'>
										<if test="limFacebook:|:IPSLib::loginMethod_enabled('facebook')">
											<a href='{parse url="app=core&amp;module=global&amp;section=login&amp;serviceClick=facebook" base="public"}'>{parse replacement="lim_facebook"}</a>
										</if>
										<if test="limTwitter:|:IPSLib::loginMethod_enabled('twitter')">
											<a href='{parse url="app=core&amp;module=global&amp;section=login&amp;serviceClick=twitter" base="public"}'>{parse replacement="lim_twitter"}</a>
										</if>
										<if test="limWindows:|:IPSLib::loginMethod_enabled('live')">
											<a href='{parse url="app=core&amp;module=global&amp;section=login&amp;do=process&amp;use_live=1&amp;auth_key={$this->member->form_hash}" base="public"}'>{parse replacement="lim_windows"}</a>
										</if>
									</span>
									&nbsp;&nbsp;&nbsp;&nbsp;
									<a href='{parse url="app=core&amp;module=global&amp;section=login" base="public"}' title='{$this->lang->words['sign_in']}' id='sign_in'>{$this->lang->words['sign_in']}</a>&nbsp;&nbsp;&nbsp;
								</li>
								<li>
									<a href="{parse url="app=core&amp;module=global&amp;section=register" base="public"}" title='{$this->lang->words['register']}' id='register_link'>{$this->lang->words['register']}</a>
								</li>
							</ul>
						</div>
					</if>
				</div>
			</div>
			<!-- ::: BRANDING STRIP: Logo and search box ::: -->
			<div id='branding'>
				<div class='main_width'>
					<div id='logo'>
						<if test="brandingBar:|:ipsRegistry::$applications[ $this->registry->getCurrentApplication() ]['hasCustomHeader']">
							{parse template="overwriteHeader" group="{current_app}_global" params=""}
						<else />
							{parse template="defaultHeader" group="global" params=""}
						</if>
					</div>
					<if test="canSearch:|:$this->memberData['g_use_search']">
						{parse template="quickSearch" group="global" params=""}
					</if>
				</div>
			</div>
			<!-- ::: APPLICATION TABS ::: -->
			<div id='primary_nav' class='clearfix'>
				<div class='main_width'>
					<ul class='ipsList_inline' id='community_app_menu'>
						<if test="showQuickNav:|:! ( ! $this->memberData['member_id'] && $this->settings['force_login'] ) && !($this->settings['board_offline'] && !$this->memberData['g_access_offline']) && $this->memberData['g_view_board']">
							<li class='right'>
								<a href="{parse url="app=core&amp;module=global&amp;section=navigation&amp;inapp={parse expression="IPS_APP_COMPONENT"}" base="public"}" rel="quickNavigation" accesskey='9' id='quickNavLaunch' title='{$this->lang->words['launch_quicknav']}'><span>&nbsp;</span></a>
							</li>
						</if>
						<li id='nav_explore' class='right'>
							<a href='{parse url="app=core&amp;module=search&amp;do=viewNewContent&amp;search_app=<if test="viewnewcontentapp:|:$this->registry->getCurrentApplication() != 'core' AND IPSLib::appIsSearchable( $this->registry->getCurrentApplication() )">{$this->registry->getCurrentApplication()}<else />forums</if>" base="public"}' accesskey='2'>{$this->lang->words['view_new_posts']}</a>
						</li>
						<if test="showhomeurl:|:$this->settings['home_url'] AND $this->settings['home_name']">
							<li id='nav_home' class='left'><a href='{$this->settings['home_url']}' title='{$this->lang->words['homepage_title']}' rel="home">{$this->settings['home_name']}</a></li>
						</if>
						<if test="hasCustomPrimaryNavigation:|:!empty($header_items['primary_navigation_menu'])">
							{$header_items['primary_navigation_menu']}
						<else />
							<if test="applicationsloop:|:is_array($header_items['applications']) AND count($header_items['applications'])">
								<foreach loop="applications:$header_items['applications'] as $data">
									<if test="showingapp:|:$data['app_show']">
										{parse variable="appActive" default="" oncondition="$data['app_active']" value="active"}
										<li id='nav_app_{$data['app_dir']}' class="left {parse variable="appActive"}"><a href='{parse url="{$data['app_link']}" seotitle="{$data['app_seotitle']}" template="{$data['app_template']}" base="{$data['app_base']}"}' title='{parse expression="sprintf( $this->lang->words['go_to_prefix'], IPSLib::getAppTitle($data['app_dir']) )"}'>{IPSLib::getAppTitle($data['app_dir'])}</a></li>
									</if>
								</foreach>
							</if>
						</if>
						<li id='nav_other_apps' style='display: none'>
							<a href='#' class='ipbmenu' id='more_apps'>{$this->lang->words['more_apps']} <img src='{$this->settings['img_url']}/useropts_arrow.png' /></a>
						</li>
					</ul>
				</div>
				<script type='text/javascript'>
					if( $('primary_nav') ){	ipb.global.activateMainMenu(); }
				</script>
			</div>	
			
			<!-- ::: MAIN CONTENT AREA ::: -->
			<div id='content' class='clearfix'>
				<!-- ::: NAVIGATION BREADCRUMBS ::: -->
				<if test="count( $items['navigation'] )">
					<div id='secondary_navigation' class='clearfix'>
						<ol class='breadcrumb top ipsList_inline left'>
							<php>$this->did_first = 0;</php>
							<if test="switchnavigation:|:!$this->settings['remove_forums_nav'] OR ipsRegistry::$current_application == 'forums'">
								<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
									<a href='{parse url="act=idx" seotitle="false" base="public"}' itemprop="url">
										<span itemprop="title">{$this->settings['board_name']}</span>
									</a>
								</li>
								<if test="didfirstnav:|:$this->did_first=1"></if>
							</if>
							<foreach loop="navigation:$items['navigation'] as $idx => $data">
								<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
									<if test="didfirstappnow:|:$this->did_first"><span class='nav_sep'>{parse replacement="f_nav_sep"}</span></if>
									 <if test="navigationlink:|:$data[1]"><a href='{parse url="{$data[1]}" base="$data[4]" seotitle="$data[2]" template="$data[3]"}' title='{$this->lang->words['nav_return_to']} {$data[0]}' itemprop="url"></if><span itemprop="title">{$data[0]}</span><if test="closenavigationlink:|:$data[1]"></a></if>
								</li>
								<if test="forsuredidfirstnav:|:$this->did_first=1"></if>
							</foreach>
						</ol>
					</div>
					<br />
				</if>
				<noscript>
					<div class='message error'>
						<strong>{$this->lang->words['gbl_no_js_title']}</strong>
						<p>{$this->lang->words['gbl_no_js']}</p>
					</div>
					<br />
				</noscript>
				<!-- ::: CONTENT ::: -->
				<if test="hasHeaderAd:|:$items['adHeaderCode']">
					<div class='ipsAd'>{$items['adHeaderCode']}</div>
				</if>
				<if test="mainpageContent:|:$html">{$html}</if>
				<if test="hasFooterAd:|:$items['adFooterCode']">
					<div class='ipsAd'>{$items['adFooterCode']}</div>
				</if>
				<ol class='breadcrumb bottom ipsList_inline left clearfix clear'>
					<if test="count( $items['navigation'] )">
						<php>$this->did_first_bottom = 0;</php>
						<if test="switchnavigation:|:!$this->settings['remove_forums_nav'] OR ipsRegistry::$current_application == 'forums'">
							<li><a href='{parse url="act=idx" seotitle="false" base="public"}'>{$this->settings['board_name']}</a></li>
							<if test="didfirstnav:|:$this->did_first_bottom=1"></if>
						</if>
						<foreach loop="navigation:$items['navigation'] as $idx => $data">
							<li><if test="didfirstappnow:|:$this->did_first_bottom"><span class='nav_sep'>{parse replacement="f_nav_sep"}</span></if> <if test="navigationlink:|:$data[1]"><a href='{parse url="{$data[1]}" base="$data[4]" seotitle="$data[2]" template="$data[3]"}' title='{$this->lang->words['nav_return_to']} {$data[0]}'></if>{$data[0]}<if test="closenavigationlink:|:$data[1]"></a></if></li>
							<if test="forsuredidfirstnav:|:$this->did_first_bottom=1"></if>
						</foreach>
					<else />
						<li>&nbsp;</li>
					</if>
					<if test="privvy:|:$this->settings['priv_title']">
					<li class='right ipsType_smaller'>
						<a rel="nofollow" href='{parse url="app=core&amp;module=global&amp;section=privacy" template="privacy" seotitle="false" base="public"}'>{$this->settings['priv_title']}</a>
					</li>
					</if>
					<if test="siteruleslink:|:$this->settings['gl_show'] and $this->settings['gl_title']">
						<li class='right ipsType_smaller'>
							<a href='<if test="ruleslink:|:$this->settings['gl_link']">{$this->settings['gl_link']}<else />{parse url="app=forums&amp;module=extras&amp;section=boardrules" base="public"}</if>'><if test="siterulestitle:|:$this->settings['gl_title']">{$this->settings['gl_title']}<else />{$this->lang->words['board_rules']}</if></a><if test="privvyMiddot:|:$this->settings['priv_title']"> &middot; </if>
						</li>
					</if>	
				</ol>
			</div>
			<!-- ::: FOOTER (Change skin, language, mark as read, etc) ::: -->
			<div id='footer_utilities' class='main_width clearfix clear'>
				<a rel="nofollow" href='#top' id='backtotop' title='{$this->lang->words['go_to_top']}'><img src='{$this->settings['img_url']}/top.png' alt='' /></a>
				<ul class='ipsList_inline left'>
					<li>
						<img src='{$this->settings['img_url']}/feed.png' alt='{$this->lang->words['rss_feed']}' id='rss_feed' class='clickable' />
					</li>
					<if test="skinchangerOuter:|: ! $this->member->is_not_human">
						<if test="uagentlocked:|:$this->memberData['userAgentLocked'] AND ! $this->memberData['userAgentBypass']">
							<li id='useragent_msg'>
								{$this->lang->words['skin_browser_set']} <a href='#' data-clicklaunch='changeSkin' data-skinid='unlockUserAgent'>{$this->lang->words['override_browser_theme']}</a>
							</li>
						<else />
						<if test="isTouchDevice:|:$this->registry->output->isTouchDevice()">
							<li>
								<a href='#' data-clicklaunch='changeSkin' data-skinid='setAsMobile'>{$this->lang->words['set_mobile_theme']}</a>
							</li>
						</if>
							<if test="skinchangerInner:|:count($footer_items['skin_chooser']) > 1">
								<li>
									<a rel="nofollow" id='new_skin' href='#'>{$this->lang->words['change_theme']}</a>			
									<ul id='new_skin_menucontent' class='ipbmenu_content with_checks' style='display: none'>
										<foreach loop="$footer_items['skin_chooser'] as $skin">
											<li <if test="$skin['selected']">class='selected'</if>>
												<a href='#' data-clicklaunch='changeSkin' data-skinid='{$skin['id']}'>{$skin['title']}</a>
											</li>
										</foreach>
									</ul>
								</li>
							</if>
						</if>				
					</if>
					<if test="langchooser:|: ! $this->member->is_not_human && count( $footer_items['lang_chooser']['options'] ) > 1">
						<li>
							<a rel="nofollow" href='#' id='new_language'>{$footer_items['lang_chooser']['default']}</a>							
							<ul id='new_language_menucontent' class='ipbmenu_content with_checks' style='display: none'>
								<foreach loop="$footer_items['lang_chooser']['options'] as $lang">
									<li <if test="$lang['selected']">class='selected'</if>>
										<a href="{parse url="{$this->settings['query_string_formatted']}&amp;k={$this->member->form_hash}&amp;setlanguage=1&amp;langurlbits={$this->settings['query_string_safe']}&amp;cal_id={$this->request['cal_id']}&amp;langid={$lang['id']}" base="public"}">{$lang['title']}</a>
									</li>
								</foreach>
							</ul>
						</li>
					</if>
					<if test="markRead:|: ! $this->member->is_not_human">
						<li>
							<a rel="nofollow" id='mark_all_read' href="{parse url="app=forums&amp;module=forums&amp;section=markasread&amp;marktype=all&amp;k={$this->member->form_hash}" base="public"}" title='{$this->lang->words['mark_all_as_read']}'>{$this->lang->words['mark_board_as_read']}</a>
							<ul id='mark_all_read_menucontent' class='ipbmenu_content' style='display: none'>
								<foreach loop="$footer_items['mark_read_apps'] as $app => $appData">
									<li>
										<if test="hideRcForPerms:|:$this->memberData['showReportCenter'] OR $app != 'core'">
											<a href="{parse url="app=forums&amp;module=forums&amp;section=markasread&amp;marktype=app&amp;markApp={$app}&amp;k={$this->member->form_hash}" base="public"}"><if test="isCoreRC:|:$app=='core'">{$this->lang->words['markread_rc_link']}<else />{IPSLib::getAppTitle($app)}</if></a>
										</if>
									</li>
								</foreach>
								<li>
									<a href="{parse url="app=forums&amp;module=forums&amp;section=markasread&amp;marktype=all&amp;k={$this->member->form_hash}" base="public"}"><strong>{$this->lang->words['mark_all_as_read']}</strong></a>
								</li>
							</ul>
						</li>
					</if>
					<li>
						<a href="{parse url="app=core&amp;module=help" base="public"}" title='{$this->lang->words['view_help']}' rel="help" accesskey='6'>{$this->lang->words['sj_help']}</a>
					</li>				
				</ul>
				{$footer_items['copyright']}
			</div>
			<if test="showdebuglevel:|:$this->memberData['member_id'] and $this->settings['debug_level']">
				<div id='ipsDebug_footer'>
					<strong>{$this->lang->words['time_now']}</strong> {$footer_items['time']}
					<if test="lastvisit:|:$this->memberData['member_id'] AND $this->memberData['last_visit']"><strong>{$this->lang->words['you_last_visit']}</strong> {parse date="$this->memberData['last_visit']" format="short"}</if>
					<strong>{$this->lang->words['stat_exec']}</strong> {$stats['ex_time']} <if test="isfloat:|:is_float($stats['ex_time'])">{$this->lang->words['stats_sec']}</if>
					<strong>{$this->lang->words['stat_load']}</strong> {$stats['server_load']}
					<strong>{$this->lang->words['stat_queries']}</strong> {$stats['queries']} <if test="sqldebuglink:|:IPS_SQL_DEBUG_MODE"><a href='{parse url="{$this->settings['query_string_safe']}&amp;debug=1" base="public"}'></if>{$this->lang->words['stats_queries']}<if test="closesqldebuglink:|:IPS_SQL_DEBUG_MODE"></a></if>
					<strong>{$this->lang->words['stat_gzip']}</strong> {$stats['gzip_status']}
				</div>
			</if>
			{$stats['task']}
			<if test="includeLightboxDoReal:|:$this->settings['do_include_lightbox_real']">
				{parse template="include_lightbox_real" group="global" params=""}
			<else />
				<script type="text/javascript">
					ipb.global.lightBoxIsOff();
				</script>
			</if>
			<if test="!$this->memberData['member_id']">
				{parse template="inlineLogin" group="global" params=""}
			</if>
		</div>
		
		<!--DEBUG_STATS-->
	</body>
</html>]]></template_content>
      <template_name>globalTemplate</template_name>
      <template_data>$html, $documentHeadItems, $css, $jsModules, $metaTags, array $header_items, $items=array(), $footer_items=array(), $stats=array()</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<script type="text/javascript" src="https://apis.google.com/js/plusone.js">
	<if test="!empty( $params ) and isset( $params['lang'] )">
		{lang: '{$params['lang']}'}
	</if>
</script>
<li><div class='googlePlusOne'><g:plusone count="false" size="small"></g:plusone></div></li>]]></template_content>
      <template_name>googlePlusOneButton</template_name>
      <template_data>$url, $title, $params</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[{parse addtohead="{$this->settings['css_base_url']}style_css/prettify.css" type="importcss"}
	<script type="text/javascript" src="{$this->settings['js_base_url']}js/3rd_party/prettify/prettify.js"></script>
	<script type='text/javascript' src='{$this->settings['js_base_url']}js/3rd_party/prettify/lang-sql.js'></script>
	<!-- By default we load generic code, php, css, sql and xml/html; load others here if desired -->
	<script type="text/javascript">
	//<!#^#|CDATA|
		Event.observe( window, 'load', function(e){ prettyPrint() });
	//|#^#]>
	</script>]]></template_content>
      <template_name>include_highlighter</template_name>
      <template_data>$load_when_needed=0</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<php>$this->settings['do_include_lightbox_real'] = 1;</php>]]></template_content>
      <template_name>include_lightbox</template_name>
      <template_data/>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<script type='text/javascript' src='{$this->settings['public_dir']}js/3rd_party/lightbox.js'></script>
<script type='text/javascript'>
//<!#^#|CDATA|
	// Lightbox Configuration
	LightboxOptions = Object.extend({
	    fileLoadingImage:        '{$this->settings['img_url']}/lightbox/loading.gif',     
	    fileBottomNavCloseImage: '{$this->settings['img_url']}/lightbox/closelabel.gif',
	    overlayOpacity: 0.8,   // controls transparency of shadow overlay
	    animate: true,         // toggles resizing animations
	    resizeSpeed: 7,        // controls the speed of the image resizing animations (1=slowest and 10=fastest)
	    borderSize: 10,         //if you adjust the padding in the CSS, you will need to update this variable
		// When grouping images this is used to write: Image # of #.
		// Change it for non-english localization
		labelImage: "{$this->lang->words['lightbox_label']}",
		labelOf: "{$this->lang->words['lightbox_of']}"
	}, window.LightboxOptions || {});
/* Watch for a lightbox image and set up our downloadbutton watcher */
document.observe('click', (function(event){
    var target = event.findElement('a[rel*="lightbox"]') || event.findElement('area[rel*="lightbox"]') || event.findElement('span[rel*="lightbox"]');
    if (target) {
        event.stop();
        gbl_addDownloadButton();
    }
}).bind(this));
var _to    = '';
var _last  = '';
function gbl_addDownloadButton()
{
	if ( typeof( ipsLightbox.lightboxImage ) != 'undefined' && ipsLightbox.lightboxImage.src )
	{
		if ( _last != ipsLightbox.lightboxImage.src )
		{
			if ( ! $('gbl_d') )
			{
				$('bottomNav').insert( { top: "<div id='gbl_d' style='text-align:right;padding-bottom:4px;'></div>" } );
			}
			
			$('gbl_d').update( "<a href='"+ ipsLightbox.lightboxImage.src + "' target='_blank'><img src='{$this->settings['img_url']}/lightbox/download-icon.png' /></a>" );
			
			_last = ipsLightbox.lightboxImage.src;
		}
	}
	
	/* Check for init and then keep checking for new image */
	_to = setTimeout( "gbl_addDownloadButton()", 1000 );
}
//|#^#]>
</script>]]></template_content>
      <template_name>include_lightbox_real</template_name>
      <template_data/>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<if test="hasimportcss:|:is_array( $css['import'] )">
	<if test="minifycss:|:$this->settings['use_minify']"><php>$this->minify = array();</php></if>
	<foreach loop="cssImport:$css['import'] as $data">
		<php>
			$importCss = true;
			if( stripos( $data['content'], $this->settings['css_base_url'] ) === 0 && $this->settings['use_minify'] AND ( ! $data['attributes'] OR stripos( $data['attributes'], 'screen' ) !== false ) )
			{
				$importCss		= false;
				$this->minify[]	= "{$data['content']}";
			}
		</php>
		<if test="donotminifycss:|:$importCss">
			<link rel="stylesheet" type="text/css" {$data['attributes']} href="{$data['content']}?ipbv={$this->registry->output->antiCacheHash}" />
		</if>
	</foreach>
	<if test="csstominify:|:$this->settings['use_minify'] AND count($this->minify)">
		<link rel="stylesheet" type="text/css" media='screen,print' href="{$this->settings['css_base_url']}min/index.php?ipbv={$this->registry->output->antiCacheHash}&amp;f={parse expression="str_replace( $this->settings['css_base_url'], PUBLIC_DIRECTORY . '/', implode( ',', $this->minify ) )"}" />
	</if>
</if>
<if test="inlinecss:|:is_array( $css['inline'] ) AND count( $css['inline'] )">
	<foreach loop="cssInline:$css['inline'] as $data">
	<style type="text/css" {$data['attributes']}>
		/* Inline CSS */
		{$data['content']}
	</style>
	</foreach>
</if>
<!--[if lte IE 7]>
	<link rel="stylesheet" type="text/css" title='Main' media="screen" href="{$this->settings['css_base_url']}style_css/{$this->registry->output->skin['_csscacheid']}/ipb_ie.css" />
<![endif]-->
<!--[if lte IE 8]>
	<style type='text/css'>
		.ipb_table { table-layout: fixed; }
		.ipsLayout_content { width: 99.5%; }
	</style>
<![endif]-->
<if test="$this->settings['resize_img_force']">
	<!-- Forces resized images to an admin-defined size -->
	<style type='text/css'>
		img.bbc_img {
			max-width: {$this->settings['resize_img_force']}px !important;
			max-height: {$this->settings['resize_img_force']}px !important;
		}
	</style>
<else />
	<style type='text/css'>
		img.bbc_img { max-width: 100% !important; }
	</style>
</if>]]></template_content>
      <template_name>includeCSS</template_name>
      <template_data>$css</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<if test="hasdocheaditems:|:count($documentHeadItems)">
	<foreach loop="headitemsType:$documentHeadItems as $type => $idx">
		<foreach loop="documentHeadItems:$documentHeadItems[ $type ] as $idx => $data">
			<if test="dhjavascript:|:$type == 'javascript'">
				<script type="text/javascript" src="{$data}" charset="<% CHARSET %>"></script>
			</if>
			<if test="dhcss:|:$type == 'rss'">
				<link rel="alternate" type="application/rss+xml" title="{$data['title']}" href="{$data['url']}" />
			</if>
			<if test="dhrsd:|:$type == 'rsd'">
				<link rel="EditURI" type="application/rsd+xml" title="{$data['title']}" href="{$data['url']}" />
			</if>
			<if test="dhraw:|:$type == 'raw'">
				{$data}
			</if>
		</foreach>
	</foreach>
</if>]]></template_content>
      <template_name>includeFeeds</template_name>
      <template_data>$documentHeadItems</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<if test="minifyjs:|:$this->settings['use_minify']">
	<if test="remoteloadjs:|:$this->settings['remote_load_js']">
		<script type='text/javascript' src='<if test="usehttpsprototype:|:$this->registry->output->isHTTPS">https<else />http</if>://ajax.googleapis.com/ajax/libs/prototype/1.7/prototype.js'></script>
		<script type='text/javascript' src='<if test="usehttpsscriptaculous:|:$this->registry->output->isHTTPS">https<else />http</if>://ajax.googleapis.com/ajax/libs/scriptaculous/1.8/scriptaculous.js?load=effects,dragdrop,builder'></script>
	<else />
		<script type='text/javascript' src='{$this->settings['js_base_url']}min/index.php?ipbv={$this->registry->output->antiCacheHash}&amp;g=js'></script>
	</if>
	<script type='text/javascript' src='{$this->settings['js_base_url']}min/index.php?ipbv={$this->registry->output->antiCacheHash}&amp;charset={$this->settings['gb_char_set']}&amp;f={parse expression="PUBLIC_DIRECTORY"}/js/ipb.js,cache/lang_cache/{$this->lang->lang_id}/ipb.lang.js,{parse expression="PUBLIC_DIRECTORY"}/js/ips.hovercard.js,{parse expression="PUBLIC_DIRECTORY"}/js/ips.quickpm.js<if test="hasjsmodules:|:count($jsModules)">,{parse expression="PUBLIC_DIRECTORY"}/js/ips.{parse expression="implode('.js,' . PUBLIC_DIRECTORY . '/js/ips.', array_unique( array_keys( $jsModules ) ) )"}.js</if>' charset='{$this->settings['gb_char_set']}'></script>
<else />
	<if test="nominifyremoteloadjs:|:$this->settings['remote_load_js']">
		<script type='text/javascript' src='<if test="nmusehttpsp:|:$this->registry->output->isHTTPS">https<else />http</if>://ajax.googleapis.com/ajax/libs/prototype/1.7/prototype.js'></script>
	<else />
		<script type='text/javascript' src='{$this->settings['js_base_url']}js/3rd_party/prototype.js'></script>
	</if>
	<script type='text/javascript' src='{$this->settings['js_base_url']}js/ipb.js?ipbv={$this->registry->output->antiCacheHash}&amp;load=quickpm,hovercard,{parse expression="implode(',', array_unique( array_keys( $jsModules ) ) )"}'></script>
	<if test="nominifyremoteloadjs2:|:$this->settings['remote_load_js']">
		<script type='text/javascript' src='<if test="nmusehttpss:|:$this->registry->output->isHTTPS">https<else />http</if>://ajax.googleapis.com/ajax/libs/scriptaculous/1.8/scriptaculous.js?load=effects,dragdrop,builder'></script>
	<else />
		<script type='text/javascript' src='{$this->settings['js_base_url']}js/3rd_party/scriptaculous/scriptaculous-cache.js'></script>
	</if>
	<script type="text/javascript" src='{$this->settings['cache_dir']}lang_cache/{$this->lang->lang_id}/ipb.lang.js' charset='{$this->settings['gb_char_set']}'></script>
</if>
{parse template="liveEditJs" group="global"}
<if test="isLargeTouch:|:$this->registry->output->isLargeTouchDevice()">
<script type="text/javascript" src='{$this->settings['js_base_url']}js/3rd_party/iscroll/iscroll.js'></script>
</if>]]></template_content>
      <template_name>includeJS</template_name>
      <template_data>$jsModules</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<if test="metatags:|:is_array( $metaTags ) AND count( $metaTags )">
	<foreach loop="metaTags:$metaTags as $tag => $content">
		<if test="ogCaveman:|:stristr( $tag, 'og:' )">
			<meta property="{$tag}" content="{$content}" />
		<else />
			<meta name="{$tag}" content="{$content}" />
		</if>
		<if test="hasIdentifier:|:$tag == 'identifier-url'">
			<meta property="og:url" content="{$content}" />
		</if>
		<if test="hasDescription:|:$tag == 'description'">
			<meta property="og:description" content="{$content}" />
		</if>
	</foreach>
</if>]]></template_content>
      <template_name>includeMeta</template_name>
      <template_data>$metaTags</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<php>$this->isRtlLang	= false;</php>
<foreach loop="langData:$this->cache->getCache('lang_data') as $data">
	<if test="checkrtl:|:intval($this->member->language_id) == intval($data['lang_id'])">
		<if test="isrtl:|:$data['lang_isrtl']">
			<if test="$this->isRtlLang = true"></if>
		</if>
	</if>
</foreach>
<if test="importrtlcss:|:$this->isRtlLang AND is_file( DOC_IPS_ROOT_PATH . '/' . PUBLIC_DIRECTORY . '/style_css/' . $this->registry->output->skin['_csscacheid'] . '/ipb_rtl.css' )">
	<link rel="stylesheet" type="text/css" media="screen" href="{$this->settings['public_dir']}style_css/{$this->registry->output->skin['_csscacheid']}/ipb_rtl.css" />
	<script type='text/javascript'>
		var rtlFull	= "{$this->settings['public_dir']}style_css/{$this->registry->output->skin['_csscacheid']}/ipb_rtl.css";
		var isRTL	= true;
	</script>
<else />
	<if test="importrtlcss:|:$this->isRtlLang AND is_file( DOC_IPS_ROOT_PATH . '/' . PUBLIC_DIRECTORY . '/style_css/ipb_rtl.css' )">
		<link rel="stylesheet" type="text/css" media="screen" href="{$this->settings['public_dir']}style_css/ipb_rtl.css" />
		<script type='text/javascript'>
			var rtlFull	= "{$this->settings['public_dir']}style_css/ipb_rtl.css";
			var isRTL	= true;
		</script>
	</if>
</if>
<if test="importrtlcss:|:$this->isRtlLang AND is_file( DOC_IPS_ROOT_PATH . '/' . PUBLIC_DIRECTORY . '/style_css/' . $this->registry->output->skin['_csscacheid'] . '/ipb_rtl_ie.css' )">
	<!--[if lte IE 7]>
	<link rel="stylesheet" type="text/css" media="screen" href="{$this->settings['public_dir']}style_css/{$this->registry->output->skin['_csscacheid']}/ipb_rtl_ie.css" />
	<![endif]-->
	<script type='text/javascript'>
		var rtlIe	= "{$this->settings['public_dir']}style_css/{$this->registry->output->skin['_csscacheid']}/ipb_rtl_ie.css";
	</script>
<else />
	<if test="importrtlcss:|:$this->isRtlLang AND is_file( DOC_IPS_ROOT_PATH . '/' . PUBLIC_DIRECTORY . '/style_css/ipb_rtl_ie.css' )">
		<!--[if lte IE 7]>
		<link rel="stylesheet" type="text/css" media="screen" href="{$this->settings['public_dir']}style_css/ipb_rtl_ie.css" />
		<![endif]-->
		<script type='text/javascript'>
			var rtlIe	= "{$this->settings['public_dir']}style_css/ipb_rtl_ie.css";
		</script>
	</if>
</if>
<if test="hasMemberTopicMax:|:$this->settings['member_topic_avatar_max']">
	<!-- Forces topic photo to show without thumb -->
	<style type='text/css'>
		.ipsUserPhoto_variable { max-width: {parse expression="intval($this->settings['member_topic_avatar_max'])"}px !important; }
		<if test="RTLMargin:|:$this->isRtlLang">
			.post_body { margin-right: {parse expression="((intval($this->settings['member_topic_avatar_max']  + 25 ) < 185 ) ? 185 : intval($this->settings['member_topic_avatar_max']  + 25 ) )"}px !important; }
		<else />
			.post_body { margin-left: {parse expression="((intval($this->settings['member_topic_avatar_max']  + 25 ) < 185 ) ? 185 : intval($this->settings['member_topic_avatar_max']  + 25 ) )"}px !important; }
		</if>
	</style>
</if>]]></template_content>
      <template_name>includeRTL</template_name>
      <template_data/>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<script type='text/javascript'>
	//<!#^#|CDATA|
		/* ---- URLs ---- */
		ipb.vars['base_url'] 			= '<if test="$this->registry->output->isHTTPS">{parse expression="str_replace( 'http://', 'https://', "{$this->settings['js_base']}" )"}<else />{$this->settings['js_base']}</if>';
		ipb.vars['board_url']			= '{$this->settings['board_url']}';
		ipb.vars['img_url'] 			= "{$this->settings['img_url']}";
		ipb.vars['loading_img'] 		= '{$this->settings['img_url']}/loading.gif';
		ipb.vars['active_app']			= '{$this->registry->getCurrentApplication()}';
		ipb.vars['upload_url']			= '{$this->settings['upload_url']}';
		/* ---- Member ---- */
		ipb.vars['member_id']			= parseInt( {$this->memberData['member_id']} );
		ipb.vars['is_supmod']			= parseInt( {parse expression="intval($this->memberData['g_is_supmod'])"} );
		ipb.vars['is_admin']			= parseInt( {$this->memberData['g_access_cp']} );
		ipb.vars['secure_hash'] 		= '{$this->member->form_hash}';
		ipb.vars['session_id']			= '{$this->member->session_id}';
		ipb.vars['twitter_id']			= {parse expression="intval($this->memberData['twitter_id'])"};
		ipb.vars['fb_uid']				= <if test="hasFBCHash:|:$this->memberData['fb_token']">{parse expression="intval($this->memberData['fb_uid'])"}<else />0</if>;
		ipb.vars['auto_dst']			= parseInt( {$this->memberData['members_auto_dst']} );
		ipb.vars['dst_in_use']			= parseInt( {$this->memberData['dst_in_use']} );
		ipb.vars['is_touch']			= <if test="istl:|:$this->registry->output->isLargeTouchDevice()">'large';<else /><if test="istm:|:$this->registry->output->isSmallTouchDevice()">'small';<else />false;</if></if>
		ipb.vars['member_group']		= {parse expression="json_encode( array( 'g_mem_info' => $this->memberData['g_mem_info'] ) )"}
		/* ---- cookies ----- */
		ipb.vars['cookie_id'] 			= '{$this->settings['cookie_id']}';
		ipb.vars['cookie_domain'] 		= '{$this->settings['cookie_domain']}';
		ipb.vars['cookie_path']			= '{$this->settings['cookie_path']}';
		/* ---- Rate imgs ---- */
		ipb.vars['rate_img_on']			= '{$this->settings['img_url']}/star.png';
		ipb.vars['rate_img_off']		= '{$this->settings['img_url']}/star_off.png';
		ipb.vars['rate_img_rated']		= '{$this->settings['img_url']}/star_rated.png';
		/* ---- Uploads ---- */
		ipb.vars['swfupload_swf']		= '{parse url="js/3rd_party/swfupload/swfupload.swf" base="public_dir"}';
		ipb.vars['swfupload_enabled']	= <if test="canswfupload:|:$this->settings['uploadFormType']">true<else />false</if>;
		ipb.vars['use_swf_upload']		= ( '{$this->memberData['member_uploader']}' == 'flash' ) ? true : false;
		ipb.vars['swfupload_debug']		= false;
		/* ---- other ---- */
		ipb.vars['highlight_color']     = "#ade57a";
		ipb.vars['charset']				= "{$this->settings['gb_char_set']}";
		ipb.vars['seo_enabled']			= {parse expression="intval($this->settings['use_friendly_urls'])"};
		<if test="usefurl:|:$this->settings['use_friendly_urls']">
		ipb.vars['seo_params']			= {parse expression="json_encode($this->registry->getClass('output')->seoTemplates['__data__'])"};
		</if>
		/* Templates/Language */
		ipb.templates['inlineMsg']		= "{$header_items['inlineMsg']}";
		ipb.templates['ajax_loading'] 	= "<div id='ajax_loading'><img src='{$this->settings['img_url']}/ajax_loading.gif' alt='" + ipb.lang['loading'] + "' /></div>";
		ipb.templates['close_popup']	= "<img src='{$this->settings['img_url']}/close_popup.png' alt='x' />";
		ipb.templates['rss_shell']		= new Template("<ul id='rss_menu' class='ipbmenu_content'>#{items}</ul>");
		ipb.templates['rss_item']		= new Template("<li><a href='#{url}' title='#{title}'>#{title}</a></li>");
		<if test="$this->memberData['member_id']">
			ipb.templates['m_add_friend']	= new Template("<a href='{parse url="app=members&amp;module=profile&amp;section=friends&amp;do=add&amp;member_id=#{id}" base="public"}' title='{$this->lang->words['add_friend']}' class='ipsButton_secondary'>{parse replacement="add_friend"}</a>");
			ipb.templates['m_rem_friend']	= new Template("<a href='{parse url="app=members&amp;module=profile&amp;section=friends&amp;do=remove&amp;member_id=#{id}" base="public"}' title='{$this->lang->words['remove_friend']}' class='ipsButton_secondary'>{parse replacement="remove_friend"}</a>");
		</if>
		ipb.templates['autocomplete_wrap'] = new Template("<ul id='#{id}' class='ipb_autocomplete' style='width: 250px;'></ul>");
		ipb.templates['autocomplete_item'] = new Template("<li id='#{id}' data-url='#{url}'><img src='#{img}' alt='' class='ipsUserPhoto ipsUserPhoto_mini' />&nbsp;&nbsp;#{itemvalue}</li>");
		ipb.templates['page_jump']		= new Template("<div id='#{id}_wrap' class='ipbmenu_content'><h3 class='bar'>{$this->lang->words['global_page_jump']}</h3><p class='ipsPad'><input type='text' class='input_text' id='#{id}_input' size='8' /> <input type='submit' value='{$this->lang->words['jmp_go']}' class='input_submit add_folder' id='#{id}_submit' /></p></div>");
		ipb.templates['global_notify'] 	= new Template("<div class='popupWrapper'><div class='popupInner'><div class='ipsPad'>#{message} #{close}</div></div></div>");
		<if test="hasNotification:|:! empty( $header_items['notifications'] )">
			ipb.vars['notificationData']          = {$header_items['notifications']};
			ipb.templates['notificationTemplate'] = new Template( "<div><h3>#{notify_title}</h3><div class='fixed_inner ipsPad row1'><h4 class='ipsType_sectiontitle'>#{member_PhotoTag} #{title} <span class='ipsType_smaller'>{$this->lang->words['by_ucfirst']} #{member_members_display_name} - #{date_parsed}</span><p class='ipsType_smaller right ipsPad_half'><a href='#{url}'>{parse expression="sprintf( $this->lang->words['global_pm_read_short'], '#{type}' )"}</a></p></h4><p class='ipsPad_half'>#{content}</p></div></div>");
		</if>
		
		ipb.templates['header_menu'] 	= new Template("<div id='#{id}' class='ipsHeaderMenu boxShadow'></div>");
		<if test="autodst:|:$this->memberData['members_auto_dst'] == 1 AND $this->settings['time_dst_auto_correction']">
			ipb.global.checkDST();
		</if>
		Loader.boot();
	//|#^#]>
	</script>]]></template_content>
      <template_name>includeVars</template_name>
      <template_data>$header_items=array()</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<php>
	$uses_name		= false;
	$uses_email		= false;
	$_redirect		= '';
	$login_methods  = array();
	
	foreach( $this->cache->getCache('login_methods') as $method )
	{
		if( $method['login_user_id'] == 'username' or $method['login_user_id'] == 'either' )
		{
			$uses_name	= true;
		}
		
		if( $method['login_user_id'] == 'email' or $method['login_user_id'] == 'either' )
		{
			$uses_email	= true;
		}
		
		if( $method['login_login_url'] )
		{
			$_redirect	= $method['login_login_url'];
		}
		
		$login_methods[] = $method['login_folder_name'];
	}
	if( $uses_name AND $uses_email )
	{
		$this->lang->words['enter_name']	= $this->lang->words['enter_name_and_email'];
	}
	else if( $uses_email )
	{
		$this->lang->words['enter_name']	= $this->lang->words['enter_useremail'];
	}
	else
	{
		$this->lang->words['enter_name']	= $this->lang->words['enter_username'];
	}
</php>
<if test="!$_redirect">
	<div id='inline_login_form' style='display: none'>
		<form action="{parse url="app=core&amp;module=global&amp;section=login&amp;do=process" base="public"}" method="post" id='login'>
			<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
			<input type="hidden" name="referer" value="{$this->settings['this_url']}" />
			<h3>{$this->lang->words['log_in']}</h3>
			<if test="registerServices:|:IPSLib::loginMethod_enabled('facebook') || IPSLib::loginMethod_enabled('twitter') || IPSLib::loginMethod_enabled('live')">
				<div class='ipsBox_notice'>
					<ul class='ipsList_inline'>
						<if test="facebook:|:IPSLib::loginMethod_enabled('facebook')">
							<li><a href="{parse url="app=core&amp;module=global&amp;section=login&amp;serviceClick=facebook" base="public"}" class='ipsButton_secondary'><img src="{$this->settings['img_url']}/loginmethods/facebook.png" alt="Facebook" /> &nbsp; {$this->lang->words['use_facebook']}</a></li>
						</if>
						<if test="twitterBox:|:IPSLib::loginMethod_enabled('twitter')">
							<li><a href="{parse url="app=core&amp;module=global&amp;section=login&amp;serviceClick=twitter" base="public"}" class='ipsButton_secondary'><img src="{$this->settings['img_url']}/loginmethods/twitter.png" alt="Twitter" /> &nbsp; {$this->lang->words['use_twitter']}</a></li>
						</if>
						<if test="haswindowslive:|:IPSLib::loginMethod_enabled('live')">
							<li><a href='{parse url="app=core&amp;module=global&amp;section=login&amp;do=process&amp;use_live=1&amp;auth_key={$this->member->form_hash}" base="public"}' class='ipsButton_secondary'><img src="{$this->settings['img_url']}/loginmethods/windows.png" alt="Windows Live" /> &nbsp; {$this->lang->words['use_live']}</a></li>
						</if>
					</ul>
				</div>
			</if>
			<br />
			<div class='ipsForm ipsForm_horizontal'>
				<fieldset>
					<ul>
						<li class='ipsField'>
							<div class='ipsField_content'>
								{$this->lang->words['register_prompt_1']} <a href="{parse url="app=core&amp;module=global&amp;section=register" base="public"}" title='{$this->lang->words['register_prompt_2']}'>{$this->lang->words['register_prompt_2']}</a>
							</div>
						</li>
						<li class='ipsField ipsField_primary'>
							<label for='ips_username' class='ipsField_title'>{$this->lang->words['enter_name']}</label>
							<div class='ipsField_content'>
								<input id='ips_username' type='text' class='input_text' name='ips_username' size='30' />
							</div>
						</li>
						<li class='ipsField ipsField_primary'>
							<label for='ips_password' class='ipsField_title'>{$this->lang->words['enter_pass']}</label>
							<div class='ipsField_content'>
								<input id='ips_password' type='password' class='input_text' name='ips_password' size='30' /><br />
								<a href='{parse url="app=core&amp;module=global&amp;section=lostpass" base="public"}' title='{$this->lang->words['retrieve_pw']}'>{$this->lang->words['login_forgotten_pass']}</a>
							</div>
						</li>
						<li class='ipsField ipsField_checkbox'>
							<input type='checkbox' id='inline_remember' checked='checked' name='rememberMe' value='1' class='input_check' />
							<div class='ipsField_content'>
								<label for='inline_remember'>
									<strong>{$this->lang->words['rememberme']}</strong><br />
									<span class='desc lighter'>{$this->lang->words['notrecommended']}</span>
								</label>
							</div>
						</li>
						<if test="anonymous:|:!$this->settings['disable_anonymous']">
							<li class='ipsField ipsField_checkbox'>
								<input type='checkbox' id='inline_invisible' name='anonymous' value='1' class='input_check' />
								<div class='ipsField_content'>
									<label for='inline_invisible'>
										<strong>{$this->lang->words['form_invisible']}</strong><br />
										<span class='desc lighter'>{$this->lang->words['anon_name']}</span>
									</label>
								</div>
							</li>
						</if>
						<if test="privvy:|:$this->settings['priv_title']">
						<li class='ipsPad_top ipsForm_center desc ipsType_smaller'>
							<a rel="nofollow" href='{parse url="app=core&amp;module=global&amp;section=privacy" template="privacy" seotitle="false" base="public"}'>{$this->settings['priv_title']}</a>
						</li>
						</if>
					</ul>
				</fieldset>
				
				<div class='ipsForm_submit ipsForm_center'>
					<input type='submit' class='ipsButton' value='{$this->lang->words['log_in']}' />
				</div>
			</div>
		</form>
	</div>
<else />
	<script type='text/javascript'>
		ipb.global.loginRedirect = "{$_redirect}";
	</script>
</if>]]></template_content>
      <template_name>inlineLogin</template_name>
      <template_data/>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<if test="liveEditOn:|: defined( 'IPS_LIVE_EDIT') && IPS_LIVE_EDIT">
	<script type='text/javascript'>	
		skingen_imgs = "{$this->settings['public_dir']}style_extra/skin_creator";
		<if test="hasSkinData:|: ! empty( $this->registry->output->skinGenSession['skin_gen_data'] )">
		var IPS_SKIN_GEN_SAVED_DATA = {parse expression="json_encode( $this->registry->output->skinGenSession['skin_gen_data'] )"};
		</if>
	</script>
	<link rel="stylesheet" href="{$this->settings['public_dir']}style_css/skin_creator.css" type="text/css"  media="screen" />
	<link rel="stylesheet" href="{$this->settings['js_base_url']}js/3rd_party/prototype/colorpicker/css/prototype_colorpicker.css" type="text/css"  media="screen" />
	<script type="text/javascript" src="{$this->settings['js_base_url']}js/3rd_party/prototype/colorpicker/js/prototype_colorpicker.js"></script>
	<script type="text/javascript" src="{$this->settings['cache_dir']}skinGenJsonCache.js"></script>
	<script type="text/javascript" src="{$this->settings['js_base_url']}js/ips.skin_gen.js"></script>
</if>]]></template_content>
      <template_name>liveEditJs</template_name>
      <template_data/>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<if test="haspages:|:$data['totalItems'] > $data['itemsPerPage']">
	<div class='left pagination clear'>
		<ul class='ipsList_inline back forward'>
			<if test="prevpage:|:$data['_hasPrevious']">
				<li class='prev'>
					<if test="useAjaxPrev:|:$data['ajaxLoad']">
						<a href="#" onclick="return ipb.global.ajaxPagination( '{$data['ajaxLoad']}', '{parse url="{$data['baseUrl']}&amp;secure_key={$this->member->form_hash}&amp;{$data['startValueKey']}={parse expression="intval( $data['currentStartValue'] - $data['itemsPerPage'] )"}{$data['anchor']}" base="{$data['base']}" seotitle="{$data['seoTitle']}" template="{$data['seoTemplate']}"}' );" title="{$this->lang->words['tpl_prev']}" rel='prev'>{$this->lang->words['_larr']} {$this->lang->words['prev']}</a>
					<else />
						<a href="{parse url="{$data['baseUrl']}&amp;{$data['startValueKey']}={parse expression="intval( $data['currentStartValue'] - $data['itemsPerPage'] )"}{$data['anchor']}" base="{$data['base']}" seotitle="{$data['seoTitle']}" template="{$data['seoTemplate']}"}" title="{$this->lang->words['tpl_prev']}" rel='prev'>{$this->lang->words['_larr']} {$this->lang->words['prev']}</a>
					</if>
				</li>
			</if>
			<if test="nextpage:|:$data['_hasNext']">
				<li class='next'>
					<if test="useAjaxNext:|:$data['ajaxLoad']">
						<a href="#" onclick="return ipb.global.ajaxPagination( '{$data['ajaxLoad']}', '{parse url="{$data['baseUrl']}&amp;secure_key={$this->member->form_hash}&amp;{$data['startValueKey']}={parse expression="intval( $data['currentStartValue'] + $data['itemsPerPage'] )"}{$data['anchor']}" base="{$data['base']}" seotitle="{$data['seoTitle']}" template="{$data['seoTemplate']}"}' );" title="{$this->lang->words['tpl_next']}" rel='next'>{$this->lang->words['next']} {$this->lang->words['_rarr']}</a>
					<else />
						<a href="{parse url="{$data['baseUrl']}&amp;{$data['startValueKey']}={parse expression="intval( $data['currentStartValue'] + $data['itemsPerPage'] )"}{$data['anchor']}" base="{$data['base']}" seotitle="{$data['seoTitle']}" template="{$data['seoTemplate']}"}" title="{$this->lang->words['tpl_next']}" rel='next'>{$this->lang->words['next']} {$this->lang->words['_rarr']}</a>
					</if>
				</li>
			</if>
		</ul>
	</div>
</if>]]></template_content>
      <template_name>nextPreviousTemplate</template_name>
      <template_data>$data</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<if test="haspages:|:$work['pages'] > 1">
	<div class='pagination clearfix left <if test="!$data['showNumbers']">no_numbers</if>'>
		<ul class='ipsList_inline back left'>
			<if test="firstpage:|:1 < ($work['current_page'] - $data['dotsSkip'])">
				<li class='first'><a href='{parse url="{$data['baseUrl']}&amp;{$data['startValueKey']}=0{$data['anchor']}" base="{$data['base']}" seotitle="{$data['seoTitle']}" template="{$data['seoTemplate']}"}' title='{$data['realTitle']} - {$this->lang->words['tpl_gotofirst']}' rel='start'>{$this->lang->words['_laquo']} <!--{$this->lang->words['ps_first']}--></a></li>
			</if>
			<if test="prevpage:|:$work['current_page'] > 1">
				<li class='prev'><a href="{parse url="{$data['baseUrl']}&amp;{$data['startValueKey']}={parse expression="intval( $data['currentStartValue'] - $data['itemsPerPage'] )"}{$data['anchor']}" base="{$data['base']}" seotitle="{$data['seoTitle']}" template="{$data['seoTemplate']}"}" title="{$data['realTitle']} - {$this->lang->words['tpl_prev']}" rel='prev'>{$this->lang->words['prev']}</a></li>
			</if>
		</ul>
		<ul class='ipsList_inline left pages'>
			<if test="$this->request['module'] != 'ajax' AND !$data['noDropdown']">
				<li class='pagejump clickable pj{$data['uniqid']}'>
					<a href='#'>{parse expression="sprintf( $this->lang->words['tpl_pages'], $work['current_page'], $work['pages'] )"} <!--{parse replacement="dropdown"}--></a>
					<script type='text/javascript'>
						ipb.global.registerPageJump( '{$data['uniqid']}', { url: "{parse url="{$data['baseUrl']}" template="{$data['seoTemplate']}" seotitle="{$data['seoTitle']}" base="{$data['base']}"}<if test="furlinfo:|:$data['isFriendly']">/</if>", stKey: '{$data['startValueKey']}', perPage: {$data['itemsPerPage']}, totalPages: {$work['pages']}, anchor: '{$data['anchor']}' } );
					</script>
				</li>
			<else />
				<li class='pagejump'>
					{parse expression="sprintf( $this->lang->words['tpl_pages'], $work['current_page'], $work['pages'] )"}
				</li>
			</if>
			<if test="normalpages:|:is_array( $work['_pageNumbers'] ) && count( $work['_pageNumbers'] )">
				<foreach loop="pagination:$work['_pageNumbers'] as $_real => $_page">
					<if test="activepage:|:$_real == $data['currentStartValue']">
						<li class='page active'>{$_page}</li>
					<else />
						<li class='page'><a href="{parse url="{$data['baseUrl']}&amp;{$data['startValueKey']}={$_real}{$data['anchor']}" base="{$data['base']}" seotitle="{$data['seoTitle']}" template="{$data['seoTemplate']}"}" title="<if test="hasRealTitle:|:$data['realTitle']">{parse expression="sprintf( $this->lang->words['page_title_text'],$data['realTitle'],$_page)"}<else />$_page</if>">{$_page}</a></li>
					</if>
				</foreach>
			</if>
		</ul>
		<ul class='ipsList_inline forward left'>
			<if test="nextpage:|:$work['current_page'] < $work['pages']">
				<li class='next'><a href="{parse url="{$data['baseUrl']}&amp;{$data['startValueKey']}={parse expression="intval( $data['currentStartValue'] + $data['itemsPerPage'] )"}{$data['anchor']}" base="{$data['base']}" seotitle="{$data['seoTitle']}" template="{$data['seoTemplate']}"}" title="{$data['realTitle']} - {$this->lang->words['tpl_next']}" rel='next'>{$this->lang->words['next']}</a></li>
			</if>
			<if test="lastpage:|:!empty( $work['_showEndDots'] )">
				<li class='last'><a href="{parse url="{$data['baseUrl']}&amp;{$data['startValueKey']}={parse expression="intval( ( $work['pages'] - 1 ) * $data['itemsPerPage'] )"}{$data['anchor']}" base="{$data['base']}" seotitle="{$data['seoTitle']}" template="{$data['seoTemplate']}"}" title="{$data['realTitle']} - {$this->lang->words['tpl_gotolast']}" rel='last'>{$this->lang->words['_raquo']}</a></li>
			</if>
		</ul>
	</div>
<else />
	<if test="notDisableSinglePage:|:!$data['disableSinglePage']">
		<p class='pagination no_pages left ipsType_small'><span>{$this->lang->words['page_1_of_1']}</span></p>
	</if>
</if>]]></template_content>
      <template_name>paginationTemplate</template_name>
      <template_data>$work, $data</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<div id='search' class='right'>
	<form action="{parse url="app=core&amp;module=search&amp;do=search&amp;fromMainBar=1" base="public"}" method="post" id='search-box' >
		<fieldset>
			<label for='main_search' class='hide'>{$this->lang->words['sj_search']}</label>
			<a href='{parse url="app=core&amp;module=search&amp;search_in=<if test="hasSearchApp:|:isset($this->request['search_app']) AND $this->request['search_app']">{$this->request['search_app']}<else />{$this->registry->getCurrentApplication()}</if>" base="public"}' title='{$this->lang->words['advanced_search']}' accesskey='4' rel="search" id='adv_search' class='right'>{$this->lang->words['advanced']}</a>
			<span id='search_wrap' class='right'>
				<input type='text' id='main_search' name='search_term' class='inactive' size='17' tabindex='6' />
				<span class='choice ipbmenu clickable' id='search_options' style='display: none'></span>
				<ul id='search_options_menucontent' class='ipbmenu_content ipsPad' style='display: none'>
					<li class='title'><strong>{$this->lang->words['context_search_title']}</strong></li>
					<if test="inTopic:|:$this->request['showtopic'] or ( isset( $this->request['search_app'] ) and substr( $_POST['search_app'], 0, 13 ) == 'forums:topic:' )">
						<li class='special'>
							<label for='s_topic' title='{$this->lang->words['context_search_topic']}'>
								<if test="$this->request['showtopic']">
									<input type='radio' name='search_app' value="forums:topic:{$this->request['showtopic']}" class='input_radio' id='s_topic' checked="checked" /> 
								<else />
									<input type='radio' name='search_app' value="forums:topic:{parse expression="substr( $_POST['search_app'], 13 )"}" class='input_radio' id='s_topic' checked="checked" /> 
								</if>
								<strong>{$this->lang->words['context_search_topic']}</strong>
							</label>
						</li>
					</if>
					<if test="inForum:|:( $this->request['showforum'] AND $this->registry->getClass('class_forums')->forum_by_id[ $this->request['showforum'] ]['sub_can_post'] ) or ( isset( $this->request['search_app'] ) and substr( $_POST['search_app'], 0, 13 ) == 'forums:forum:' )">
						<li class='special'>
							<label for='s_forum' title='{$this->lang->words['context_search_forum']}'>
								<if test="$this->request['showforum']">
									<input type='radio' name='search_app' value="forums:forum:{$this->request['f']}" class='input_radio' id='s_forum' <if test="!$this->request['showtopic']">checked="checked"</if> /> 
								<else />
									<input type='radio' name='search_app' value="forums:forum:{parse expression="substr( $_POST['search_app'], 13 )"}" class='input_radio' id='s_forum' checked="checked" /> 
								</if>
								<strong>{$this->lang->words['context_search_forum']}</strong>
							</label>
						</li>
					</if>
					<if test="lookElsewhere:|:! in_array( $this->registry->getCurrentApplication(), array( 'forums', 'members', 'core' ) )">
						<if test="appContextSearch:|:method_exists( $this->registry->output->getTemplate( $this->registry->getCurrentApplication() . '_global' ), 'contextSearch' )">
							{parse template="contextSearch" group="{current_app}_global" params=""}
						</if>
					</if>
					<if test="IPSLib::appIsSearchable( 'forums', 'search' )">
						<li class='app'><label for='s_forums' title='{IPSLib::getAppTitle('forums')}'><input type='radio' name='search_app' class='input_radio' id='s_forums' value="forums" <if test="inThisApp:|:( ( isset($this->request['search_app']) AND $this->request['search_app'] == 'forums' ) ) || ( !IPSLib::appIsSearchable( $this->registry->getCurrentApplication(), 'search' ) ) || ( ( $this->registry->getCurrentApplication() == 'forums' ) && ! $this->request['search_app'] ) && !$this->request['showtopic'] && !$this->request['showforum']"><if test="substr( $_POST['search_app'], 0, 13 ) != 'forums:topic:' and substr( $_POST['search_app'], 0, 13 ) != 'forums:forum:'">checked="checked"</if></if> />{IPSLib::getAppTitle( 'forums' )}</label></li>
					</if>
					<if test="IPSLib::appIsSearchable( 'members', 'search' )">
						<li class='app'><label for='s_members' title='{IPSLib::getAppTitle('members')}'><input type='radio' name='search_app' class='input_radio' id='s_members' value="members" <if test="inThisApp:|:( ( isset($this->request['search_app']) AND $this->request['search_app'] == 'members' ) ) || ( ( $this->registry->getCurrentApplication() == 'members' ) && ! $this->request['search_app'] ) && !$this->request['showtopic'] && !$this->request['showforum']">checked="checked"</if> />{IPSLib::getAppTitle( 'members' )}</label></li>
					</if>
					<if test="IPSLib::appIsSearchable( 'core', 'search' )">
						<li class='app'><label for='s_core' title='{IPSLib::getAppTitle('core')}'><input type='radio' name='search_app' class='input_radio' id='s_core' value="core" <if test="inThisApp:|:( ( isset($this->request['search_app']) AND $this->request['search_app'] == 'core' ) ) || ( ( $this->registry->getCurrentApplication() == 'core' ) && ! $this->request['search_app'] ) && !$this->request['showtopic'] && !$this->request['showforum']">checked="checked"</if> />{IPSLib::getAppTitle( 'core' )}</label></li>
					</if>
					<foreach loop="appLoop:$this->registry->getApplications() as $app => $data">
						<if test="IPSLib::appIsSearchable( $app, 'search' ) AND !in_array( $app, array( 'forums', 'members', 'core' ) )">
							<li class='app'><label for='s_{$app}' title='{IPSLib::getAppTitle( $app )}'><input type='radio' name='search_app' class='input_radio' id='s_{$app}' value="{$app}" <if test="inThisApp:|:( ( isset($this->request['search_app']) AND $this->request['search_app'] == $app ) || ( !IPSLib::appIsSearchable( $this->registry->getCurrentApplication(), 'search' ) AND $app == 'core' ) || ( ( $this->registry->getCurrentApplication() == $app ) && ( !isset($this->request['search_app']) OR !$this->request['search_app'] ) ) ) && !$this->request['showtopic'] && !$this->request['showforum'] && ( !method_exists( $this->registry->output->getTemplate( $this->registry->getCurrentApplication() . '_global' ), 'contextSearch' ) or ipsRegistry::$appSearch )">checked="checked"</if> />{IPSLib::getAppTitle( $app )}</label></li>
						</if>
					</foreach>
				</ul>
				<input type='submit' class='submit_input clickable' value='{$this->lang->words['sj_search']}' />
			</span>
			
		</fieldset>
	</form>
</div>]]></template_content>
      <template_name>quickSearch</template_name>
      <template_data/>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[{parse js_module="sharelinks"}
<if test="gotLinks:|:is_array( $links )">
	<ul class='{$cssClass} shareButtons ipsList_inline'>
	<foreach loop="cacheLoop:$links as $id => $data">
		<if test="isEnabled:|:$data['share_enabled']">
			<if test="hasCustom:|:$data['customOutput'] and is_array( $data['customOutput'] )">
				{parse expression="$this->registry->output->getTemplate($data['customOutput'][0])->$data['customOutput'][1]( $data['_rawUrl'], $title, $data['customOutput'][2] )"}
			<else />
			<li><a href="{parse url="sharelink={$data['share_key']};{$data['_url']};{$title}" base="public"}<if test="hasOverrideApp:|:$data['overrideApp']">&amp;overrideApp={$data['overrideApp']}</if>" rel="nofollow" target="_blank" title="<if test="isset( $this->lang->words['gbl_sharelink_with_' . $data['share_key'] ] )">{$this->lang->words['gbl_sharelink_with_' . $data['share_key'] ]}<else />{$this->lang->words['gbl_sharelink_with']} {$data['share_title']}</if>" class='_slink' id='slink_{$data['share_key']}'><img src="{$this->settings['public_cdn_url']}style_extra/sharelinks/{$data['share_key']}.png" /></a></li>
			</if>
		</if>
	</foreach>
	</ul>
	<script type="text/javascript">
		ipb.sharelinks.url   = "{parse expression="IPSText::base64_decode_urlSafe($url)"}";
		ipb.sharelinks.title = "{parse expression="IPSText::base64_decode_urlSafe( IPSText::htmlspecialchars( $title ) )"}";
		ipb.sharelinks.bname = "{parse expression="trim(addslashes($this->settings['board_name']))"}";
	</script>
</if>]]></template_content>
      <template_name>shareLinks</template_name>
      <template_data><![CDATA[$links, $title='', $url='', $cssClass='topic_share left']]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<div class="signature" data-memberid="{$author_id}">
	<if test="notMe:|: $this->memberData['member_id'] && $this->memberData['member_id'] != $author_id && $can_ignore"><a href='#' class='hide_signature'></a></if>
	{$sig}
</div>]]></template_content>
      <template_name>signature_separator</template_name>
      <template_data><![CDATA[$sig="", $author_id=0, $can_ignore=true]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<if test="canSeeProfiles:|:$member['member_id'] && ( $this->memberData['g_is_supmod'] || ($this->memberData['g_mem_info'] && ! IPSMember::isInactive($member) ) )">
	<a hovercard-ref="member" hovercard-id="{$member['member_id']}" class="_hovertrigger url fn name <if test="hasClassName:|:isset($member['_hoverClass'])"> {$member['_hoverClass']}</if>" href='{parse url="showuser={$member['member_id']}" template="showuser" seotitle="{$member['members_seo_name']}" base="public"}' title='<if test="hasTitle:|:!empty($member['_hoverTitle'])">{$member['_hoverTitle']}<else />{$this->lang->words['view_profile']}</if>'><span itemprop="name">{$member['members_display_name']}</span></a>
<else />
	{$member['members_display_name']}
</if>]]></template_content>
      <template_name>userHoverCard</template_name>
      <template_data>$member=array()</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<div itemscope itemtype="http://schema.org/Person" class='user_details'>
	<span class='hide' itemprop="name">{$author['members_display_name']}</span>
	<ul class='basic_info'>
		<if test="membertitle:|:$author['member_title']">
			<p class='desc member_title'>{$author['member_title']}</p>
		</if>
		<if test="avatar:|:$author['member_id']">
			<li class='avatar'>
				<if test="canSeeProfiles:|:$this->memberData['g_is_supmod'] OR ( $this->memberData['g_mem_info'] && ! IPSMember::isInactive( $author ) )">
				<a itemprop="url" href="{parse url="showuser={$author['member_id']}" template="showuser" seotitle="{$author['members_seo_name']}" base="public"}" title="{$this->lang->words['view_profile']}: {$author['members_display_name']}" class='ipsUserPhotoLink'>
				</if>
				<if test="hasVariable:|:$this->settings['member_topic_avatar_max']">	
					<img itemprop="image" src='{$author['pp_main_photo']}' class='ipsUserPhoto ipsUserPhoto_variable' />
				<else />
					<img itemprop="image" src='{$author['pp_thumb_photo']}' class='ipsUserPhoto ipsUserPhoto_large' />
				</if>
				<if test="canSeeProfiles2:|:$this->memberData['g_is_supmod'] OR ( $this->memberData['g_mem_info'] && ! IPSMember::isInactive( $author ) )">
				</a>
				</if>
			</li>
		<else />
			<li class='avatar'>
				<img itemprop="image" src='{$author['pp_thumb_photo']}' class='ipsUserPhoto ipsUserPhoto_large' />
			</li>
		</if>
		<li class='group_title'>
			{$author['_group_formatted']}
		</li>
		<if test="rankimage:|:$author['member_rank_img']">
			<li class='group_icon'>
			<if test="rankimageimage:|:$author['member_rank_img_i'] == 'img'">
				<img src='{$author['member_rank_img']}' alt='' />
			<else />
				{$author['member_rank_img']}
			</if>
			</li>
		</if>
		<if test="postCount:|:$author['member_id']">
		<li class='post_count desc lighter'>
			{parse expression="$this->registry->getClass('class_localization')->formatNumber( intval( $author['posts'] ) )"} {$this->lang->words['m_posts']}
		</li>
		</if>
		<if test="authorwarn:|:$author['show_warn']">
			<li>
				<if test="hasWarningId:|:$options['wl_id']">
					<img src='{$this->settings['img_url']}/warn.png' class='clickable' onclick='warningPopup( this, {$options['wl_id']} )' title='{$this->lang->words['warnings_issued']}' />
				</if>
				<a class='desc lighter blend_links' href='{parse url="app=members&amp;module=profile&amp;section=warnings&amp;member={$author['member_id']}&amp;from_app={$this->request['app']}&amp;from_id1={$contentid}&amp;from_id2={$options['id2']}" base="public"}' id='warn_link_{$contentid}_{$author['member_id']}' title='{$this->lang->words['warn_view_history']}'>{parse expression="sprintf( $this->lang->words['warn_status'], $author['warn_level'] )"}</a>
			</li>
		</if>
	</ul>
	
	<if test="authorcfields:|:$author['custom_fields'] != """>
		<ul class='custom_fields'>
			<foreach loop="customFieldsOuter:$author['custom_fields'] as $group => $data">
				<foreach loop="customFields:$author['custom_fields'][ $group ] as $field">
					<if test="$field != ''">
						<li>
							{$field}
						</li>
					</if>
				</foreach>
			</foreach>
		</ul>
	</if>
	
</div>]]></template_content>
      <template_name>userInfoPane</template_name>
      <template_data>$author, $contentid, $options</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<if test="linkAvatarOpen:|:$member['member_id'] && ( $this->memberData['g_is_supmod'] || ($this->memberData['g_mem_info'] && ! IPSMember::isInactive($member) ) )">
	<a href='{parse url="showuser={$member['member_id']}" template="showuser" seotitle="{$member['members_seo_name']}" base="public"}' class='ipsUserPhotoLink left'>
<else />
	<div class='left'>
</if>
<if test="hasphoto:|:$member['member_id']">
	<img src='{$member['pp_small_photo']}' alt='<if test="hasAlt:|:$member['alt']">{$member['alt']}<else />{$this->lang->words['photo']}</if>' class='ipsUserPhoto <if test="hasCustomClass:|:empty($member['_customClass'])">ipsUserPhoto_mini<else />{$member['_customClass']}</if>' />
<else />
	{IPSMember::buildNoPhoto(0, 'mini' )}
</if>
<if test="linkAvatarClose:|:$member['member_id'] && ( $this->memberData['g_is_supmod'] || ($this->memberData['g_mem_info'] && ! IPSMember::isInactive($member) ) )">
	</a>
<else />
	</div>
</if>]]></template_content>
      <template_name>userSmallPhoto</template_name>
      <template_data>$member=array()</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global</template_group>
      <template_content><![CDATA[<h3>{$this->lang->words['warnings_details']}</h3>
<div class='ipsBox'>
	<p class='message unspecific'>
		<if test="hasReason:|:$warning['wl_reason']">
			<if test="hasReasonAndContent:|:$warning['content']">
				{parse expression="sprintf( $this->lang->words['warning_blurb_yy'], "{parse template="userHoverCard" group="global" params="$warning['wl_moderator']"}", $warning['wl_reason'], $warning['content'] )"}
			<else />
				{parse expression="sprintf( $this->lang->words['warning_blurb_yn'], "{parse template="userHoverCard" group="global" params="$warning['wl_moderator']"}", $warning['wl_reason'] )"}
			</if>
		<else />
			<if test="hasContent:|:$warning['content']">
				{parse expression="sprintf( $this->lang->words['warning_blurb_ny'], "{parse template="userHoverCard" group="global" params="$warning['wl_moderator']"}", $warning['content'] )"}
			<else />
				{parse expression="sprintf( $this->lang->words['warning_blurb_nn'], "{parse template="userHoverCard" group="global" params="$warning['wl_moderator']"}" )"}
			</if>
		</if>
		<br />
		<if test="isVerbalOnly:|:!$warning['wl_points'] and !$warning['wl_mq'] and !$warning['wl_rpa'] and !$warning['wl_suspend']">
			{$this->lang->words['warnings_verbal_only']}
		<else />
			<if test="hasPoint:|:$warning['wl_points']">
				<if test="canExpire:|:$warning['wl_expire']">
					<if test="hasExpireDate:|:$warning['wl_expire_date']">
						{parse expression="sprintf( $this->lang->words['warnings_given_points_expire'], $warning['wl_points'], $this->lang->getDate( $warning['wl_expire_date'], 'SHORT' ) )"}<br />
					<else />
						{parse expression="sprintf( $this->lang->words['warnings_given_points_expired'], $warning['wl_points'] )"}<br />
					</if>
				<else />
					{parse expression="sprintf( $this->lang->words['warnings_given_points'], $warning['wl_points'] )"}<br />
				</if>
			</if>
			<foreach loop="actions:array( 'mq', 'rpa', 'suspend' ) as $k">
				<if test="hasAction:|:$warning[ 'wl_' . $k ]">
					<if test="actionIsPermanent:|:$warning[ 'wl_' . $k ] == -1">
						{parse expression="sprintf( $this->lang->words[ 'warnings_' . $k ], $this->lang->words['warnings_permanently'] )"}<br />
					<else />
						{parse expression="sprintf( $this->lang->words[ 'warnings_' . $k ], sprintf( $this->lang->words['warnings_for'], $warning[ 'wl_' . $k ], $this->lang->words[ 'warnings_time_' . $warning[ 'wl_' . $k . '_unit' ] ] ) )"}<br />
					</if>
				</if>
			</foreach>
		</if>
	</p>
	<if test="canSeeModNote:|:$canSeeModNote and $warning['wl_note_mods']">
		<div class='ipsBox_container ipsPad'>
			<strong>{$this->lang->words['warnings_note_member']}</strong>
			<br /><br />
			<if test="hasModAndMemberNote:|:$warning['wl_note_member']">
				{$warning['wl_note_member']}
			<else />
				<em>{$this->lang->words['warnings_no_note']}</em>
			</if>
		</div>
		<div class='ipsBox_container ipsPad'>
			<strong>{$this->lang->words['warnings_note_mods']}</strong>
			<br /><br />
			{$warning['wl_note_mods']}
		</div>
	<else />
		<div class='ipsBox_container ipsPad'>
			<if test="hasMemberNote:|:$warning['wl_note_member']">
				{$warning['wl_note_member']}
			<else />
				<em>{$this->lang->words['warnings_no_note']}</em>
			</if>
		</div>
	</if>
</div>]]></template_content>
      <template_name>warnDetails</template_name>
      <template_data>$warning, $canSeeModNote</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
  </templategroup>
  <templategroup group="skin_global_comments">
    <template>
      <template_group>skin_global_comments</template_group>
      <template_content><![CDATA[<php>
// Adjust author name as needed
if( empty($r['author']['member_id']) && !empty($r['author']['comment_author_name']) )
{
	$r['author']['members_display_name'] = $r['author']['comment_author_name'];
}
</php>
<if test="canEditNoPost:|:!$this->hasEditJs AND !$parent['_canComment'] AND $r['comment']['_canEdit']">
	{parse template="getEditJs" group="global_comments" params=""}
</if>
<a id='comment_{$r['comment']['comment_id']}'></a>
<div data-commentid='{$r['comment']['comment_id']}' class='ipsComment clearfix <if test="commentQueued:|:!$r['comment']['comment_approved']">moderated</if>' id='comment_id_{$r['comment']['comment_id']}'>
	<if test="commentignored:|:$r['comment']['_ignored'] || $r['comment']['_repignored']">
		<div class='post_ignore'>
			<if test="userIgnoredLang:|:$r['comment']['_repignored'] == 1">{$this->lang->words['comment_ignored_rep']}<else />{$this->lang->words['ignored_comments_not']}</if> <if test="hasauthormemid:|:$r['author']['member_id']"><a href='{parse url="showuser={$r['author']['member_id']}" base="public"}'></if>{$r['author']['members_display_name']}<if test="hasauthormidclose:|:$r['author']['member_id']"></a></if>. <a href='#entry{$r['comment']['comment_id']}' title='{$this->lang->words['ignored_comments_not']}' style='display: none' id='unhide_post_{$r['comment']['comment_id']}'>{$this->lang->words['rep_view_anyway']}</a>
		</div>
	</if>
	<div class='ipsComment_author'>
		<if test="linkPhotoStart:|:$r['author']['member_id']"><a class='ipsUserPhotoLink' href='{parse url="showuser={$r['author']['member_id']}" template="showuser" seotitle="{$r['author']['members_seo_name']}" base="public"}'></if><img src='{$r['author']['pp_small_photo']}' class='ipsUserPhoto ipsUserPhoto_mini' /><if test="linkPhotoEnd:|:$r['author']['member_id']"></a></if><br />{parse template="userHoverCard" group="global" params="$r['author']"}<br />
		<span class='post_id'>
			<a rel='bookmark' class='desc lighter ipsType_smaller' href='{parse url="{$settings['baseUrl']}&amp;do=findComment&amp;comment_id={$r['comment']['comment_id']}" base="public"}' title='{$this->lang->words['comment_permalink']}'>{parse date="$r['comment']['comment_date']" format="short"}</a>
		</span>
		<if test="authorwarn:|:$r['author']['show_warn']">
			<br />
			<if test="$options['wl_id']">
				<img src='{$this->settings['img_url']}/warn.png' class='clickable' onclick='warningPopup( this, {$options['wl_id']} )' title='{$this->lang->words['warnings_issued']}' />
			</if>
			<a class='desc lighter ipsType_smaller blend_links' href='{parse url="app=members&amp;module=profile&amp;section=warnings&amp;member={$r['author']['member_id']}&amp;from_app={$settings['thisApp']}&amp;from_id1={$settings['fromApp']}&amp;from_id2={$parent['parent_id']}-{$r['comment']['comment_id']}" base="public"}' id='warn_link_{$r['comment']['comment_id']}_{$r['author']['member_id']}' title='{$this->lang->words['warn_view_history']}'>{parse expression="sprintf( $this->lang->words['warn_status'], $r['author']['warn_level'] )"}</a>
		</if>
	</div>	
	<div id='comment_{$r['comment']['comment_id']}' class='ipsComment_comment'>
		<div class='comment_content'>{$r['comment']['comment_text']}</div>
		
		<ul class='ipsComment_controls ipsList_inline ipsType_smaller'>
			<if test="moderateCheckbox:|:$parent['_canModerate']">
				<li class='right'>&nbsp;&nbsp;<input class="ipsComment_mod" type='checkbox' name='' id='mod_comment_id_{$r['comment']['comment_id']}' data-status='{$r['comment']['comment_approved']}' /></li>
			</if>
			<if test="enableRep:|:$settings['enableRep']">
				<li class='right'>
					{parse template="repButtons" group="global_other" params="$r['author'], array_merge( array( 'primaryId' => $r['comment']['comment_id'], 'domLikeStripId' => 'like_post_' . $r['comment']['comment_id'], 'domCountId' => 'rep_comment_' . $r['comment']['comment_id'], 'app' => $settings['repApp'] ? $settings['repApp'] : $settings['thisApp'], 'type' => $settings['repType'], 'likeFormatted' => $r['comment']['like']['formatted'] ), $r['comment'] )"}
				</li>
			</if>
			<if test="canReply:|:$r['comment']['_canReply']">
				<li><a href='{$this->settings['this_url']}<if test="hasAppend:|:! strstr( $this->settings['this_url'], '_rcid')"><if test="hasQ:|:strstr($this->settings['this_url'], '?')">&amp;<else />?</if>_rcid={$r['comment']['comment_id']}</if>#fastreply' title="{$this->lang->words['reply_to_comment']}" id='reply_comment_{$r['comment']['comment_id']}' class='ipsButton_secondary reply_comment'>{$this->lang->words['comment_reply']}</a></li>
			</if>
			<if test="canEdit:|:$r['comment']['_canEdit']">
				<li>
					<a href="{parse url="{$settings['baseUrl']}&amp;do=showEdit&amp;comment_id={$r['comment']['comment_id']}" base="public"}" id='edit_comment_{$r['comment']['comment_id']}' class='edit_comment'>{$this->lang->words['edit_link']}</a>
				</li>
			</if>
			<if test="canHide:|:$r['comment']['comment_approved'] == 1 and $r['comment']['_canHide']">
				<li><a href='{parse url="{$settings['baseUrl']}&amp;do=hide&amp;comment_id={$r['comment']['comment_id']}&amp;auth_key={$this->member->form_hash}" base="public"}' title='{$this->lang->words['hide_link']}' id='hide_comment_{$r['comment']['comment_id']}' class='hide_comment'>{$this->lang->words['hide_link']}</a></li>
			</if>
			<if test="canApprove:|:$r['comment']['comment_approved'] == 0 and $r['comment']['_canApprove']">
				<li><a href='{parse url="{$settings['baseUrl']}&amp;do=approve&amp;comment_id={$r['comment']['comment_id']}&amp;auth_key={$this->member->form_hash}" base="public"}' title='{$this->lang->words['approve_link']}'>{$this->lang->words['approve_link']}</a></li>
			</if>
			<if test="canDelete:|:$r['comment']['_canDelete']">
				<li>
					<a href='{parse url="{$settings['baseUrl']}&amp;do=delete&amp;comment_id={$r['comment']['comment_id']}&amp;auth_key={$this->member->form_hash}" base="public"}' id='delete_comment_{$r['comment']['comment_id']}' class='delete_comment'  title='{$this->lang->words['delete_comment']}'>{$this->lang->words['delete_link']}</a>
				</li>
			</if>
			<if test="hasReport:|:$r['comment']['urls-report']">
				<li>
					<a href="{parse url="{$r['comment']['urls-report']}&amp;st={$this->request['st']}" base="public"}">{$this->lang->words['report_link']}</a>
				</li>
			</if>
		</ul>
		
	</div>
</div>
<if test="commentinitignored:|:$r['comment']['_ignored'] || $r['comment']['_repignored']">
	<script type='text/javascript'>
		ipb.comments.setCommentHidden( {$r['comment']['comment_id']} );
	</script>
</if>]]></template_content>
      <template_name>comment</template_name>
      <template_data>$r, $parent, $settings</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_comments</template_group>
      <template_content><![CDATA[<php>
// Adjust author name as needed
if( empty($r['author']['member_id']) && !empty($r['author']['comment_author_name']) )
{
	$r['author']['members_display_name'] = $r['author']['comment_author_name'];
}
</php>
<if test="canEditNoPost:|:!$this->hasEditJs AND !$parent['_canComment'] AND $r['comment']['_canEdit']">
	{parse template="getEditJs" group="global_comments" params=""}
</if>
<a id='comment_{$r['comment']['comment_id']}'></a>
<div data-commentid='{$r['comment']['comment_id']}' class='ipsComment clearfix moderated' id='comment_id_{$r['comment']['comment_id']}'>
	<div class='ipsComment_author'>
		{parse template="userHoverCard" group="global" params="$r['author']"}<br />
	</div>	
	<div id='comment_{$r['comment']['comment_id']}' class='ipsComment_comment'>
		<div class='comment_content' id='hidden_text_{$r['comment']['comment_id']}'>
			{$this->lang->words['post_deleted_by']} <a href='{parse url="showuser={$r['sD']['sdl_obj_member_id']}" base="public" template="showuser" seotitle="{$r['sD']['member']['members_seo_name']}"}'>{$r['sD']['member']['members_display_name']}</a> {$this->lang->words['on']} {parse date="$r['sD']['sdl_obj_date']" format="long"}.
			<p class='desc'><if test="$r['sD']['sdl_obj_reason']">{$r['sD']['sdl_obj_reason']}<else />{$this->lang->words['no_reason_given']}</if></p>
		</div>
		<div class='comment_content' id='comment_content_{$r['comment']['comment_id']}' style='display:none'>
			{$r['comment']['comment_text']}
		</div>
		<ul class='ipsComment_controls ipsList_inline ipsType_smaller'>
			<if test="moderateCheckbox:|:$parent['_canModerate']">
				<li class='right'>&nbsp;&nbsp;<input class="ipsComment_mod" type='checkbox' name='' id='mod_comment_id_{$r['comment']['comment_id']}' data-status='{$r['comment']['comment_approved']}' /></li>
			</if>
			<li>
				<span class='clickable' onclick="$('hidden_text_{$r['comment']['comment_id']}').toggle();$('comment_content_{$r['comment']['comment_id']}').toggle();">{$this->lang->words['comment_hidden_content']}</span>
			</li>
			<if test="canUnhide:|:$r['comment']['_canUnhide']">
				<li><a href='{parse url="{$settings['baseUrl']}&amp;do=unhide&amp;comment_id={$r['comment']['comment_id']}&amp;auth_key={$this->member->form_hash}" base="public"}' title='{$this->lang->words['unhide_link']}'>{$this->lang->words['unhide_link']}</a></li>
			</if>
			<if test="canDelete:|:$r['comment']['_canDelete']">
				<li>
					<a href='{parse url="{$settings['baseUrl']}&amp;do=delete&amp;comment_id={$r['comment']['comment_id']}&amp;auth_key={$this->member->form_hash}" base="public"}' id='delete_comment_{$r['comment']['comment_id']}' class='delete_comment' title='{$this->lang->words['delete_comment']}'>{$this->lang->words['delete_link']}</a>
				</li>
			</if>
		</ul>
	</div>
</div>]]></template_content>
      <template_name>commentHidden</template_name>
      <template_data>$r, $parent, $settings</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_comments</template_group>
      <template_content><![CDATA[<script type='text/javascript'>
	ipb.templates['comment_moderation'] = new Template("<div id='comment_moderate_box' class='ipsFloatingAction' style='display: none'><span class='desc'>{$this->lang->words['comment_action_count']} </span><select name='modOptions' class='input_select' id='commentModAction'><option value='approve'>{$this->lang->words['approve_x_comments']}</option><option value='hide'>{$this->lang->words['hide_x_comments']}</option><option value='unhide'>{$this->lang->words['unhide_x_comments']}</option><option value='delete'>{$this->lang->words['delete_x_comments']}</option></select>&nbsp;&nbsp;<input type='button' class='input_submit' id='submitModAction' value='{$this->lang->words['comments_act_go']}' /></div>");
	
	ipb.templates['comment_delete'] = new Template("<h3>{$this->lang->words['comm_confirm_delete']}</h3><div class='ipsPad ipsForm_center desc'>{$this->lang->words['comm_confirm_delete_desc']}<br /><br /><input type='button' class='input_submit' id='delPush' onclick='ipb.comments.deleteIt(event)' value='{$this->lang->words['del_comm_now']}' />");
	
	ipb.templates['comment_hide'] = new Template("<form action='#{url}' method='post'><h3>{$this->lang->words['comm_confirm_hide']}</h3><div class='ipsPad ipsForm_center desc'>{$this->lang->words['comm_confirm_hide_desc']}<br /><br /><input type='text' name='reason' id='hidePop_reason' value='' class='input_text' style='width: 60%' /> <input type='submit' class='input_submit' value='{$this->lang->words['comm_confirm_hide']}' /></form>");
</script>
{parse js_module="comments"}
<a id='commentsStart'></a>
<if test="comments_top:|:$pages">
	<div class='topic_controls'>
		{$pages}
	</div>
</if>
<div class='ipsComment_wrap' id='comment_wrap'>
	<foreach loop="comments:$comments as $id => $r">
		<if test="$r['comment']['comment_approved'] == -1">
			{parse template="commentHidden" group="global_comments" params="$r, $parent, $settings"}
		<else />
			{parse template="comment" group="global_comments" params="$r, $parent, $settings"}
		</if>
	</foreach>
</div>
<if test="comments_bottom:|:$pages">
	<div class='topic_controls'>
		{$pages}
	</div>
</if>
<if test="allow_comments:|:$parent['_canComment']">
	<br />
	<a id="fastreply"></a>
	<div id='fast_reply' class='ipsComment_reply row2 ipsPad'>
		<form action="{$settings['formUrl']}" method="post">
			<input type="hidden" name="auth_key" value="{$this->member->form_hash}" />
			<input type="hidden" name="fromApp" value="{$settings['fromApp']}" />
			<input type="hidden" name="app" value="{$settings['formApp']}" />
			<input type="hidden" name="module" value="{$settings['formModule']}" />
			<input type="hidden" name="section" value="{$settings['formSection']}" />	
			<input type="hidden" name="do" value="add" />
			<input type="hidden" name="parentId" value="{$parent['parent_id']}" />
			<input type="hidden" name="fast_reply_used" value="1" />
			<div class='ipsComment_reply_user'>
				<img src='{$this->memberData['pp_small_photo']}' alt='{$this->lang->words['your_photo']}' class='ipsUserPhoto ipsUserPhoto_medium' />
			</div>
			<div id='commentReply' class='ipsComment_comment'>
				<if test="guestName:|:!$this->memberData['member_id']">
					<div id='commentName'>
						<label for='comment_name'>{$this->lang->words['yourname_captcha']}</label> <input type='text' id='comment_name' name='comment_name' class='input_text' />
						{$this->lang->words['or']} <a href='{parse url="app=core&amp;module=global&amp;section=login" base="public"}' title='{$this->lang->words['sign_in']}'>{$this->lang->words['sign_in']}</a>
					</div>
					<if test="hasCaptcha:|:$settings['captcha']">
						<div id='commentCaptcha' style='display:none;'>
							{$settings['captcha']}
						</div>
					</if>
				</if>
				{parse editor="Post" content="$preReply" options="array( 'type' => 'mini', 'minimize' => 1, 'autoSaveKey' => $settings['autoSaveKey'], 'warnInfo' => 'fastReply', 'editorName' => 'commentFastReply' )"}
				<br />
				<if test="!$this->memberData['unacknowledged_warnings'] and !$this->memberData['restrict_post']">
					<div id='commentButtons'>
						<input type='submit' name="submit" class='input_submit' id='commentPost' value='{$this->lang->words['comment_button_post']}' tabindex='0' accesskey='s' />
					</div>
				</if>
			</div>
		</form>
	</div>
</if>
<script type='text/javascript'>
	ipb.global.post_width			= 500;
	document.observe("dom:loaded", function(){
		ipb.comments.parentId = {parse expression="intval( $parent['parent_id'] )"};
		ipb.comments.setData( {parse expression="json_encode( $settings )"} );
	});
</script>]]></template_content>
      <template_name>commentsList</template_name>
      <template_data><![CDATA[$comments, $settings, $pages, $parent, $preReply='']]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_comments</template_group>
      <template_content><![CDATA[<if test="comment_errors:|:$errors">
	<p class='message error'>{$errors}</p>
</if>
<div class='post_form'>
	<form method="post" action="{$settings['formAction']}" name="REPLIER">
		<input type="hidden" name="auth_key" value="{$this->member->form_hash}" />
		<input type="hidden" name="fromApp" value="{$settings['fromApp']}" />
		<input type="hidden" name="app" value="{$settings['formApp']}" />
		<input type="hidden" name="module" value="{$settings['formModule']}" />
		<input type="hidden" name="section" value="{$settings['formSection']}" />	
		<input type="hidden" name="do" value="saveEdit" />
		<input type="hidden" name="parentId" value="{$parent['parent_id']}" />
		<input type="hidden" name="comment_id" value="{$comment['comment']['comment_id']}" />
		<input type="hidden" name="auth_key" value="{$this->member->form_hash}" />
		<input type="hidden" name="modcp" value="{$this->request['modcp']}" />
		
		<h3 class='maintitle'>
		<if test="isEditing:|:$do == 'saveEdit'">
			{$this->lang->words['edit_comment']} {$parent['parent_title']}
		</if>
		</h3>
		<div class='generic_bar'></div>
		
		<if test="guest_captcha:|:!$this->memberData['member_id'] AND $this->settings['guest_captcha'] AND $this->settings['bot_antispam_type'] != 'none'">
			<fieldset>
				<ul>
					<li class='field'>
						<label for=''>{$this->lang->words['guest_captcha']}</label>
					</li>
				</ul>
			</fieldset>
		</if>
		
		<fieldset>
			{$editor}
		</fieldset>
		<fieldset class='submit'>
			<input type="submit" name="submit" value="{$this->lang->words['comment_save']}" tabindex="0" class="input_submit" accesskey="s" /> {$this->lang->words['or']} <a href='{parse url="{$settings['baseUrl']}&amp;do=findComment&amp;comment_id={$comment['comment']['comment_id']}" base="public"}' class='cancel' title='{$this->lang->words['cancel']}'>{$this->lang->words['cancel']}</a>
		</fieldset>
	</form>
</div>]]></template_content>
      <template_name>form</template_name>
      <template_data><![CDATA[$comment, $parent, $editor="", $settings, $errors="", $do='saveEdit']]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_comments</template_group>
      <template_content><![CDATA[<php>
$pluginEditorHook = IPSLib::loadLibrary( IPS_ROOT_PATH . 'sources/classes/editor/composite.php', 'classes_editor_composite' );
$editor = new $pluginEditorHook();
$smilies	= $editor->fetchEmoticons( 20 );
$bypass		= $editor->getRteEnabled() ? 0 : 1;
$this->hasEditJs = true;
</php>
{parse template="editorLoadJs" group="editors" params="array( 'bypassCKEditor' => $bypass, 'smilies' => $smilies )"}]]></template_content>
      <template_name>getEditJs</template_name>
      <template_data/>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
  </templategroup>
  <templategroup group="skin_global_other">
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<h3>{$this->lang->words['ap_error']}</h3>
<div class='general_box'>
	<div>
		<if test="msg:|:$msg">
			$msg
		<else />
			{$this->lang->words['ap_np_msg']}
		</if>
	</div>
</div>]]></template_content>
      <template_name>ajaxPopUpNoPermission</template_name>
      <template_data><![CDATA[$msg='']]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<input type="hidden" id="regid" name="captcha_unique_id" value="{$captcha_unique_id}" />
<fieldset id='captcha' class='gd'>
	<ul class='ipsForm <if test="$this->request['section'] == 'register' || $this->request['section'] == 'lostpass'">ipsForm_horizontal<else />ipsForm_vertical</if>'>
		<li class='ipsField'>
			<label class='ipsField_title'>{$this->lang->words['glb_captcha_image']} <span class='ipsForm_required'>*</span></label>
			<div class='ipsField_content'>
				<p class='clearfix'>
					<img id='gd-antispam' class='antispam_img left' src='{$this->settings['base_url']}app=core&amp;module=global&amp;section=captcha&amp;do=showimage&amp;captcha_unique_id={$captcha_unique_id}' />
					<a href='#' id='gd-image-link' class='ipsButton_secondary left' title="{$this->lang->words['captcah_new']}"><img src='{$this->settings['img_url']}/icon_refresh.png' alt="{$this->lang->words['captcah_new']}" /></a>
				</p>
				<input type="text" class='input_text' size="36" maxlength="20" value="" name="captcha_string" tabindex='0' id='captcha_string' />
			</div>
		</li>
	</ul>
</fieldset>
<script type='text/javascript'>
	ipb.global.initGD();
	$('captcha_string').defaultize( "{$this->lang->words['captcha_string_enter']}" );
</script>]]></template_content>
      <template_name>captchaGD</template_name>
      <template_data>$captcha_unique_id</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<fieldset id='captcha' class='recaptcha'>
	<ul class='ipsForm <if test="$this->request['section'] == 'register' || $this->request['section'] == 'lostpass'">ipsForm_horizontal<else />ipsForm_vertical</if>'>
		<li class='ipsField'>
			<label class='ipsField_title'>{$this->lang->words['glb_captcha_image']} <span class='ipsForm_required'>*</span></label>
			<div class='ipsField_content'>
				{$html}
			</div>
		</li>
	</ul>
</fieldset>]]></template_content>
      <template_name>captchaRecaptcha</template_name>
      <template_data><![CDATA[$html=""]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<h1 class='ipsType_pagetitle'>{parse expression="sprintf( $this->lang->words['board_offline_desc'], $this->settings['board_name'])"}</h1>
<div class='ipsType_pagedesc'>{$message}</div>
<br /><br />
<p>
	<if test="isGuest:|:!$this->memberData['member_id']">
		<a href='{parse url="app=core&amp;module=global&amp;section=login" base="public"}' title='{$this->lang->words['attempt_login']}' class='ipsButton'>{$this->lang->words['click_login']}</a>
	<else />
		<a href='{parse url="app=core&amp;module=global&amp;section=login&amp;do=logout&amp;k={$this->member->form_hash}" base="public"}' title='{$this->lang->words['log_out']}' class='ipsButton_secondary'>{$this->lang->words['log_out']}</a>
	</if>
</p>]]></template_content>
      <template_name>displayBoardOffline</template_name>
      <template_data><![CDATA[$message=""]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"> 
	<head>
		<!-- THIS TEMPLATE (displayPopUpWindow) IS DEPRICATED AND WILL BE REMOVED IN A FUTURE VERSION -->
		<meta http-equiv="content-type" content="text/html; charset={$this->settings['gb_char_set']}" />
		<title>{$title}</title>
		<link rel="shortcut icon" href="favicon.ico" />
		<if test="hasimportcss:|:is_array( $css['import'] )">
			<if test="minifycss:|:$this->settings['use_minify']"><php>$this->minify = array();</php></if>
			<foreach loop="cssImport:$css['import'] as $data">
				<php>
					if( $this->settings['use_minify'] AND ( ! $data['attributes'] OR stripos( $data['attributes'], 'screen' ) !== false ) )
					{
						$this->minify[] = "{$data['content']}";
					}
				</php>
				<if test="donotminifycss:|:!$this->settings['use_minify'] OR ( $data['attributes'] AND stripos( $data['attributes'], 'screen' ) === false )">
					<link rel="stylesheet" type="text/css" {$data['attributes']} href="{$data['content']}?ipbv={$this->registry->output->antiCacheHash}" />
				</if>
			</foreach>
			<if test="csstominify:|:$this->settings['use_minify'] AND count($this->minify)">
				<link rel="stylesheet" type="text/css" media='screen,print' href="{$this->settings['css_base_url']}min/index.php?ipbv={$this->registry->output->antiCacheHash}&amp;f={parse expression="str_replace( $this->settings['css_base_url'], PUBLIC_DIRECTORY . '/', implode( ',', $this->minify ) )"}" />
			</if>
		</if>
		<if test="popupcssinline:|:is_array( $css['inline'] ) AND count( $css['inline'] )">
			<foreach loop="popupcssInline:$css['inline'] as $data">
			<style type="text/css" {$data['attributes']}>
				/* Inline CSS */
				{$data['content']}
			</style>
			</foreach>
		</if>
		<!--[if lte IE 7]>
			<link rel="stylesheet" type="text/css" title='Main' media="screen" href="{$this->settings['public_dir']}style_css/{$this->registry->output->skin['_csscacheid']}/ipb_ie.css" />
		<![endif]-->
		
		{parse template="includeRTL" group="global" params=""}	
		<if test="popupmetatags:|:is_array( $metaTags ) AND count( $metaTags )">
			<foreach loop="popupmetaTags:$metaTags as $tag => $content">
			<meta name="{$tag}" content="$content" />
			</foreach>
		</if>
		<script type='text/javascript'>
			jsDebug		= {parse expression="intval($this->settings['_jsDebug'])"}; /* Must come before JS includes */
			USE_RTE		= 1;
			var inACP	= false;
			var isRTL	= false;
			var rtlIe	= '';
			var rtlFull	= '';
		</script>
		<if test="popupminifyjs:|:$this->settings['use_minify']">
			<if test="popupminfyjsrl:|:$this->settings['remote_load_js']">
				<script type='text/javascript' src='<if test="popupminfiyrlhttpsp:|:$this->registry->output->isHTTPS">https<else />http</if>://ajax.googleapis.com/ajax/libs/prototype/1.7/prototype.js'></script>
				<script type='text/javascript' src='<if test="popupminfiyrlhttpss:|:$this->registry->output->isHTTPS">https<else />http</if>://ajax.googleapis.com/ajax/libs/scriptaculous/1.8/scriptaculous.js?load=effects,dragdrop,builder'></script>
			<else />
				<script type='text/javascript' src='{$this->settings['public_dir']}min/index.php?g=js'></script>
			</if>
			<script type='text/javascript' src='{$this->settings['public_dir']}min/index.php?f={parse expression="PUBLIC_DIRECTORY"}/js/ipb.js,{parse expression="PUBLIC_DIRECTORY"}/js/ips.quickpm.js<if test="popupjsmodules:|:count($jsLoaderItems) AND is_array($jsLoaderItems)">,{parse expression="PUBLIC_DIRECTORY"}/js/ips.{parse expression="implode('.js,' . PUBLIC_DIRECTORY . '/js/ips.', array_unique( array_keys( $jsLoaderItems ) ) )"}.js</if>,cache/lang_cache/{$this->lang->lang_id}/ipb.lang.js'></script>
		<else />
			<if test="popuprl:|:$this->settings['remote_load_js']">
				<script type='text/javascript' src='<if test="popuphttpsp:|:$this->registry->output->isHTTPS">https<else />http</if>://ajax.googleapis.com/ajax/libs/prototype/1.7/prototype.js'></script>
			<else />
				<script type='text/javascript' src='{$this->settings['public_dir']}js/3rd_party/prototype.js'></script>
			</if>
			<script type='text/javascript' src='{$this->settings['public_dir']}js/ipb.js?load=quickpm<if test="popupjsmodules:|:count($jsLoaderItems) AND is_array($jsLoaderItems)">,{parse expression="implode(',', array_unique( array_keys( $jsLoaderItems ) ) )"}</if>'></script>
			
			<if test="popuprl2:|:$this->settings['remote_load_js']">
				<script type='text/javascript' src='<if test="popuphttpss:|:$this->registry->output->isHTTPS">https<else />http</if>://ajax.googleapis.com/ajax/libs/scriptaculous/1.8/scriptaculous.js?load=effects,dragdrop,builder'></script>
			<else />
				<script type='text/javascript' src='{$this->settings['public_dir']}js/3rd_party/scriptaculous/scriptaculous-cache.js'></script>
			</if>
			<script type="text/javascript" src='{$this->settings['cache_dir']}lang_cache/{$this->member->language_id}/ipb.lang.js'></script>
		</if>
		<if test="popupdocumenthead:|:count($documentHeadItems)">
			<foreach loop="popupheaditemtype:$documentHeadItems as $type => $idx">
				<foreach loop="popupdocumentHeadItems:$documentHeadItems[ $type ] as $idx => $data">
					<if test="popupjavascript:|:$type == 'javascript'">
						<script type="text/javascript" src="{$data}" charset="<% CHARSET %>"></script>
					</if>
					<if test="popuprss:|:$type == 'rss'">
						<link rel="alternate feed" type="application/rss+xml" title="{$data['title']}" href="{$data['url']}" />
					</if>
					<if test="popuprss:|:$type == 'rsd'">
						<link rel="EditURI" type="application/rsd+xml" title="{$data['title']}" href="{$data['url']}" />
					</if>
					<if test="popupraw:|:$type == 'raw'">
						{$data}
					</if>
				</foreach>
			</foreach>
		</if>
		
		<script type='text/javascript'>
		//<!#^#|CDATA|
			/* ---- URLs ---- */
			ipb.vars['base_url'] 			= '{parse url="" base="public"}';
			ipb.vars['board_url']			= '{$this->settings['board_url']}';
			ipb.vars['loading_img'] 		= '{$this->settings['img_url']}/loading.gif';
			ipb.vars['active_app']			= '{$this->registry->getCurrentApplication()}';
			ipb.vars['upload_url']			= '{$this->settings['upload_url']}';
			/* ---- Member ---- */
			ipb.vars['member_id']			= parseInt( {$this->memberData['member_id']} ),
			ipb.vars['is_supmod']			= parseInt( {parse expression="intval($this->memberData['g_is_supmod'])"} ),
			ipb.vars['is_admin']			= parseInt( {$this->memberData['g_access_cp']} ),
			ipb.vars['secure_hash'] 		= '{$this->member->form_hash}';
			ipb.vars['session_id']			= '{$this->member->session_id}';
			ipb.vars['can_befriend']		= <if test="popupbefriend:|:$this->settings['friends_enabled'] AND $this->memberData['g_can_add_friends']">true<else />false</if>;
			ipb.vars['auto_dst']			= parseInt( {$this->memberData['members_auto_dst']} );
			ipb.vars['dst_in_use']			= parseInt( {$this->memberData['dst_in_use']} );
			ipb.vars['is_touch']			= <if test="istl:|:$this->registry->output->isLargeTouchDevice()">'large';<else /><if test="istm:|:$this->registry->output->isSmallTouchDevice()">'small';<else />false;</if></if>
			ipb.vars['member_group']		= {parse expression="json_encode( array( 'g_mem_info' => $this->memberData['g_mem_info'] ) )"}
			/* ---- cookies ----- */
			ipb.vars['cookie_id'] 			= '{$this->settings['cookie_id']}';
			ipb.vars['cookie_domain'] 		= '{$this->settings['cookie_domain']}';
			ipb.vars['cookie_path']			= '{$this->settings['cookie_path']}';
			/* ---- Rate imgs ---- */
			ipb.vars['rate_img_on']			= '{$this->settings['img_url']}/bullet_star.png';
			ipb.vars['rate_img_off']		= '{$this->settings['img_url']}/bullet_star_off.png';
			ipb.vars['rate_img_rated']		= '{$this->settings['img_url']}/bullet_star_rated.png';
			/* ---- Uploads ---- */
			ipb.vars['swfupload_swf']		= '{parse url="js/3rd_party/swfupload/swfupload.swf" base="public_dir" httpauth="true"}';
			ipb.vars['swfupload_enabled']	= <if test="popupswfupload:|:$this->settings['uploadFormType']">true<else />false</if>;
			ipb.vars['use_swf_upload']		= ( '{$this->memberData['member_uploader']}' == 'flash' ) ? true : false;
			ipb.vars['swfupload_debug']		= false;
			/* ---- other ---- */
			ipb.vars['highlight_color']		= "#ade57a";
			ipb.vars['charset']				= "{$this->settings['gb_char_set']}";
			ipb.vars['use_rte']				= 1;
			ipb.vars['image_resize_force']  = {parse expression="intval($this->settings['resize_img_force'])"};
			ipb.vars['seo_enabled']			= {parse expression="intval($this->settings['use_friendly_urls'])"};
			<if test="popupfurl:|:$this->settings['use_friendly_urls']">
			ipb.vars['seo_params']			= {parse expression="json_encode($this->registry->getClass('output')->seoTemplates['__data__'])"};
			</if>
			/* Templates/Language */
			ipb.templates['ajax_loading'] 	= "<div id='ajax_loading'>" + ipb.lang['loading'] + "</div>";
			ipb.templates['close_popup']	= "<img src='{$this->settings['img_url']}/close_popup.png' alt='x' />";
			ipb.templates['rss_shell']		= new Template("<ul id='rss_menu'>#{items}</ul>");
			ipb.templates['rss_item']		= new Template("<li><a href='#{url}' title='#{title}'>#{title}</a></li>");
			ipb.templates['resized_img']	= new Template("<span>{$this->lang->words['resized_image']}</span>");
			<if test="$this->memberData['member_id']">
				ipb.templates['m_add_friend']	= new Template("<a href='{parse url="app=members&amp;module=profile&amp;section=friends&amp;do=add&amp;member_id=#{id}" base="public"}' title='{$this->lang->words['add_friend']}'>{parse replacement="add_friend"}</a>");
				ipb.templates['m_rem_friend']	= new Template("<a href='{parse url="app=members&amp;module=profile&amp;section=friends&amp;do=remove&amp;member_id=#{id}" base="public"}' title='{$this->lang->words['remove_friend']}'>{parse replacement="remove_friend"}</a>");
			</if>
			ipb.templates['autocomplete_wrap'] = new Template("<ul id='#{id}' class='ipb_autocomplete' style='width: 250px;'></ul>");
			ipb.templates['autocomplete_item'] = new Template("<li id='#{id}' data-url='#{url}'><img src='#{img}' alt='' width='#{img_w}' height='#{img_h}' />&nbsp;&nbsp;#{itemvalue}</li>");
			ipb.templates['page_jump']		= new Template("<div id='#{id}_wrap' class='ipbmenu_content'><h3 class='bar'>{$this->lang->words['global_page_jump']}</h3><input type='text' class='input_text' id='#{id}_input' size='8' /> <input type='submit' value='{$this->lang->words['jmp_go']}' class='input_submit add_folder' id='#{id}_submit' /></div>");
			Loader.boot();
		//|#^#]>
		</script>
	</head>
	<body id='ipboard_body' style='padding: 20px'>
		<div id='ipbwrapper'>
			{$output}
		</div>
	</body>
</html>]]></template_content>
      <template_name>displayPopUpWindow</template_name>
      <template_data><![CDATA[$documentHeadItems, $css, $jsLoaderItems, $title="", $output=""]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<script type="text/javascript">
<!--
function contact_admin() {
  // Very basic spam bot stopper
  admin_email_one = '{$ad_email_one}';
  admin_email_two = '{$ad_email_two}';
  window.location = 'mailto:'+admin_email_one+'@'+admin_email_two+'?subject={$this->lang->words['mailto_erroronforums']}';  
}
//-->
</script>
<br />
<h1 class='ipsType_pagetitle'>{$title}</h1>
<br />
<div class='ipsBox'>
	<div class='ipsBox_container ipsPad'>
		<span class="right desc ipsType_smaller ipsPad_top"><if test="haserrorcode:|:$code">[#{$code}] </if></span>
		<p class='ipsType_sectiontitle'>
			{$message}
		</p>
		<br />
		<p>{$this->lang->words['er_useful_links']}</p>
		<ul class='ipsPad_top bullets'>
			<if test="! $this->memberData['member_id']">
				<li><a href='{parse url="app=core&amp;module=global&amp;section=login" base="public"}' title='{$this->lang->words['submit_li']}'>{$this->lang->words['click_login']}</a></li>
			</if>
			<li><a href="{parse url="app=core&module=help" base="public"}" rel="help" title='{$this->lang->words['er_help_files']}'>{$this->lang->words['er_help_files']}</a></li>
			<li><a href="javascript:contact_admin();" title='{$this->lang->words['er_contact_admin']}'>{$this->lang->words['er_contact_admin']}</a></li>
		</ul>
	</div>
</div>
<if test="savedpost:|: $_POST['Post']">
	<br />
	<br />
	<h2 class='ipsType_subtitle'>{$this->lang->words['err_title']}</h2><br />
	<div class='ipsBox'>
		<div class='ipsBox_container ipsPad'>
			{$this->lang->words['err_expl']}<br />
			<br />
			{parse editor="Post" content="" options="array( 'editorName' => 'Post', 'type' => 'full', 'minimize' => 0, 'recover' => TRUE )"}
		</div>
	</div>
<br />
</if>]]></template_content>
      <template_name>Error</template_name>
      <template_data><![CDATA[$message="",$code=0,$ad_email_one="",$ad_email_two="", $title=""]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<div class='ipsForm_center'>
	<br />
	<strong>{$this->lang->words['facebook_post_ok']}</strong>
	<br />
	<br />
	<br />
	<br />
</div>]]></template_content>
      <template_name>facebookDone</template_name>
      <template_data>$user</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<h3>{$this->lang->words['share_via_facebook']}</h3>
<div class='fixed_inner'>
	<div class='ipsPad'><fb:like href="" id="fbLikeButton" layout="standard" show_faces="false" width="350" height="45" action="like" colorscheme="light" /></div>
	<if test="hasFbConnected:|:$user['id']">
		<ul class='ipsList_withminiphoto' id="fParent">
			<li class='clearfix ipsPad_half'>
				<img src='{$user['pic_square']}' class='left ipsUserPhoto ipsUserPhoto_small'/>
				<img src="{$this->settings['public_dir']}style_status/facebook.png" class='left' style='margin-top: -2px; margin-left: -12px;'/>
				<div class='list_content' style='margin-left:58px' id='fWrap' >
					<textarea class='input_text' rows='3' cols='10' name='fContent' style='width: 97%;' id='fContent'></textarea>
					<div>
						<div class='right clear'>
							<input type='button' id='fSubmit' class='input_submit' value='{$this->lang->words['facebook_share']}' />
						</div>
						<div class='ipsType_smaller desc'>{$this->lang->words['share_fb_name']} {$user['first_name']} {$user['last_name']}</div>
					</div>
					
				</div>
			</li>
		</ul>
	<else />
		<div class='ipsPad ipsForm_center'><a href="{$this->settings['_original_base_url']}/interface/facebook/index.php"><img src="{$this->settings['img_url']}/facebook_login.png" alt="" /></a></div>
	</if>
	<div id="fb-root"></div>
	<script>
		window.fbAsyncInit = function() {
			FB.init({appId: '{$this->settings['fbc_appid']}', status: true, cookie: true, xfbml: true});
			if ( $('fParent') )
			{
				FB.Event.subscribe('edge.create', function(response) {
	 				new Effect.Fade( $('fParent'), { duration: 0.2 } );
				});
						
				FB.Event.subscribe('edge.remove', function(response) {
	 				new Effect.Appear( $('fParent'), { duration: 0.2 } );
				});
			}
		};
		(function() {
			var e = document.createElement('script'); e.async = true;
		    e.src = document.location.protocol + '//connect.facebook.net/{$this->settings['fb_locale']}/all.js';
			document.getElementById('fb-root').appendChild(e);
				    
			$('fbLikeButton').writeAttribute('href', $('ipsCanonical').readAttribute('href') );
			
			if ( $('fContent') )
			{
				$('fContent').defaultize('{$this->lang->words['fb_share_default']}');
			}
		}());
	</script>
</div>]]></template_content>
      <template_name>facebookPop</template_name>
      <template_data>$user=array()</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<form action="{parse url="app=core&amp;module=global&amp;section=like&amp;do=doUnsubscribe" base="public"}" method="post">
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='like_rel_id' value='{$data[ $this->memberData['member_id'] ]['like_rel_id']}' />
<input type='hidden' name='like_area' value='{$data[ $this->memberData['member_id'] ]['like_area']}' />
<input type='hidden' name='like_app' value='{$data[ $this->memberData['member_id'] ]['like_app']}' />
<input type='hidden' name='like_id' value='{$data[ $this->memberData['member_id'] ]['like_id']}' />
<h3 class='maintitle'>{$this->lang->words['pg_unfollow_title']}</h3>
<div class='ipsBox'>
	<div class='ipsBox_container ipsPad_double ipsType_textblock'>
		{parse expression="sprintf( $this->lang->words['pg_unfollow_text'], $data[ $this->memberData['member_id'] ]['members_display_name'], $meta['like.url'], $meta['like.title'] )"}
		<br />
		<br />
		<p>
			<input type="submit" value="{$this->lang->words['pg_unfollow_confirm']}" class='ipsButton'>
			{$this->lang->words['or']}
			<a href='{parse url="app=core&amp;module=search&amp;do=followed" base="public"}' title='{$this->lang->words['cancel']}' class='cancel' tabindex='0'>{$this->lang->words['cancel']}</a>
		</p>
	</div>
</div>
</form>]]></template_content>
      <template_name>followUnsubscribe</template_name>
      <template_data>$data, $meta</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<if test="topicIsMoved:|:$imgArray['is_moved']">
	<span title="{$this->lang->words['pm_moved']}">{parse replacement="t_moved"}</span>
</if>
<if test="topicIsClosed:|:$imgArray['is_closed']">
	<span title="{$this->lang->words['pm_locked']}">{parse replacement="t_closed"}</span>
</if>
<if test="topicReadDot:|:$imgArray['show_dot'] && empty( $unreadUrl )">{parse replacement="t_read_dot"}</if>
<if test="gotolatestwrap:|: ! empty( $unreadUrl ) && ! $imgArray['is_moved']">
	<a href='{$unreadUrl}' title='{$this->lang->words['first_unread_post']}'>
	<if test="topicUnreadDot:|:$imgArray['show_dot']">
		{parse replacement="t_unread_dot"}
	<else />
		{parse replacement="t_unread"}
	</if>
	</a>
</if>]]></template_content>
      <template_name>generateTopicIcon</template_name>
      <template_data>$imgArray, $unreadUrl</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<!DOCTYPE html>
	<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"<if test="fbcenabled:|:IPSLib::fbc_enabled() === TRUE"> xmlns:fb="http://www.facebook.com/2008/fbml"</if>>
	<head>
		<meta http-equiv="content-type" content="text/html; charset={$this->settings['gb_char_set']}" />
		<title>{$header_items['title']}<if test="pagenumberintitle:|:$header_items['page']"> {$this->lang->words['page_title_page']} {$header_items['page']}</if></title>
		<link rel="shortcut icon" href='<if test="$this->registry->output->isHTTPS">{$this->settings['board_url_https']}<else />{$this->settings['board_url']}</if>/favicon.ico' />
		<link rel="image_src" href='{$this->settings['meta_imagesrc']}' />
		<script type='text/javascript'>
		//<!#^#|CDATA|
			jsDebug			= {parse expression="intval($this->settings['_jsDebug'])"}; /* Must come before JS includes */
			USE_RTE			= 1;
			DISABLE_AJAX	= parseInt({$this->settings['disable_text_ajax']}); /* Disables ajax requests where text is sent to the DB; helpful for charset issues */
			inACP			= false;
			var isRTL		= false;
			var rtlIe		= '';
			var rtlFull		= '';
		//|#^#]>
		</script>
		{parse template="includeCSS" group="global" params="$css"}
		{parse template="includeMeta" group="global" params="$metaTags"}
		<meta property="og:title" content="{IPSText::htmlspecialchars( str_replace( ' - ' . $this->settings['board_name'], '', $header_items['title'] ) )}"/>
		<meta property="og:site_name" content="{IPSText::htmlspecialchars( $this->settings['board_name'] )}"/>
		<meta property="og:image" content="{$this->settings['meta_imagesrc']}"/>
		<if test="isLargeTouch:|:$this->registry->output->isLargeTouchDevice()">
		<meta name="viewport" content="width=1024px; initial-scale=1.0; minimum-scale=1.0;">
		</if>
		<if test="isSmallTouch:|:$this->registry->output->isSmallTouchDevice()">
		<meta name="viewport" content="width=1024px">
		</if>
		{parse template="includeJS" group="global" params="$jsModules"}
		{parse template="includeFeeds" group="global" params="$documentHeadItems"}
		{parse template="includeRTL" group="global" params=""}		
		{parse template="includeVars" group="global" params="$header_items"}
	</head>
	<body id='ipboard_body' class='minimal'>
		<p id='content_jump' class='hide'><a id='top'></a><a href='#j_content' title='{$this->lang->words['jump_to_content']}' accesskey='m'>{$this->lang->words['jump_to_content']}</a></p>
		<div id='ipbwrapper'>		
			<div id='content' class='clearfix'>
				{$items['adHeaderCode']}
				<if test="mainpageContent:|:$html">{$html}</if>
				{$items['adFooterCode']}
			</div>
			<div id='footer_utilities' class='main_width clearfix clear'>
				{$footer_items['copyright']}
			</div>
			<if test="showdebuglevel:|:$this->memberData['member_id'] and $this->settings['debug_level']">
				<div id='ipsDebug_footer'>
					<strong>{$this->lang->words['time_now']}</strong> {$footer_items['time']}
					<if test="lastvisit:|:$this->memberData['member_id'] AND $this->memberData['last_visit']"><strong>{$this->lang->words['you_last_visit']}</strong> {parse date="$this->memberData['last_visit']" format="short"}</if>
					<strong>{$this->lang->words['stat_exec']}</strong> {$stats['ex_time']} <if test="isfloat:|:is_float($stats['ex_time'])">{$this->lang->words['stats_sec']}</if>
					<strong>{$this->lang->words['stat_load']}</strong> {$stats['server_load']}
					<strong>{$this->lang->words['stat_queries']}</strong> {$stats['queries']} <if test="sqldebuglink:|:IPS_SQL_DEBUG_MODE"><a href='{parse url="{$this->settings['query_string_safe']}&amp;debug=1" base="public"}'></if>{$this->lang->words['stats_queries']}<if test="closesqldebuglink:|:IPS_SQL_DEBUG_MODE"></a></if>
					<strong>{$this->lang->words['stat_gzip']}</strong> {$stats['gzip_status']}
				</div>
			</if>
			{$stats['task']}
		</div>
		
		<!--DEBUG_STATS-->
	</body>
</html>]]></template_content>
      <template_name>globalTemplateMinimal</template_name>
      <template_data>$html, $documentHeadItems, $css, $jsModules, $metaTags, array $header_items, $items=array(), $footer_items=array(), $stats=array()</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<h4 class='ipsType_sectiontitle'>{$this->lang->words['inbox_at_the_top']}<p class='ipsPad_half ipsType_smaller right'><a href='{parse url="app=members&amp;module=messaging" base="public"}' class='configure'>{$this->lang->words['inbox_list_view']}</a> &middot; <a href='{parse url="module=messaging&amp;section=send&amp;do=form" base="publicWithApp"}' title='{$this->lang->words['compose_new']}'>{$this->lang->words['compose_new']}</a></p></h4>
<ul class='ipsList_withminiphoto'>
	<if test="hasTopics:|:count($topics)">
		<foreach loop="loopynotify:$topics as $topic">
		<li class='<if test="$topic['map_has_unread']">unread</if> ipsType_small clearfix'>
			<img src='{$topic['_starterMemberData']['pp_mini_photo']}' alt="{parse expression="sprintf($this->lang->words['users_photo'],$topic['_starterMemberData']['members_display_name'])"}" class='ipsUserPhoto ipsUserPhoto_mini left' />
			<div class='list_content'>
				<a href='{parse url="app=members&amp;module=messaging&amp;section=view&amp;do=findMessage&amp;topicID={$topic['mt_id']}&amp;msgID=__firstUnread__" base="public"}'>
				<if test="$topic['map_has_unread']"><strong></if>{$topic['mt_title']}<if test="$topic['map_has_unread']"></strong></if>
				</a>
				<br />
				<span class='ipsType_smaller desc lighter'>{$topic['_starterMemberData']['members_display_name']} - {parse date="$topic['msg_date']" format="short"}</span>
			</div>
		</li>
		</foreach>
	<else />
		<li class='row1 ipsPad_half ipsType_smaller'>{$this->lang->words['inbox_list_none']}</li>
	</if>
</ul>]]></template_content>
      <template_name>inboxList</template_name>
      <template_data>$topics</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<html>
<head>
</head>
<body>
<script type='text/javascript'>
	parent.ipb.inlineUploader.complete( $json );
</script>
</body>
</html>]]></template_content>
      <template_name>inlineUploaderComplete</template_name>
      <template_data>$json</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<h3>{$this->lang->words['followed_by']}</h3>
<div class='likepop fixed_inner'>
	<if test="hasVisibleEntries:|:is_array($data) && count($data)">
		<ul class='ipsList_withminiphoto'>
			<foreach loop="$data as $mid => $data">
				<li class='clearfix ipsPad_half <if test="$data['like_is_anon']">faded</if>'>
					<a href='{parse url="showuser={$data['member_id']}" seotitle="{$data['members_seo_name']}" template="showuser" base="public"}' title='{$this->lang->words['view_profile']}' class='ipsUserPhotoLink left'>
						<img src='{$data['pp_small_photo']}' class='ipsUserPhoto ipsUserPhoto_mini' />
					</a>
					<div class='list_content'>
						<a href='{parse url="showuser={$data['member_id']}" seotitle="{$data['members_seo_name']}" template="showuser" base="public"}' title='{$this->lang->words['view_profile']}'><strong>{$data['members_display_name']}</strong></a>
						<if test="$data['like_is_anon']"><em class='desc'>{$this->lang->words['followed_anonymously']}</em></if>
						<p class='desc'>
							{parse expression="IPSMember::makeNameFormatted( $data['g_title'], $data['g_id'] )"}
						</p>
					</div>
				</li>
			</foreach>
		</ul>
	</if>
	<if test="hasAnonEntries:|:$cache['anonCount']">
		<p class='desc ipsPad ipsForm_center'>
			(<if test="count( $data )">{$this->lang->words['fave_and']}</if> {parse expression="sprintf( ($cache['anonCount'] > 1) ? $this->lang->words['follow_anon_count_p'] : $this->lang->words['follow_anon_count_s'], $cache['anonCount'] )"})
		</p>
	</if>
</div>]]></template_content>
      <template_name>likeMoreDialogue</template_name>
      <template_data>$data, $relId, $cache</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<h3>{parse expression="$this->lang->words['like_ucfirst_' . $data['vernacular'] ]"}</h3>
<fieldset class='ipsPad ipsForm ipsForm_vertical'>
	<ul>
		<li class='ipsField ipsField_checkbox'>
			<input type="checkbox" name="notify" id="like_notify" class="input_check" value="1" checked='checked' />
			<p class='ipsField_content'>
				<label for="like_notify">{$this->lang->words['label_notify']}</label>
				<select name="freq" id="like_freq" class="input_select">
					<foreach loop="$data['frequencies'] as $freq">
						<option value="$freq">{$this->lang->words[ 'freq_' . $freq ]}</option>
					</foreach>
				</select>
			</p>
		</li>
		<li class='ipsField ipsField_checkbox'>
			<input type="checkbox" name="anon" id="like_anon" class="input_check" value="1" />
			<p class='ipsField_content'>
				<label for="like_anon">{$this->lang->words['label_anon']}<br /><span class='desc lighter'>{$this->lang->words['label_anon_desc']}</span></label>
			</p>
		</li>
		<li class="submit ipsForm_center">
			<input type="submit" value="{parse expression="sprintf( $this->lang->words['set_fave_button'], $this->lang->words['like_ucfirst_' . $data['vernacular'] ])"}" class="input_submit _fsubmit" />
		</li>
</fieldset>]]></template_content>
      <template_name>likeSetDialogue</template_name>
      <template_data>$app, $area, $relid, $data</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[{parse js_module="like"}
<div class='ips_like' data-app="{$data['app']}" data-area="{$data['area']}" data-relid="{$relId}" data-isfave="{$data['iLike']}">
	{parse template="likeSummaryContents" group="global_other" params="$data, $relId, $opts"}
</div>
<script type="text/javascript">
	var FAVE_TEMPLATE = new Template( "<h3>{parse expression="sprintf( $this->lang->words['unset_fave_title'], $this->lang->words['like_ucfirst_un' . $data['vernacular'] ])"}</h3><div><span class='desc'>{parse expression="sprintf( $this->lang->words['unset_fave_words'], $this->lang->words['like_un' . $data['vernacular'] ])"}</span><br /><p style='text-align:right'><input type='button' value='{parse expression="sprintf( $this->lang->words['unset_button'], $this->lang->words['like_ucfirst_un' . $data['vernacular'] ])"}' class='input_submit _funset' /></p></div>");
</script>]]></template_content>
      <template_name>likeSummary</template_name>
      <template_data>$data, $relId, $opts</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<if test="$data['formatted']">{$data['formatted']}<else />&nbsp;</if>
<if test="likeOnlyMembers:|:$this->memberData['member_id']">
	<a href='#' title="<if test="$data['iLike']">{parse expression="sprintf( $this->lang->words['fave_tt_on'], $this->lang->words['like_ucfirst_un' . $data['vernacular'] ])"}<else />{parse expression="sprintf( $this->lang->words['fave_tt_off'], $this->lang->words['like_ucfirst_' . $data['vernacular'] ])"}</if>" class='ftoggle <if test="$data['iLike']"> on</if><if test="$opts['button-new-line']"> _newline</if>'><if test="$data['iLike']">{parse expression="sprintf( $this->lang->words['unset_fave_button'], $this->lang->words['like_ucfirst_un' . $data['vernacular'] ])"}<else />{parse expression="sprintf( $this->lang->words['set_fave_button'], $this->lang->words['like_ucfirst_' . $data['vernacular'] ])"}</if></a>
</if>]]></template_content>
      <template_name>likeSummaryContents</template_name>
      <template_data>$data, $relId, $opts=array()</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<h4 class='ipsType_sectiontitle'>{$this->lang->words['notifications_at_the_top']}
	<p class='ipsPad_half ipsType_smaller right'>
	<a href='{parse url="app=core&amp;module=usercp&amp;tab=core&amp;area=notificationlog" base="public"}' class='configure'>{$this->lang->words['notifications_viewall']}</a>
	&middot; <a href='{parse url="app=core&amp;module=usercp&amp;tab=core&amp;area=notifications" base="public"}' class='configure'>{$this->lang->words['generic_opts_link']}</a>
	</p>
</h4>
<ul class='ipsList_withminiphoto'>
	<if test="hasnotifications:|:count($notifications)">
		<foreach loop="loopynotify:$notifications as $notify">
		<li class='<if test="!$notify['notify_read']">unread</if> ipsType_small clearfix'>
			<img src='{$notify['member']['pp_mini_photo']}' alt="{parse expression="sprintf($this->lang->words['users_photo'],$notify['member']['members_display_name'])"}" class='ipsUserPhoto ipsUserPhoto_mini left' />
			<div class='list_content'>
				<if test="strpos( $notify['notify_title'], '<a href' ) === false">
					<a href='{parse url="app=core&amp;module=usercp&amp;tab=core&amp;area=viewNotification&amp;do=view&amp;view={$notify['notify_id']}" base="public"}'>
				</if>
				<if test="!$notify['notify_read']"><strong></if>{$notify['notify_title']}<if test="!$notify['notify_read']"></strong></if>
				<if test="strpos( $notify['notify_title'], '<a href' ) === false">
					</a>
				</if>
				<br />
				<span class='ipsType_smaller desc lighter'>{parse date="$notify['notify_sent']" format="short"}</span>
			</div>
		</li>
		</foreach>
	<else />
		<li class='desc'>{$this->lang->words['nonotifications_list']}</li>
	</if>
</ul>]]></template_content>
      <template_name>notificationsList</template_name>
      <template_data>$notifications</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<h2 class='ipsType_pagetitle'>{$title}</h2>
<div class='row2 ipsPad' style='line-height: 1.6'>
	{$text}
</div>]]></template_content>
      <template_name>privacyPolicy</template_name>
      <template_data>$title, $text</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<fieldset id='q_n_a'>	
	<input type="hidden" name="qanda_id" value="{$data['qa_id']}" />
	<ul class='ipsForm ipsForm_horizontal'>
		<li class='ipsField'>
			<label for='qna' class='ipsField_title'>{$this->lang->words['registration_question']} <span class='ipsForm_required'>*</span></label>
			<div class='ipsField_content'>
				<strong>{$data['qa_question']}</strong><br />
				<input type="text" class='input_text' size="45" maxlength="100" value="<if test="qadefault:|:$this->request['qanda_id'] AND $this->request['qanda_id']==$data['qa_id']">{$this->request['qa_answer']}</if>" name="qa_answer" id='qna' tabindex='0' /><br />
				<span class='desc lighter'>{$this->lang->words['qa_question_desc']}</span>
			</div>
		</li>
	</ul>
</fieldset>]]></template_content>
      <template_name>questionAndAnswer</template_name>
      <template_data>$data</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<h3>{$this->lang->words['navigation_title']}</h3>
<div class='fixed_inner ipsBox'>
	<div class='message error'><strong>{$this->lang->words['board_offline_desc']}</strong><br /><br />{$message}</div>
</div>]]></template_content>
      <template_name>quickNavigationOffline</template_name>
      <template_data>$message</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<div>
	<foreach loop="outer:$data as $_data">
		<if test="hasTitle:|: ! empty( $_data['title'] )"><div class='ipsPad row2'><strong>{$_data['title']}</strong></div></if>
		<ul class='block_list'>
		<if test="linksisarray:|:is_array($_data['links']) AND count($_data['links'])">
			<foreach loop="innerAgain:$_data['links'] as $link">
		 		<li><if test="depth:|:!empty($link['depth'])">{parse expression="str_repeat( '&nbsp;&nbsp;&nbsp;&nbsp;', $link['depth'])"}</if><a <if test="important:|:!empty($link['important'])">style="font-weight:bold"</if> href="{$link['url']}">{$link['title']}</a></li>
			</foreach>
		</if>
		</ul>
	</foreach>
</div>]]></template_content>
      <template_name>quickNavigationPanel</template_name>
      <template_data><![CDATA[$data=array(), $currentApp='']]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<h3>{$this->lang->words['navigation_title']}</h3>
<div class='fixed_inner ipsBox'>
	<if test="isLargeTouch:|:$this->registry->output->isLargeTouchDevice()">
		<div class='message' style='margin-bottom: 5px;'>{$this->lang->words['scroll_tip']}</div>
	</if>
	<div class='ipsVerticalTabbed ipsLayout ipsLayout_withleft ipsLayout_smallleft clearfix'>
		<div class='ipsVerticalTabbed_tabs ipsLayout_left'>		
			<ul>
				<foreach loop="navTabs:$tabs as $app => $title">
					<li <if test="active:|:$app == $currentApp">class='active'</if>><a href='{parse url="app=core&amp;module=global&amp;section=navigation&amp;inapp={$app}" base="public"}' rel="ipsQuickNav" data-app="{$app}">{$title}</a></li>
				</foreach>
			</ul>
		</div>
	
		<div class='ipsVerticalTabbed_content ipsLayout_content ipsBox_container' style='position: relative' id='ipsNav_content'>
			{parse template="quickNavigationPanel" group="global_other" params="$data, $currentApp"}
		</div>
	</div>
</div>]]></template_content>
      <template_name>quickNavigationWrapper</template_name>
      <template_data><![CDATA[$tabs=array(), $data=array(), $currentApp='']]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"> 
	<head>
	    <meta http-equiv="content-type" content="text/html; charset=<% CHARSET %>" /> 
		<title>{$this->lang->words['stand_by']}</title>
		<if test="redirectfull:|:$full==true">
			<meta http-equiv="refresh" content="2; url={parse url="$url" base="none"}" />
		<else />
			<meta http-equiv="refresh" content="2; url={parse url="$url" base="public"}" />
		</if>
		<link rel="shortcut icon" href='<if test="$this->registry->output->isHTTPS">{$this->settings['board_url_https']}<else />{$this->settings['board_url']}</if>/favicon.ico' />
		<if test="redirectcssimport:|:is_array( $css['import'] )">
			<foreach loop="redirectcssImport:$css['import'] as $data">
				<link rel="stylesheet" type="text/css" {$data['attributes']} href="{$data['content']}">
			</foreach>
		</if>
		<if test="redirectcssinline:|:is_array( $css['inline'] ) AND count( $css['inline'] )">
			<foreach loop="redirctcssInline:$css['inline'] as $data">
				<style type="text/css" {$data['attributes']}>
					/* Inline CSS */
					{$data['content']}
				</style>
			</foreach>
		</if>
		<!--[if lte IE 7]>
			<link rel="stylesheet" type="text/css" title='Main' media="screen" href="{$this->settings['public_dir']}style_css/{$this->registry->output->skin['_csscacheid']}/ipb_ie.css" />
		<![endif]-->
		
		{parse template="includeRTL" group="global" params=""}	
		<script type='text/javascript'>
			jsDebug		= 0; /* Must come before JS includes */
			var isRTL	= false;
			var rtlIe	= '';
			var rtlFull	= '';
		</script>
		<if test="redirectdh:|:count($documentHeadItems)">
			<foreach loop="redirectdocumentHeadItems:$documentHeadItems as $type => $idx">
				<foreach loop="redirectdocumentHeadItemsSub:$documentHeadItems[ $type ] as $idx => $data">
					<if test="redirectjs:|:$type == 'javascript'">
						<script type="text/javascript" src="{$data}" charset="<% CHARSET %>"></script>
					</if>
					<if test="redirectrss:|:$type == 'rss'">
						<link rel="alternate" type="application/rss+xml" title="{$data['title']}" href="{$data['url']}" />
					</if>
					<if test="redirectrsd:|:$type == 'rsd'">
						<link rel="EditURI" type="application/rsd+xml" title="{$data['title']}" href="{$data['url']}" />
					</if>
					<if test="redirectraw:|:$type == 'raw'">
						$data
					</if>
				</foreach>
			</foreach>
		</if>
		<!--/CSS-->
		<script type='text/javascript'>
		//<!#^#|CDATA|
		// Fix Mozilla bug: 209020
		if ( navigator.product == 'Gecko' )
		{
			navstring = navigator.userAgent.toLowerCase();
			geckonum  = navstring.replace( /.*gecko\/(\d+)/, "$1" );
			setTimeout("moz_redirect()",1500);
		}
		function moz_redirect()
		{
			<if test="redirectmozfull:|:$full==true">
				var url_bit     = "{parse url="$url" base="none"}";
			<else />
				var url_bit     = "{parse url="$url" base="public"}";
			</if>
			window.location = url_bit.replace( new RegExp( "&amp;", "g" ) , '&' );
		}
		//>
		</script>
	</head>
	<body  id='ipboard_body' class='redirector'>
		<div id='ipbredirectwrapper'>
			<p class='message'>
				<strong>{$text}</strong>
				<br /><br />
				{$this->lang->words['transfer_you']}
				<br />
				<span class='desc'>(<a href="<if test="redirectlink:|:$full==true">{parse url="{$url}" base="none"}<else />{parse url="{$url}" base="public"}</if>">{$this->lang->words['dont_wait']}</a>)</span>	
			</p>
		</div>
	</body>
</html>]]></template_content>
      <template_name>redirectTemplate</template_name>
      <template_data><![CDATA[$documentHeadItems, $css, $jsLoaderItems, $text="",$url="", $full=false]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<php>
	// Apps can set the key empty to disable, but this will allow all apps to use the popup to show who repped
	if( !isset($data['jsCallback']) )
	{
		$data['jsCallback']	= "ipb.global.repPopUp( this, {$data['primaryId']}, '{$data['app']}', '{$data['type']}' );";
	}
	$repClickable	= ( $this->memberData['gbw_view_reps'] AND $data['jsCallback'] ) ? 'onclick="' . $data['jsCallback'] . '"' : '';
</php>
<if test="reputationBox:|:$this->settings['reputation_enabled']">
	<if test="canRep:|:!( $this->settings['reputation_protected_groups'] && in_array( $member['member_group_id'], explode( ',', $this->settings['reputation_protected_groups'] ) ) ) and $this->memberData['member_id']">	
		<if test="isLike:|:$this->settings['reputation_point_types'] == 'like'">
			<div class='ipsLikeBar right clearfix' id='{$data['domCountId']}'>
				<ul class='ipsList_inline'>
					<if test="!isset($data['hide_text']) OR !$data['hide_text']">
						<li id="{$data['domLikeStripId']}" class='ipsLikeBar_info' <if test="hasNoLikes:|:!$data['likeFormatted']">style="display:none"</if>>
							{$data['likeFormatted']}
						</li>
					</if>
					<if test="canGiveRep:|:IPSMember::canGiveRep( $data, $member ) !== false">
						<li <if test="giveRepUp:|:IPSMember::canRepUp( $data, $member ) === false">style="display:none"</if>>
							<a class='ipsLikeButton ipsLikeButton_enabled rep_up' href='{$this->settings['base_url']}app=core&amp;module=global&amp;section=reputation&amp;do=add_rating&amp;app_rate={$data['app']}&amp;type={$data['type']}&amp;type_id={$data['primaryId']}&amp;rating=1&amp;secure_key={$this->member->form_hash}&amp;post_return={$data['primaryId']}' title='{$this->lang->words['do_like_up']}'>{$this->lang->words['like_this']}</a>
						</li>
						<li <if test="giveRepDown:|:IPSMember::canRepDown( $data, $member ) === false">style="display:none"</if>>
							<a class='ipsLikeButton ipsLikeButton_disabled rep_down' href='{$this->settings['base_url']}app=core&amp;module=global&amp;section=reputation&amp;do=add_rating&amp;app_rate={$data['app']}&amp;type={$data['type']}&amp;type_id={$data['primaryId']}&amp;rating=-1&amp;secure_key={$this->member->form_hash}&amp;post_return={$data['primaryId']}' title='{$this->lang->words['do_like_down']}'>{$this->lang->words['unlike_this']}</a>
						</li>
					</if>
				</ul>
			</div>
		<else />
			<div class='rep_bar clearfix <if test="pos:|:!$data['position'] || $data['position'] == 'right'">right</if>' id='{$data['domCountId']}'>
				{parse variable="repClickable" default="" oncondition="$this->memberData['gbw_view_reps']" value=" clickable"}
				<ul class='ipsList_inline'>
					<if test="canGiveRep:|:IPSMember::canGiveRep( $data, $member ) !== false">
						<li <if test="giveRepUp:|:IPSMember::canRepUp( $data, $member ) === false">style="display:none"</if>>
							<a href='{$this->settings['base_url']}app=core&amp;module=global&amp;section=reputation&amp;do=add_rating&amp;app_rate={$data['app']}&amp;type={$data['type']}&amp;type_id={$data['primaryId']}&amp;rating=1&amp;secure_key={$this->member->form_hash}&amp;post_return={$data['primaryId']}' class='rep_up' title='{$this->lang->words['reputation_up']}'>{parse replacement="rep_up"}</a>
						</li>
						<li <if test="giveRepDown:|:IPSMember::canRepDown( $data, $member ) === false">style="display:none"</if>>
							<a href='{$this->settings['base_url']}app=core&amp;module=global&amp;section=reputation&amp;do=add_rating&amp;app_rate={$data['app']}&amp;type={$data['type']}&amp;type_id={$data['primaryId']}&amp;rating=-1&amp;secure_key={$this->member->form_hash}&amp;post_return={$data['primaryId']}' class='rep_down' title='{$this->lang->words['reputation_down']}'>{parse replacement="rep_down"}</a>
						</li>
					</if>
					<if test="isNotLike:|:$this->settings['reputation_point_types'] != 'like'">
						<if test="hasNoRep:|:$data['rep_points'] == 0">
							<li><span class='reputation zero rep_show{parse variable="repClickable"}' title='{$this->lang->words['reputation']}' {$repClickable}>
						</if>
						<if test="hasPosRep:|:$data['rep_points'] > 0">
							<li><span class='reputation positive rep_show{parse variable="repClickable"}' title='{$this->lang->words['reputation']}' {$repClickable}>
						</if>
						<if test="hasNegRep:|:$data['rep_points'] < 0">
							<li><span class='reputation negative rep_show{parse variable="repClickable"}' title='{$this->lang->words['reputation']}' {$repClickable}>
						</if>
							{parse expression="intval($data['rep_points'])"}
							</span>
						</li>
					</if>
				</ul>
			</div>
		</if>
	</if>
</if>
<script type='text/javascript'>
	ipb.global.registerReputation( '{$data['domCountId']}', { domLikeStripId: '{$data['domLikeStripId']}', app: '{$data['app']}', type: '{$data['type']}', typeid: '{$data['primaryId']}' }, parseInt('{$data['rep_points']}') );
</script>]]></template_content>
      <template_name>repButtons</template_name>
      <template_data>$member, $data=array()</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<h3>{$this->lang->words['liked_by_title']}</h3>
<div class='likepop fixed_inner'>
	<ul class='ipsList_withminiphoto'>
		<foreach loop="$data as $mid => $data">
			<li class='clearfix ipsPad_half <if test="$data['like_is_anon']">faded</if>'>
				<a href='{parse url="showuser={$data['member_id']}" seotitle="{$data['members_seo_name']}" template="showuser" base="public"}' title='{$this->lang->words['view_profile']}' class='ipsUserPhotoLink left'>
					<img src='{$data['pp_small_photo']}' class='ipsUserPhoto ipsUserPhoto_mini' />
				</a>
				<div class='list_content'>
					<a href='{parse url="showuser={$data['member_id']}" seotitle="{$data['members_seo_name']}" template="showuser" base="public"}' title='{$this->lang->words['view_profile']}'><strong>{$data['members_display_name']}</strong></a>
					<em class='desc'>{$this->lang->words['likeadded']} {parse date="$data['rep_date']" format="short"}</em>
					<p class='desc'>
						{parse expression="IPSMember::makeNameFormatted( $data['g_title'], $data['g_id'] )"}
					</p>
				</div>
			</li>
		</foreach>
	</ul>
</div>]]></template_content>
      <template_name>repMoreDialogue</template_name>
      <template_data>$data, $relId</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<div>
	<h3>{$this->lang->words['rep_given']}</h3>
	<div class='ipsPad' style='min-height: 60px'>
		<if test="empty($reps)">
			<em>{$this->lang->words['no_rep']}</em>
		<else />
			<foreach loop="$reps as $r">
				<if test="$r['rep_rating'] > 0">
					{parse replacement="rep_up"}
				<else />
					{parse replacement="rep_down"}
				</if>
				 <a href='{parse url="showuser={$r['member']['member_id']}" base="public" template="showuser" seotitle="{$r['member']['members_seo_name']}"}'>{$r['member']['members_display_name']}</a><br />
			</foreach>
		</if>
	</div>
</div>]]></template_content>
      <template_name>reputationPopup</template_name>
      <template_data>$reps</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[{parse js_module="facebook"}
<php>
	$prefs = IPSMember::getFromMemberCache( $this->memberData, 'postSocialPrefs' );
	$id    = ( $id === null ) ? '' : $id .= '_';
</php>
<if test="canShare:|:$this->settings['sm_autoshare'] && IPSMember::canSocialShare()">
 <div class='ipsBox_container ipsMargin_top ipsPad_top'>
	<ul class='ipsPad ipsForm_vertical ipsList_inline ipsType_small clearfix'>
		<foreach loop="services:array('facebook', 'twitter') as $service">
			<if test="canShareThis:|:IPSMember::canSocialShare( $service )">
			<li class='ipsField ipsField_checkbox left' style='margin-right: 40px'>
				<input type="checkbox" name="{$id}share_x_{$service}" class="input_check _share_x_" value="yes" id='{$id}share_x_{$service}' <if test="! empty( $_REQUEST['share_' . $service ] ) || ! empty( $prefs[$service] )">checked='checked'</if> /> &nbsp;&nbsp;
				<span class='' data-tooltip='{parse expression="sprintf( $this->lang->words['gbl_post_to_x_tt'],UCFirst($service) )"}'>
					<label for='{$id}share_x_{$service}'> <img src="{$this->settings['public_dir']}style_extra/sharelinks/{$service}.png" style='vertical-align:top' alt='' /> &nbsp; {parse expression="sprintf( $this->lang->words['gbl_post_to_x'], UCFirst($service) )"}</label>
				</span>
			</li>
			</if>
		</foreach>
		<if test="canSave:|: ! $id">
			<li class='ipsField left' style='display: none' id='{$id}_save_share'>
				<a href='#' data-clicklaunch='saveSocialShareDefaults' class='ipsType_smaller'>{$this->lang->words['remember_share_prefs']}</a>
			</li>
		</if>
	</ul>
</div>
	<script type="text/javascript">
		ipb.delegate.register('._share_x_', function(e, elem){
			if( $('{$id}_save_share') && !$('{$id}_save_share').visible() ){
				new Effect.Appear( $('{$id}_save_share'), { duration: 0.3 } );
			}
		});
		ipb.delegate.register('#share_x_facebook', ipb.facebook.connectNow);
		ipb.facebook.load({$this->settings['fbc_appid']});
	</script>
</if>]]></template_content>
      <template_name>socialSharePostStrip</template_name>
      <template_data>$id=null</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<h3 class='maintitle'>Tags</h3>
<div class='ipsBox'>
	<div class='ipsBox_container ipsPad'>
		<ul class='ipsList_inline'>
		<foreach loop="eachTag:$tags['tags'] as $id => $data">
			<li><span class="{$data['className']}">{$data['tagWithUrl']}</span></li>
		</foreach>
		</ul>
	</div>
</div>]]></template_content>
      <template_name>tagCloud</template_name>
      <template_data>$tags</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<a <if test="noClass:|:!$noClass">class='ipsTag'</if> href="{parse url="app=core&amp;module=search&amp;do=search&amp;search_tags={parse expression="IPSText::urlencode_furlSafe($tag)"}&amp;search_app=<if test="inSearch:|:isset($this->request['search_app']) AND $this->request['search_app']">{$this->request['search_app']}<else />{$app}</if><if test="hasSearchSection:|:$section">&amp;search_app_filters[<if test="inSearchSub:|:isset($this->request['search_app']) AND $this->request['search_app']">{$this->request['search_app']}<else />{$app}</if>][searchInKey]={$section}</if>" base="public" template="tags" seotitle="false"}" data-tooltip="{parse expression="sprintf( $this->lang->words['find_more_tags'], $tag )"}"><span>{$tag}</span></a>]]></template_content>
      <template_name>tagEntry</template_name>
      <template_data><![CDATA[$tag, $noClass=false, $app='all', $section='']]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<a href="{parse url="app=core&amp;module=search&amp;do=search&amp;search_tags={parse expression="urlencode($tag)"}&amp;search_app=<if test="inSearch:|:isset($this->request['search_app']) AND $this->request['search_app']">{$this->request['search_app']}<else />{$app}</if><if test="hasSearchSection:|:$section">&amp;search_app_filters[<if test="inSearchSub:|:isset($this->request['search_app']) AND $this->request['search_app']">{$this->request['search_app']}<else />{$app}</if>][searchInKey]={$section}</if>" base="public" template="tags" seotitle="false"}" class='ipsBadge ipsBadge_lightgrey' data-tooltip="{parse expression="sprintf( $this->lang->words['find_more_tags'], $tag )"}">{$tag}</a>]]></template_content>
      <template_name>tagPrefix</template_name>
      <template_data><![CDATA[$tag, $app='', $section='']]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<div class='ipsBox'>
	<div class='ipsBox_container ipsPad'>
		{$tags['formatted']['parsedWithoutComma']}
	</div>
</div>]]></template_content>
      <template_name>tagsAsPopUp</template_name>
      <template_data>$tags</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[{parse js_module="tags"}
<input type="text" class="input_text" size="50" value="" name="{$options['fieldId']}" id="{$options['fieldId']}" <if test="isClosedField:|: ! $options['isOpenSystem']">readonly="readonly"</if> />
<if test="canPrefix:|:$options['prefixesEnabled'] && !$this->memberData['gbw_disable_prefixes']">
	&nbsp;&nbsp;<span class="desc lighter"><input type="checkbox" value="1" name="{$options['fieldId']}_prefix" id="{$options['fieldId']}_prefix" <if test="prefixChecked:|:$tags['formatted']['prefix'] OR $this->request[ $options['fieldId'] . '_prefix' ]">checked='checked'</if> /> {$this->lang->words['firsttagprefix']}</span>
</if>
<if test="!$options['minTags'] && $options['maxTags']">
	<br /><span class='desc lighter'>{parse expression="sprintf( $this->lang->words['tags_max_no_min'], $options['maxTags'] )"}</span>
</if>
<if test="$options['minTags'] && !$options['maxTags']">
	<br /><span class='desc lighter'>{parse expression="sprintf( $this->lang->words['tags_min_no_max'], $options['minTags'] )"}</span>
</if>
<if test="$options['minTags'] && $options['maxTags']">
	<br /><span class='desc lighter'>{parse expression="sprintf( $this->lang->words['tags_max_and_min'], $options['minTags'], $options['maxTags'] )"}</span>
</if>
<php>
	$options['lang']['tag_add_link']	= $this->lang->words['add_a_tag'];
	$options['lang']['tip_text']		= $this->lang->words['tag_tip'];
	$options['forceLowercase']			= $this->settings['tags_force_lower'];
	$options['existingTags']			= count($tags['tags']) ? $tags['tags'] : null;
	
	$_tmp = $options;
	
	/* Always return as UTF-8 */
	$jsonEncoded = IPSText::jsonEncodeForTemplate( $_tmp );
</php>
<script type="text/javascript">
	$( "{$options['fieldId']}" ).tagify( {parse expression="$jsonEncoded"} );
</script>]]></template_content>
      <template_name>tagTextEntryBox</template_name>
      <template_data>$tags, $options, $where</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<div class='ipsForm_center'>
	<br />
	<strong>{$this->lang->words['tweet_ok']}</strong>
	<br />
	<br />
	<p><a href="http://twitter.com/{$user['screen_name']}/status/{$user['status']['id']}" target="_blank">twitter.com/{$user['screen_name']}/status/{$user['status']['id']}</a></p>
</div>]]></template_content>
      <template_name>twitterDone</template_name>
      <template_data>$user</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_global_other</template_group>
      <template_content><![CDATA[<h3>{$this->lang->words['share_via_twitter']}</h3>
<div class='fixed_inner'>
	<ul class='ipsList_withminiphoto'>
		<li class='clearfix ipsPad_half'>
			<img src='{$user['profile_image_url']}' class='left ipsUserPhoto ipsUserPhoto_small'/>
			<img src="{$this->settings['public_dir']}style_status/twitter.png" class='left' style='margin-top: -2px; margin-left: -12px;'/>
			<div class='list_content' style='margin-left:58px' id='tWrap' >
				<p class='ipsType_small desc'>{$user['screen_name']}</p>
				<textarea class='input_text' rows='3' cols='10' name='tContent' style='width: 97%;' id='tContent'></textarea>
				<div>
					<div class='right'><input type='button' id='tSubmit' class='input_submit' value='{$this->lang->words['twitter_share']}' /></div>
					<div class='ipsType_smaller desc'><span id='cLeft' style='font-weight:bold'>0</span> {$this->lang->words['twitter_chrs_left']}</div>
				</div>
			</div>
		</li>
	</ul>
</div>]]></template_content>
      <template_name>twitterPop</template_name>
      <template_data>$user</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
  </templategroup>
  <templategroup group="skin_help">
    <template>
      <template_group>skin_help</template_group>
      <template_content><![CDATA[<if test="notajax:|:!$this->request['xml']">
<div class='topic_controls'>
	<ul class='topic_buttons'>
		<li><a href="{parse url="app=core&amp;module=help" base="public"}" title="{$this->lang->words['help_back_list_title']}"><img src='{$this->settings['img_url']}/back.png' alt='' /> {$this->lang->words['help_return_list']}</a></li>
	</ul>
</div>
</if>
<if test="isajax:|:$this->request['xml']">
<br />
</if>
<if test="notajax:|:!$this->request['xml']">
	<h1 class='ipsType_pagetitle'>{$one_text}: {$three_text}</h1>
<else />
	<h1 class='ipsType_subtitle'>{$one_text}: {$three_text}</h1>
</if>
<br />
<div class='row2 help_doc ipsPad bullets'>
	{$text}
</div>
<br />]]></template_content>
      <template_name>helpShowSection</template_name>
      <template_data><![CDATA[$one_text="",$two_text="",$three_text="", $text]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_help</template_group>
      <template_content><![CDATA[{parse js_module="help"}
<p class='message unspecific'>{$two_text}</p>
<h2 class='maintitle'>{$this->lang->words['help_topics']}</h2>
<div class='generic_bar'></div>
<ol id='help_topics'>
	{parse striping="help" classes="row1,row2"}
	<if test="count($rows)">
		<foreach loop="helpfiles:$rows as $entry">
		<li class='{parse striping="help"} helpRow'>
			<h3><a href="{parse url="app=core&amp;module=help&amp;do=01&amp;HID={$entry['id']}" base="public"}" title="{$this->lang->words['help_read_document']}">{$entry['title']}</a></h3>
			<p>
				{$entry['description']}
			</p>
		</li>
		</foreach>
	<else />
		<li class='no_messages'>{$this->lang->words['no_help_topics']}</li>
	</if>
</ol>]]></template_content>
      <template_name>helpShowTopics</template_name>
      <template_data><![CDATA[$one_text="",$two_text="",$three_text="",$rows]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
  </templategroup>
  <templategroup group="skin_login">
    <template>
      <template_group>skin_login</template_group>
      <template_content><![CDATA[<php>
	$uses_name		= false;
	$uses_email		= false;
	$_redirect		= '';
	
	foreach( $this->cache->getCache('login_methods') as $method )
	{
		if( $method['login_user_id'] == 'username' or $method['login_user_id'] == 'either' )
		{
			$uses_name	= true;
		}
		
		if( $method['login_user_id'] == 'email' or $method['login_user_id'] == 'either' )
		{
			$uses_email	= true;
		}
		
		if( $method['login_login_url'] )
		{
			$_redirect	= $method['login_login_url'];
		}
	}
	if( $uses_name AND $uses_email )
	{
		$this->lang->words['enter_name']	= $this->lang->words['enter_name_and_email'];
	}
	else if( $uses_email )
	{
		$this->lang->words['enter_name']	= $this->lang->words['enter_useremail'];
	}
	else
	{
		$this->lang->words['enter_name']	= $this->lang->words['enter_username'];
	}
</php>
<if test="hasRedirect:|:$_redirect">
<script type='text/javascript'>
window.location = '{$_redirect}';
</script>
<else />
<div id='inline_login_form'>
	<form action="{parse url="app=core&amp;module=global&amp;section=login&amp;do=process" base="public"}" method="post" id='login'>
		<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
		<input type="hidden" name="referer" value="{parse expression="str_replace( array( '<', '>', '(', ')' ), '-', my_getenv('HTTP_REFERER') )"}" />
		<h3>{$this->lang->words['log_in']}</h3>
		<if test="registerServices:|:IPSLib::loginMethod_enabled('facebook') || IPSLib::loginMethod_enabled('twitter') || IPSLib::loginMethod_enabled('live')">
			<div class='ipsBox_notice'>
				<ul class='ipsList_inline'>
					<if test="registerUsingFb:|:IPSLib::loginMethod_enabled('facebook')">
						<li><a href="{parse url="app=core&amp;module=global&amp;section=login&amp;serviceClick=facebook" base="public"}"><img src="{$this->settings['img_url']}/facebook_login.png" alt="" /></a></li>
					</if>
					<if test="twitterBox:|:IPSLib::loginMethod_enabled('twitter')">
						<li><a href="{parse url="app=core&amp;module=global&amp;section=login&amp;serviceClick=twitter" base="public"}"><img src="{$this->settings['img_url']}/twitter_login.png" alt="" /></a></li>
					</if>
					<if test="haswindowslive:|:IPSLib::loginMethod_enabled('live')">
						<li><a href='{parse url="app=core&amp;module=global&amp;section=login&amp;do=process&amp;use_live=1&amp;auth_key={$this->member->form_hash}" base="public"}' title='{$this->lang->words['use_live']}'>{parse replacement="live_small"} {$this->lang->words['sign_in_winlive']}</a></li>
					</if>
				</ul>
			</div>
		</if>
		<br />
		<div class='ipsForm ipsForm_horizontal'>
			<fieldset>
				<ul>
					<li class='ipsField'>
						<div class='ipsField_content'>
							{$this->lang->words['register_prompt_1']} <a href="{parse url="app=core&amp;module=global&amp;section=register" base="public"}" title='{$this->lang->words['register_prompt_2']}'>{$this->lang->words['register_prompt_2']}</a>
						</div>
					</li>
					<li class='ipsField ipsField_primary'>
						<label for='ips_username' class='ipsField_title'>{$this->lang->words['enter_name']}</label>
						<div class='ipsField_content'>
							<input id='ips_username' type='text' class='input_text' name='ips_username' size='30' />
						</div>
					</li>
					<li class='ipsField ipsField_primary'>
						<label for='ips_password' class='ipsField_title'>{$this->lang->words['enter_pass']}</label>
						<div class='ipsField_content'>
							<input id='ips_password' type='password' class='input_text' name='ips_password' size='30' /><br />
							<a href='{parse url="app=core&amp;module=global&amp;section=lostpass" base="public"}' title='{$this->lang->words['retrieve_pw']}'>{$this->lang->words['login_forgotten_pass']}</a>
						</div>
					</li>
					<li class='ipsField ipsField_checkbox'>
						<input type='checkbox' id='inline_remember' checked='checked' name='rememberMe' value='1' class='input_check' />
						<div class='ipsField_content'>
							<label for='inline_remember'>
								<strong>{$this->lang->words['rememberme']}</strong><br />
								<span class='desc lighter'>{$this->lang->words['notrecommended']}</span>
							</label>
						</div>
					</li>
					<if test="anonymous:|:!$this->settings['disable_anonymous']">
						<li class='ipsField ipsField_checkbox'>
							<input type='checkbox' id='inline_invisible' name='anonymous' value='1' class='input_check' />
							<div class='ipsField_content'>
								<label for='inline_invisible'>
									<strong>{$this->lang->words['form_invisible']}</strong><br />
									<span class='desc lighter'>{$this->lang->words['anon_name']}</span>
								</label>
							</div>
						</li>
					</if>
				</ul>
			</fieldset>
			<div class='ipsForm_submit ipsForm_center'>
				<input type='submit' class='ipsButton' value='{$this->lang->words['log_in']}' />
			</div>
		</div>
	</form>
</div>
</if>]]></template_content>
      <template_name>ajax__inlineLogInForm</template_name>
      <template_data/>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_login</template_group>
      <template_content><![CDATA[<p class='message error'>
	{$data}
</p>
<br /><br />]]></template_content>
      <template_name>errors</template_name>
      <template_data><![CDATA[$data=""]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_login</template_group>
      <template_content><![CDATA[{parse js_module="signin"}
<div id='login_form' class='clearfix'>
	<div id='member_login'>
		<h2 class='maintitle'>{$this->lang->words['log_in']}</h2>
		<form action="{parse url="app=core&amp;module=global&amp;section=login&amp;do=process" base="public"}" method="post" id='login'>
			<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
			<if test="referer:|:$referer"><input type="hidden" name="referer" value="{$referer}" /></if>
			<div id='regular_signin'>
				<a id='_regularsignin'></a>
				<h3 class='bar'>{$this->lang->words['enter_name_and_pass']}</h3>
				<ul class='ipsForm ipsForm_vertical ipsPad_double left'>
					<li class='ipsField'>
						<label for='ips_username' class='ipsField_title'>{$this->lang->words['enter_name']}</label>
						<p class='ipsField_content'>
							<input id='ips_username' type='text' class='input_text' name='ips_username' size='50' tabindex='1' /><br />
							<span class='desc ipsType_smaller'>{$this->lang->words['register_prompt_1']} <a href='{parse url="app=core&amp;module=global&amp;section=register" base="public"}' title='{$this->lang->words['register_prompt_2']}'>{$this->lang->words['register_prompt_2']}</a></span>
						</p>
					</li>
					<li class='ipsField'>
						<label for='ips_password' class='ipsField_title'>{$this->lang->words['enter_pass']}</label>
						<p class='ipsField_content'>
							<input id='ips_password' type='password' class='input_text' name='ips_password' size='50' tabindex='2' /><br />
							<a href='{parse url="app=core&amp;module=global&amp;section=lostpass" base="public"}' class='ipsType_smaller' title='{$this->lang->words['retrieve_pw']}'>{$this->lang->words['login_forgotten_pass']}</a>
						</p>
					</li>
				</ul>
				<div class='right ipsPad_double' id='other_signin'>
					<ul class='ipsList_data clear ipsType_small'>
						<if test="facebook:|:IPSLib::loginMethod_enabled('facebook')">
							<li><a href="{parse url="app=core&amp;module=global&amp;section=login&amp;serviceClick=facebook" base="public"}" class='ipsButton_secondary fixed_width'><img src="{$this->settings['img_url']}/loginmethods/facebook.png" alt="Facebook" /> &nbsp; {$this->lang->words['have_facebook']}</a></li>
						</if>
						<if test="twitterBox:|:IPSLib::loginMethod_enabled('twitter')">
							<li><a href="{parse url="app=core&amp;module=global&amp;section=login&amp;serviceClick=twitter" base="public"}" class='ipsButton_secondary fixed_width'><img src="{$this->settings['img_url']}/loginmethods/twitter.png" alt="Twitter" /> &nbsp; {$this->lang->words['have_twitter']}</a></li>
						</if>
						<if test="haswindowslive:|:IPSLib::loginMethod_enabled('live')">
							<li><a href='{parse url="app=core&amp;module=global&amp;section=login&amp;do=process&amp;use_live=1&amp;auth_key={$this->member->form_hash}" base="public"}' title='{$this->lang->words['use_live']}' class='ipsButton_secondary fixed_width'><img src="{$this->settings['img_url']}/loginmethods/windows.png" alt="Windows Live" /> &nbsp; {$this->lang->words['sign_in_winlive']}</a></li>
						</if>
						<if test="extraform:|:is_array($extra_form) AND count($extra_form)">
							<foreach loop="extrafields:$extra_form as $form_fields">
								{$form_fields}
							</foreach>
						</if>
					</ul>
				</div>
			</div>
			<if test="liveform:|:IPSLib::loginMethod_enabled('live')">
				<div id='live_signin'>
					<a id='_live'></a>
					<h3 class='bar'>{$this->lang->words['sign_in_winlive']}</h3>
					<div class='ipsPad_double'>
						<br />
						<a href='{parse url="app=core&amp;module=global&amp;section=login&amp;do=process&amp;use_live=1&amp;auth_key={$this->member->form_hash}" base="public"}' class='ipsButton'>{parse replacement="live_large"} &nbsp;&nbsp;{$this->lang->words['signin_with_live']}</a>
					</div>
					<p class='extra'><a href='#_regularsignin' title='{$this->lang->words['regular_signin']}' id='live_close'>{$this->lang->words['use_regular']}</a></p>
				</div>
			</if>
			<hr />
			<fieldset id='signin_options'>
				<legend>{$this->lang->words['sign_in_options']}</legend>
				<ul class='ipsForm ipsForm_vertical ipsPad_double'>
					<li class='ipsField ipsField_checkbox clearfix'>
						<input type='checkbox' id='remember' checked='checked' name='rememberMe' value='1' class='input_check' />
						<p class='ipsField_content'>
							<label for='remember'>{$this->lang->words['rememberme']}</label><br />
							<span class='desc lighter'>{$this->lang->words['notrecommended']}</span>
						</p>
					</li>
					<if test="anonymous:|:!$this->settings['disable_anonymous']">
						<li class='ipsField ipsField_checkbox clearfix'>
							<input type='checkbox' id='invisible' name='anonymous' value='1' class='input_check' />
							<p class='ipsField_content'>
								<label for='invisible'>{$this->lang->words['form_invisible']}</label><br />
								<span class='desc lighter'>{$this->lang->words['anon_name']}</span>
							</p>
						</li>
					</if>
					<if test="privvy:|:$this->settings['priv_title']">
					<li class='ipsPad_top ipsForm_center desc ipsType_smaller'>
						<a rel="nofollow" href='{parse url="app=core&amp;module=global&amp;section=privacy" template="privacy" seotitle="false" base="public"}'>{$this->settings['priv_title']}</a>
					</li>
					</if>
				</ul>
			</fieldset>
			<fieldset class='submit'>
				<input type='submit' class='input_submit' value='{$this->lang->words['sign_in_button']}' tabindex='3' /> {$this->lang->words['or']} <a href='{$this->settings['board_url']}' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
			</fieldset>
		</form>
	</div>
</div>
<if test="toggleLive:|:$this->request['serviceClick'] == 'live'">
<script type='text/javascript'>
document.observe("dom:loaded", function(e){ ipb.signin.toggleLive(e); });
</script>
</if>]]></template_content>
      <template_name>showLogInForm</template_name>
      <template_data><![CDATA[$message="",$referer="",$extra_form="", $login_methods=array()]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
  </templategroup>
  <templategroup group="skin_modcp">
    <template>
      <template_group>skin_modcp</template_group>
      <template_content><![CDATA[{parse js_module="topic"}
<if test="disablelightbox:|:!$this->settings['disable_lightbox']">
{parse template="include_lightbox" group="global" params=""}
</if>
<script type='text/javascript'>
	ipb.topic.inSection	= 'topicview';
</script>
<style type='text/css'>
	.post_mod, .post_id { display: none; }
</style>
{$this->templateVars['test']}
<div>{$pagelinks}</div>
{parse template="subTabLoop" group="modcp" params=""}
<div class='clearfix'>
	<if test="hasPosts:|:is_array( $posts ) AND count( $posts )">
		<div id='ips_Posts'>
			<foreach loop="post_data:$posts as $post">
					{parse template="modCPpost" group="modcp" params="$post, array( 'sdData' => $other_data ), $post, 'deleted'"}
			</foreach>
		</div>
	<else />
		<div class='no_messages'>
			{$this->lang->words['no_deleted_posts']}
		</div>
	</if>
	<div>{$pagelinks}</div>
</div>]]></template_content>
      <template_name>deletedPosts</template_name>
      <template_data><![CDATA[$posts, $other_data=array(), $pagelinks='']]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_modcp</template_group>
      <template_content><![CDATA[{parse js_module="forums"}
<div>{$pagelinks}</div>
{parse template="subTabLoop" group="modcp" params=""}
<div class='clearfix'>
	<table class='ipb_table topic_list' id='forum_table'>
		<if test="hastopics:|:is_array( $topics ) AND count( $topics )">
			{parse template="modCPtopic" group="modcp" params="$topics, $pagelinks, 'deleted', $sdelete"}
		<else />
			<tr> 
				<td colspan='3' class='no_messages'>{$this->lang->words['no_deleted_topics']}</td>
			</tr>
		</if>
	</table>
	<div>{$pagelinks}</div>
</div>]]></template_content>
      <template_name>deletedTopics</template_name>
      <template_data><![CDATA[$topics, $sdelete=array(), $pagelinks='']]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_modcp</template_group>
      <template_content><![CDATA[<form action='{parse url="app=core&amp;module=modcp&amp;do=doeditmember" base="public"}' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='mid' value='{$profile['member_id']}' />
<input type="hidden" name="_st" value="{$this->request['_st']}" />
<input type="hidden" name="t" value="{$this->request['t']}" />
<input type="hidden" name="pf" value="{$this->request['pf']}" />
<h2 class='maintitle'>{$this->lang->words['cp_em_title']}: <a href='{parse url="showuser={$profile['_parsedMember']['member_id']}" seotitle="{$profile['_parsedMember']['members_seo_name']}" template="showuser" base="public"}' title='{$this->lang->words['view_profile']}'>{$profile['_parsedMember']['members_display_name']}</a></h2>
<div class=''>
	
	<fieldset class='with_subhead'>
		<h3 class='bar'>{$this->lang->words['warn_member_details']}</h3>
		<h4>
			<img class="ipsUserPhoto ipsUserPhoto_large" src='{$profile['_parsedMember']['pp_thumb_photo']}' alt="{parse expression="sprintf($this->lang->words['users_photo'],$profile['_parsedMember']['members_display_name'])"}" />
		</h4>
		<ul>
			<li class='field'>
				{parse replacement="find_topics_link"} <a href='{parse url="app=core&amp;module=search&amp;do=user_activity&amp;mid={$profile['_parsedMember']['member_id']}" base="public"}'>{$this->lang->words['gbl_find_my_content']}</a>
			</li>
			<if test="displaynamehistory:|:$this->memberData['g_mem_info'] && $this->settings['auth_allow_dnames']">
				<li class='field' id='dname_history'>
					{parse replacement="display_name"} <a href='{parse url="app=members&amp;module=profile&amp;section=dname&amp;id={$profile['_parsedMember']['member_id']}" base="public"}' title='{$this->lang->words['view_dname_history']}'>{$this->lang->words['display_history']}</a>
				</li>
			</if>
			<li class='field'>
				<img src='{$this->settings['img_url']}/warn.png' /> <a href='{parse url="app=members&amp;module=profile&amp;section=warnings&amp;member={$profile['_parsedMember']['member_id']}&amp;from_app=members" base="public"}' id='warn_link_xxx_{$profile['_parsedMember']['member_id']}' title='{$this->lang->words['warn_view_history']}'>{parse expression="sprintf( $this->lang->words['warn_status'], $profile['_parsedMember']['warn_level'] )"}</a>
			</li>
		</ul>
	</fieldset>
	<fieldset>
		<h3 class='bar'>{$this->lang->words['edit_user_images']}</h3>
		<ul class='ipsForm ipsForm_horizontal'>
			<li class='ipsField clearfix ipsPad_top'>
				<label for='photo' class='ipsField_title'>{$this->lang->words['cp_remove_photo']}</label>
				<p class='ipsForm_content'>
					<select name="photo" id='photo' class='input_select'>
						<option value="0">{$this->lang->words['no']}</option>
						<option value="1">{$this->lang->words['yes']}</option>
					</select>
				</p>
			</li>
		</ul>
		<h3 class='bar'>{$this->lang->words['edit_user_permissions']}</h3>
		<ul class='ipsForm ipsForm_horizontal'>
			<li class='ipsField clearfix ipsPad_top'>
				<label for='photo' class='ipsField_title'>{$this->lang->words['cp_can_post_status_updates']}</label>
				<p class='ipsForm_content'>
					<select name="status_updates" class='input_select'>
						<option value="0" <if test="$profile['_parsedMember']['bw_no_status_update'] == 1">selected='selected'</if>>{$this->lang->words['no']}</option>
						<option value="1" <if test="$profile['_parsedMember']['bw_no_status_update'] == 0">selected='selected'</if>>{$this->lang->words['yes']}</option>
					</select>
				</p>
			</li>
		</ul>
		<if test="editusercfields:|:count($custom_fields->out_fields)">
			<h3 class='bar'>{$this->lang->words['edit_user_profile']}</h3>
			<ul class='ipsForm ipsForm_horizontal'>
				<li class='ipsField clearfix ipsPad_top'>
					<label for='title' class='ipsField_title'>{$this->lang->words['edit_user_title']}</label>
					<p class='ipsField_content'>
						<input type='text' class="input_text" name='title' size='50' value='{$profile['title']}' />
					</p>
				</li>
				<foreach loop="custom_fields:$custom_fields->out_fields as $id => $data">
					<li class='ipsField clearfix ipsPad_top'>
						<label for='field_{$id}' class='ipsField_title'>{$custom_fields->field_names[ $id ]}</label>
						<div class='ipsField_content'>
							{$data}
							<if test="editusercfielddesc:|:$custom_fields->field_desc[ $id ]">
								<br /><span class='desc'>{$custom_fields->field_desc[ $id ]}</span>
							</if>
						</div>
					</li>
				</foreach>
			</ul>
		</if>
		<h3 class='bar'>{$this->lang->words['cp_edit_signature']}</h3>
		<div class='ipsPad'>
			{$profile['signature']}
		</div>
		<h3 class='bar'>{$this->lang->words['cp_edit_aboutme']}</h3>
		<div class='ipsPad'>
			{$profile['aboutme']}
		</div>
	</fieldset>
	<fieldset class='submit'>
		<input type="submit" class='input_submit' value="{$this->lang->words['cp_em_submit']}" />
	</fieldset>
</div>
</form>]]></template_content>
      <template_name>editUserForm</template_name>
      <template_data>$profile, $custom_fields=null</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_modcp</template_group>
      <template_content><![CDATA[<p class='message unspecific'>{$msg}</p>]]></template_content>
      <template_name>inlineModIPMessage</template_name>
      <template_data><![CDATA[$msg='']]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_modcp</template_group>
      <template_content><![CDATA[<div>{$pagelinks}</div>
{parse template="subTabLoop" group="modcp" params=""}
<div class='clearfix'>
	<table class='ipb_table'>
		<tr class='header'>
			<th scope='col'>{$this->lang->words['w_v_warnto']}</th>
			<th scope='col'>{$this->lang->words['w_v_warnby']}</th>
			<th scope='col'>{$this->lang->words['w_v_reason']}</th>
			<th scope='col'>&nbsp;</th>
		</tr>
		<if test="haswarnings:|:is_array( $warnings ) AND count( $warnings )">
			{parse striping="warnings" classes="row1,row2 altrow"}
			<foreach loop="warningloop:$warnings as $r">
				<tr class='{parse striping="warnings"}'>
					<td><img src='{$r['pp_mini_photo']}' class='ipsUserPhoto ipsUserPhoto_mini' alt='' /> {parse template="userHoverCard" group="global" params="$r"}</td>
					<td>{$r['punisher_photo']} {parse template="userHoverCard" group="global" params="$r['punisherMember']"}</td>
					<td>{$r['wl_reason']}</td>
					<td><span class='ipsButton_secondary clickable' onclick='warningPopup( this, {$r['wl_id']} )'>{$this->lang->words['w_v_moreinfo']}</span></td>
				</tr>
			</foreach>
		<else />
			<tr>
				<td class="no_messages" colspan="3">{$this->lang->words['warn__no_recent']}</td>
			</tr>
		</if>
	</table>
	<div>{$pagelinks}</div>
</div>]]></template_content>
      <template_name>latestWarnLogs</template_name>
      <template_data>$warnings, $pagelinks</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_modcp</template_group>
      <template_content><![CDATA[<if test="canEditMember:|:$this->memberData['g_is_supmod']">
{parse js_module="modcp"}
<script type='text/javascript'>
ipb.modcp.initialtext = "{$this->lang->words['start_typing_lup']}";
</script>
<h2 class='maintitle'>{$this->lang->words['memberlookup_title']}</h2>
<div class='clearfix ipsBox'>
	<div class='ipsBox_container ipsPad'>
		<h3 class='ipsType_subtitle'>{$this->lang->words['memberlookup_desc']}</h3>
		<p class='desc'>{$this->lang->words['starttypeingmember']}</p>
		<form action='#' method='post' style='margin-top: 10px'>
			<input type='text' name='memberlookup' id='memberlookup' class='input_text' size='50' />
		</form>
	</div>
	<script type='text/javascript'>
		$('memberlookup').defaultize( "{$this->lang->words['start_typing_lup']}" );
	</script>
</div>
<else />
<div class='clearfix '>
	<div class='ipsBox_container ipsPad'>
		<p>{$this->lang->words['intro_blurb']}</p>
	</div>
</div>
</if>]]></template_content>
      <template_name>memberLookup</template_name>
      <template_data/>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_modcp</template_group>
      <template_content><![CDATA[<div>{$pagelinks}</div>
{parse template="subTabLoop" group="modcp" params=""}
<div class='clearfix'>
	<div id='member_list' class='clear block_wrap'>
		<div id='member_wrap'>
			<ul class='ipsMemberList'>
				<if test="showmembers:|:is_array( $members ) and count( $members )">
					{parse striping="memberStripe" classes="row1,row2"}
					<foreach loop="members:$members as $member">
						<li id='member_id_{$member['member_id']}' class='ipsPad clearfix member_entry {parse striping="memberStripe"}'>
							<a href='{parse url="showuser={$member['member_id']}" template="showuser" seotitle="{$member['members_seo_name']}" base="public"}' title='{$this->lang->words['view_profile']}' class='ipsUserPhotoLink left'><img src='{$member['pp_small_photo']}' alt="{parse expression="sprintf($this->lang->words['users_photo'],$member['members_display_name'])"}" class='ipsUserPhoto ipsUserPhoto_medium' /></a>
							<div class='ipsBox_withphoto'>
								<ul class='ipsList_inline right'>
									<if test="weAreSupmod:|:$this->memberData['g_is_supmod'] == 1 && $member['member_id'] != $this->memberData['member_id']">
										<li><a href='{parse url="app=core&amp;module=modcp&amp;do=editmember&amp;auth_key={$this->member->form_hash}&amp;mid={$member['member_id']}&amp;pf={$member['member_id']}" base="public"}' class='ipsButton_secondary'>{$this->lang->words['edit_member']}</a></li>
									</if>
									<if test="memberwarn:|:$member['show_warn']">
										<a href='{parse url="app=members&amp;module=profile&amp;section=warnings&amp;member={$member['member_id']}" base="public"}' id='warn_link_modcp_{$member['member_id']}' title='{$this->lang->words['warn_view_history']}' class='ipsButton_secondary'>{$this->lang->words['warn_view_history']}</a>
									</if>
									<if test="sendpm:|:$this->memberData['g_use_pm'] AND $this->memberData['members_disable_pm'] == 0 AND IPSLib::moduleIsEnabled( 'messaging', 'members' ) && $member['member_id'] != $this->memberData['member_id']">
										<li class='pm_button' id='pm_xxx_{$member['pp_member_id']}'><a href='{parse url="app=members&amp;module=list&amp;module=messaging&amp;section=send&amp;do=form&amp;fromMemberID={$member['pp_member_id']}" base="public"}' title='{$this->lang->words['pm_member']}' class='ipsButton_secondary'>{parse replacement="send_msg"}</a></li>
									</if>
									<li><a href='{parse url="app=core&amp;module=search&amp;do=user_activity&amp;mid={$member['member_id']}" base="public"}' title='{$this->lang->words['gbl_find_my_content']}' class='ipsButton_secondary'>{parse replacement="find_topics_link"}</a></li>
									<if test="blog:|:$member['has_blog'] AND IPSLib::appIsInstalled( 'blog' )">
										<li><a href='{parse url="app=blog&amp;module=display&amp;section=blog&amp;mid={$member['member_id']}" base="public"}' title='{$this->lang->words['view_blog']}' class='ipsButton_secondary'>{parse replacement="blog_link"}</a></li>
									</if>
									<if test="gallery:|:$member['has_gallery'] AND IPSLib::appIsInstalled( 'gallery' )">
										<li><a href='{parse url="app=gallery&amp;user={$member['member_id']}" seotitle="{$member['members_seo_name']}" template="useralbum" base="public"}' title='{$this->lang->words['view_gallery']}' class='ipsButton_secondary'>{parse replacement="gallery_link"}</a></li>
									</if>
								</ul>
								
								<h3 class='ipsType_subtitle'>
									<strong>{parse template="userHoverCard" group="global" params="$member"}</strong>
								</h3>
								<if test="repson:|:$this->settings['reputation_enabled'] && $this->settings['reputation_show_profile']">
									<if test="norep:|:$member['pp_reputation_points'] == 0 || !$member['pp_reputation_points']">
										<p class='reputation zero ipsType_small left'>
									</if>
									<if test="posrep:|:$member['pp_reputation_points'] > 0">
										<p class='reputation positive ipsType_small left'>
									</if>
									<if test="negrep:|:$member['pp_reputation_points'] < 0">
										<p class='reputation negative ipsType_small left'>
									</if>							
											<span class='number'>{$member['pp_reputation_points']}</span>
										</p>
								</if>
								<span class='desc'>
									{$this->lang->words['member_joined']} {parse date="$member['joined']" format="joined"}<br />
									{IPSMember::makeNameFormatted( $member['group'], $member['member_group_id'] )} &middot; <strong>{$this->lang->words['modqueued_til']}: <if test="isnotbanned:|:in_array( $type, array( 'modposts', 'suspended', 'restrictposts' ) )"><a href='{parse url="app=members&amp;module=profile&amp;section=warnings&amp;member={$member['member_id']}&amp;_tab=warn&amp;type=minus" base="public"}'></if><em>{$member['_language']}</em><if test="isnotbanned2:|:in_array( $type, array( 'modposts', 'suspended', 'restrictposts' ) )"></a></if></strong>
								</span>
							</div>
						</li>
					</foreach>
				<else />
					<p class='no_messages'>{$this->lang->words['no_results']}</p>
				</if>
			</ul>
		</div>
	</div>
</div>
	<div>{$pagelinks}</div>]]></template_content>
      <template_name>membersList</template_name>
      <template_data><![CDATA[$type, $members, $pagelinks='']]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_modcp</template_group>
      <template_content><![CDATA[<h2 class='maintitle'>{$this->lang->words['menu_ipsearch']}</h2>
<div class='ipsBox clearfix'>
	<form id="userCPForm" action="{parse url="app=core&amp;module=modcp&amp;tab=iplookup&amp;fromapp=members&amp;_do=submit" base="public"}" method="post">
	<fieldset class="ipsBox_container ipsPad">
		<if test="modIpIe:|:$inlineMsg">
			{$inlineMsg}
		</if>
		<br />
		
		<ul class='ipsForm ipsForm_horizontal'>
			<li class='ipsField'>
				<label for='ipsearch' class='ipsField_title'>{$this->lang->words['ip_enter']}</label>
				<p class='ipsField_content'>
					<input type="text" size="40" maxlength="24" class='input_text' name="ip" value="<if test="$ip">{$ip}<else />{$this->request['ip']}</if>" />
					<select name="iptool" class='input_select'>
						<option value="resolve">{$this->lang->words['ip_resolve']}</option>
						<option value="posts">{$this->lang->words['ip_posts']}</option>
						<option value="members">{$this->lang->words['ip_members']}</option>
					</select>&nbsp;
					<input type="submit" class='input_submit' value="{$this->lang->words['ip_submit']}" />
				</p>
			</li>
		</ul>
		<p class='message unspecific'>
			{$this->lang->words['ip_desc_text']}
		</p>
		<p class='desc'>
			{$this->lang->words['ip_warn_text']}
		</p>
	</fieldset>
	</form>
</div>]]></template_content>
      <template_name>membersModIPForm</template_name>
      <template_data><![CDATA[$ip="", $inlineMsg='']]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_modcp</template_group>
      <template_content><![CDATA[<div class='topic_controls'>
	{$pages}
</div>
<br />
<table class='ipb_table'>
	<tr class='header'>
		<th style='width: 20%'>{$this->lang->words['ipm_name']}</th>
		<th style='width: 15%'>{$this->lang->words['ipm_ip']}</th>
		<th style='width: 10%' class='short'>{$this->lang->words['ipm_posts']}</th>
		<th style='width: 20%' class='short'>{$this->lang->words['ipm_reg']}</th>
		<th style='width: 15%'>{$this->lang->words['ipm_group']}</th>
		<th style='width: 10%'>&nbsp;</th>
	</tr>
	<if test="modIPMembers:|:is_array( $members ) AND count( $members )">
		{parse striping="members" classes="row1,row2"}
		<foreach loop="ipMembers:$members as $id => $row">
			<tr class='{parse striping="members"}'>
				<td>{parse template="userHoverCard" group="global" params="$row"}</td>
				<td class='altrow'>{$row['ip_address']}</td>
				<td class='short'>{$row['posts']}</td>
				<td class="altrow short">{$row['joined']}</td>
				<td>{$row['groupname']}</td>
				<td class="altrow short">
					<a href="{parse url="app=core&amp;module=modcp&amp;do=editmember&amp;mid={$row['member_id']}&amp;auth_key={$this->member->form_hash}" base="public"}" title="{$this->lang->words['ipm_edit']}" class='ipsButton_secondary ipsType_smaller'>{$this->lang->words['ipm_edit']}</a>
				</td>
			</tr>
		</foreach>
	</if>
</table>
<br />
<div class='topic_controls'>
	{$pages}
</div>]]></template_content>
      <template_name>membersModIPFormMembers</template_name>
      <template_data><![CDATA[$pages="",$members]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_modcp</template_group>
      <template_content><![CDATA[<p class='message'>
	{$this->lang->words['ipp_found']} {$count}
</p>
<br />
<div class='topic_controls'>
	{$pageLinks}
</div>
<br />
<if test="modFindMemberPosts:|:count($results)">
	{parse striping="posts" classes="row1,row2"}
	<foreach loop="ipPosts:$results as $result">
		<div class='post_block ucp no_sidebar {parse striping="posts"}'>
			<h3>{parse template="userHoverCard" group="global" params="$result"} | <a href='{parse url="showtopic={$result['topic_id']}&amp;findpost={$result['pid']}" template="showtopic" seotitle="{$result['title_seo']}" base="public"}' title='{$this->lang->words['modip_viewposts']}'>{parse date="$result['post_date']" format="long"}</a></h3>
			<div class='post_body'>
				<div class='post'>{$result['post']}<br /></div>
			</div>
		</div>
		<hr />
	</foreach>
</if>
<br />
<div class='topic_controls'>
	{$pageLinks}
</div>]]></template_content>
      <template_name>membersModIPFormPosts</template_name>
      <template_data><![CDATA[$count=0, $pageLinks='', $results]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_modcp</template_group>
      <template_content><![CDATA[<form action="{parse url="app=core&amp;module=modcp&amp;tab=announcements&amp;fromapp=forums&amp;_do=save&amp;announce_id={$announce['announce_id']}&amp;type={$type}" base="public"}" method="post" id='postingform'>
<input type="hidden" name="secure_key" value="{$this->member->form_hash}" />
<fieldset class='row1'>
	<h3 class='ipsType_subtitle'><if test="buttonlang:|:$type=='add'">{$this->lang->words['announce_add']}<else />{$this->lang->words['announce_button_edit']}</if></h3>
	<br />
	<if test="announceMessage:|:$msg">
		<p class='message unspecific'>{$msg}</p>
	</if>
	<ul class='ipsForm ipsForm_horizontal'>
		<li class='ipsField clearfix'>
			<label for='announce_title' class='ipsField_title'>{$this->lang->words['announce_form_title']}</label>
			<p class='ipsField_content'>
				<input class='input_text' type="text" size="50" name="announce_title" id='announce_title' value="{$announce['announce_title']}" tabindex="1" />
			</p>
		</li>
		<li class='ipsField clearfix'>
			<label for='announce_start' class='ipsField_title'>{$this->lang->words['announce_form_start']}</label>
			<p class='ipsField_content'>
				<input class='input_text' type="text" size="10" name="announce_start" id='announce_start' value="{$announce['announce_start']}" tabindex="2" /><br />
				<span class="desc lighter">{$this->lang->words['announce_form_date']} {$this->lang->words['announce_form_startdesc']}</span>
			</p>
		</li>
		<li class='ipsField clearfix'>
			<label for='announce_end' class='ipsField_title'>{$this->lang->words['announce_form_end']}</label>
			<p class='ipsField_content'>
				<input class='input_text' type="text" size="10" name="announce_end" id='announce_end' value="{$announce['announce_end']}" tabindex="2" /><br />
				<span class="desc lighter">{$this->lang->words['announce_form_date']} {$this->lang->words['announce_form_enddesc']}</span>
			</p>				
		</li>
		<li class='ipsField clearfix'>
			<label for='announce_forum' class='ipsField_title'>{$this->lang->words['announce_form_forums']}</label>
			<p class='ipsField_content'>
				<select class="input_select" multiple="multiple" size="10" id='announce_forum' name="announce_forum[]" tabindex="4">{$forum_html}</select><br />
				<span class="desc lighter">{$this->lang->words['announce_form_forums2']}</span>
			</p>
		</li>
		<li class='ipsField clearfix'>
			<label for='' class='ipsField_title'>{$this->lang->words['announce_form_announce']}</label>
			<div class='ipsField_content'>
				{$editor_html}
			</div>
		</li>
		<li class='ipsField ipsField_checkbox'>
			<input type="checkbox" class="checkbox" name="announce_active" id='announce_active' value="1" {$announce['announce_active_checked']} />
			<p class='ipsField_content'>
				<label for='announce_active'>{$this->lang->words['announce_form_enable']}</label>
			</p>
		</li>
		<li class='ipsField ipsField_checkbox'>
			<input type="checkbox" class="checkbox" name="announce_html_enabled" id='announce_html_enabled' value="1" {$announce['html_checkbox']} />
			<p class='ipsField_content'>
				<label for='announce_html_enabled'>{$this->lang->words['announce_use_html']}</label>
			</p>
		</li>
	</ul>
</fieldset>
<br />
<fieldset class='submit'>
	<input type="submit" value="<if test="buttonlang:|:$type=='add'">{$this->lang->words['announce_add']}<else />{$this->lang->words['announce_button_edit']}</if>" class="input_submit" tabindex="7" /> {$this->lang->words['or']} <a href='{parse url="app=core&amp;module=modcp&amp;tab=announcements&amp;fromapp=forums" base="public"}' title='{$this->lang->words['cancel_edit']}' class='cancel'>{$this->lang->words['cancel']}</a>
</fieldset>
</form>
<script type="text/javascript">
document.observe("dom:loaded", function() {
	if ( $('announce_html_enabled') )
	{
		ipb.textEditor.bindHtmlCheckbox( $('announce_html_enabled') );
	}
} );
</script>]]></template_content>
      <template_name>modAnnounceForm</template_name>
      <template_data><![CDATA[$announce,$forum_html,$type,$editor_html,$msg=""]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_modcp</template_group>
      <template_content><![CDATA[{parse js_module="ucp"}
<form action="{parse url="app=core&amp;module=modcp&amp;tab=announcements&amp;fromapp=forums&amp;_do=save" base="public"}" id="mutliact" method="post">
<div class='topic_buttons'>
	<ul class='topic_controls'>
		<li>
			<a href="{parse url="app=core&amp;module=modcp&amp;tab=announcements&amp;fromapp=forums&amp;_do=add" base="public"}" class='ipsButton'>{$this->lang->words['announce_add']}</a>
		</li>
	</ul>
</div>
	<h3 class='maintitle clear'>{$this->lang->words['announce_current']}</h3>
	<table class='ipb_table' summary="{$this->lang->words['ucp_announcements']}">
		<tr class='header'>
			<th scope='col' style="width: 40%">{$this->lang->words['announce_title']}</th>
			<th scope='col' class='short' style="width: 10%">{$this->lang->words['announce_form_starts']}</th>
			<th scope='col' class='short' style="width: 10%">{$this->lang->words['announce_form_end']}</th>
			<th scope='col' style="width: 25%">{$this->lang->words['announce_forums']}</th>
			<th scope='col' style="width: 15%">&nbsp;</th>
		</tr>
		<if test="hasAnnouncements:|:is_array( $announcements ) AND count( $announcements )">
			{parse striping="announcements" classes="row1,row2"}
			<foreach loop="announcements:$announcements as $announce">
				<tr class="{parse striping="announcements"} <if test="notactive:|:!$announce['announce_active']">moderated</if>">
					<td>
						<strong><a href="{parse url="showannouncement={$announce['announce_id']}&amp;f=0" base="public" template="showannouncement" seotitle="{$announce['announce_seo_title']}"}">{$announce['announce_title']}</a></strong> <if test="notactive:|:!$announce['announce_active']"><span class='desc'>{$this->lang->words['announce_page_disabled']}</span></if><br /><span class="desc">{$this->lang->words['by_ucfirst']} {parse template="userHoverCard" group="global" params="$announce"}</span>
					</td>
					<td class="short">
						{parse date="$announce['announce_start']" format="DATE" relative="false"}
					</td>
					<td class="short">
						{parse date="$announce['announce_end']" format="DATE" relative="false"}
					</td>
					<td>
						<div class="forumdesc">
							<if test="announceForum:|:$announce['announce_forum'] == '*'">
								{$this->lang->words['announce_page_allforums']}
							<else />
								<if test="announceHasForums:|:is_array( $announce['_forums'] ) and count( $announce['_forums'] )">
									<ul>
									<foreach loop="announce_forums:$announce['_forums'] as $forum">
										<li><a href="{parse url="showforum={$forum[0]}" base="public"}">{$forum[1]}</a></li>
									</foreach>
									</ul>
								<else />
									{$announce['announce_forum_show']}
								</if>
							</if>
						</div>
					</td>
					<td class="short">
						<ul class='ipsList_inline ipsList_nowrap'>
							<li>
								<a href="{parse url="app=core&amp;module=modcp&amp;tab=announcements&amp;fromapp=forums&amp;_do=edit&amp;announce_id={$announce['announce_id']}" base="public"}" class='ipsButton_secondary'>{$this->lang->words['announce_edit']}</a>
							</li>
							<li>
								<a href="{parse url="app=core&amp;module=modcp&amp;tab=announcements&amp;fromapp=forums&amp;_do=delete&amp;announce_id={$announce['announce_id']}&amp;secure_key={$this->member->form_hash}" base="public"}" id="del_{$announce['announce_id']}" class='ipsButton_secondary'>{$this->lang->words['announce_delete']}</a>
							</li>
						</ul>
						<script type='text/javascript'>
							$('del_{$announce['announce_id']}').observe('click', ipb.ucp.deleteAnnouncement.bindAsEventListener( this, {$announce['announce_id']} ) );
						</script>
					</td>
				</tr>
			</foreach>
		<else />
			<tr>
				<td class='no_messages' colspan="5">{$this->lang->words['announce_none']}</td>
			</tr>
		</if>
	</table>
</form>]]></template_content>
      <template_name>modAnnouncements</template_name>
      <template_data>$announcements</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_modcp</template_group>
      <template_content><![CDATA[<div class='clearfix '>
	<div class='ipsBox_container ipsPad'>
		<p><if test="hasMessage:|:$message">{$message}<else />{$this->lang->words['noperm_for_modcp_act']}</if></p>
	</div>
</div>]]></template_content>
      <template_name>modcpMessage</template_name>
      <template_data><![CDATA[$message='']]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_modcp</template_group>
      <template_content><![CDATA[<!--post:{$post['post']['pid']}-->
<script type="text/javascript">
var pid = parseInt({$post['post']['pid']});
if ( pid > ipb.topic.topPid ){
	ipb.topic.topPid = pid;
}
</script>
<div class='post_block hentry clear no_sidebar <if test="reputation:|:$this->settings['reputation_enabled']">with_rep</if>' id='post_id_{$post['post']['pid']}'>
	<a id='entry{$post['post']['pid']}'></a>
	<if test="repIgnored:|:!empty( $post['post']['_repignored'] ) AND $post['post']['_repignored'] == 1 && $post['post']['_ignored'] != 1">
		<div class='post_ignore'>
			<if test="noRep:|:$post['post']['rep_points'] == 0">
				<span class='reputation zero' title='{$this->lang->words['top_rep']}'>
			</if>
			<if test="posRep:|:$post['post']['rep_points'] > 0">
				<span class='reputation positive' title='{$this->lang->words['top_rep']}'>
			</if>
			<if test="negRep:|:$post['post']['rep_points'] < 0">
				<span class='reputation negative' title='{$this->lang->words['top_rep']}' >
			</if>
					{$post['post']['rep_points']}</span> {$this->lang->words['top_this_post_by']} <a href='{parse url="showuser={$post['author']['member_id']}" base="public"}'>{$post['author']['members_display_name']}</a> {$this->lang->words['top_below_thresh']}. <a href='#' title='{$this->lang->words['ignore_view_post']}' id='unhide_post_{$post['post']['pid']}'>{$this->lang->words['rep_view_anyway']}</a>
		</div>
	</if>
	
	<div class='post_wrap'>
		<h3 class='<if test="postMid:|:empty($post['author']['member_id'])">guest </if>row2'>
			<img src='{$post['author']['pp_small_photo']}' class='ipsUserPhoto ipsUserPhoto_tiny' />&nbsp;
			<if test="postMember:|:$post['author']['member_id']">
				<span class="author vcard">{parse template="userHoverCard" group="global" params="$post['author']"}</span>
			<else />
				{parse template="userHoverCard" group="global" params="$post['author']"}
			</if>
			
			<if test="postIp:|:$post['post']['_show_ip']">
				<span class='ip right ipsType_small'>({$this->lang->words['ip']}:
				<if test="postAdmin:|:$post['author']['g_access_cp']">
					<em>{$this->lang->words['ip_private']}</em>
				<else />
					<a href="{parse url="app=core&amp;module=modcp&amp;tab=iplookup&amp;fromapp=members&amp;_do=submit&amp;ip={$post['post']['ip_address']}" base="public"}" title='{$this->lang->words['info_about_this_ip']}'>{$post['post']['ip_address']}</a>
				</if>)
				</span>
			</if>
		</h3>
		
		<div class='post_body'>
			<if test="isDeleted:|:$type == 'deleted'">
				<ul class='ipsList_inline modcp_post_controls right'>
					<if test="postIsHardDeleted:|:!$post['post']['_isDeleted']">
						<li>
							<img data-tooltip="{$this->lang->words['hard_delete_warn_post']}" src='{$this->settings['img_url']}/icon_timewarning.png' />
						</li>
					</if>
					<if test="canSoftDelete:|:$this->registry->getClass('class_forums')->canSoftDeletePosts( $post['post']['forum_id'], $post )">
						<li>
							<a href='{parse url="app=forums&amp;module=moderate&amp;section=moderate&amp;do=p_hrestore&amp;f={$post['post']['forum_id']}&amp;t={$post['post']['topic_id']}&amp;pid[]={$post['post']['pid']}&amp;st={$this->request['st']}&amp;auth_key={$this->member->form_hash}&amp;return=modcp:deleted" base="public"}' class='ipsButton_secondary ipsType_smaller' title='{$this->lang->words['restore_post_desc']}'>{$this->lang->words['restore_post']}</a>
						</li>
					</if>
					<if test="canHardDelete:|:$this->registry->getClass('class_forums')->canHardDeletePosts( $post['post']['forum_id'], $post )">
						<li>
							<a href='{parse url="app=forums&amp;module=moderate&amp;section=moderate&amp;do=p_hdelete&amp;f={$post['post']['forum_id']}&amp;t={$post['post']['topic_id']}&amp;pid[]={$post['post']['pid']}&amp;st={$this->request['st']}&amp;auth_key={$this->member->form_hash}&amp;return=modcp:deleted" base="public"}' class='ipsButton_secondary ipsType_smaller important' title='{$this->lang->words['perm_delete_post']}'>{$this->lang->words['perm_delete_post']}</a>
						</li>
					</if>
				</ul>
				<ul class='ipsList_inline<if test="hasDeletedReasonRow:|:empty($displayData['sdData'][ $post['post']['pid'] ])"> modcp_post_controls</if>'>
					<li class='desc'>
						<strong>{$this->lang->words['posted']}</strong> <span class='desc lighter'>{parse date="$post['post']['post_date']" format="short"}</span>
					</li>
					<li class='desc'>
						<strong>{$this->lang->words['deleted_post_date']}</strong> <span class='desc lighter'>{parse date="$topic['post']['pdelete_time']" format="short"}</span>
					</li>
					<li class='desc'>
						<strong>{$this->lang->words['delete_from_topic']}</strong> <a class='desc lighter' href='{parse url="showtopic={$topic['post']['tid']}" seotitle="{$topic['post']['title_seo']}" template="showtopic" base="public"}' title='{$this->lang->words['go_to_topic']}'>{IPSText::truncate( $topic['post']['title'], 25 )}</a>
					</li>
				</ul>
				<if test="postDeletedReason:|:! empty($displayData['sdData'][ $post['post']['pid'] ])">
					<ul class='ipsList_inline modcp_post_controls'>
						<li class='desc'>
							<strong>{$this->lang->words['dlt_topic_deletedby']}</strong> <span class='desc lighter blend_links'>{parse template="userHoverCard" group="global" params="$displayData['sdData'][ $post['post']['pid'] ]"}</span>
						</li>
						<if test="showReason:|:$post['post']['_softDeleteReason']">
							<li class='desc'>
								<strong>{$this->lang->words['dlt_topic_reason']}</strong> <span class='desc lighter'><em><if test="hasDeletedReason:|:$displayData['sdData'][ $post['post']['pid'] ]['sdl_obj_reason']">{$displayData['sdData'][ $post['post']['pid'] ]['sdl_obj_reason']}<else />{$this->lang->words['tdb__noreasongi']}</if></em></span>
							</li>
						</if>
					</ul>
				</if>
			</if>
			<if test="isUnapproved:|:$type == 'unapproved'">
				<ul class='ipsList_inline modcp_post_controls'>
					<if test="canEdit:|:$post['post']['_can_edit'] === TRUE">
						<li class='post_edit'><a href='{parse url="app=forums&amp;module=post&amp;section=post&amp;do=edit_post&amp;f={$post['post']['forum_id']}&amp;t={$post['post']['topic_id']}&amp;p={$post['post']['pid']}&amp;st={$this->request['st']}&amp;return=modcp:unapproved" base="public"}' title='{$this->lang->words['post_edit_title']}' class='ipsButton_secondary ipsType_smaller' id='edit_post_{$post['post']['pid']}'>{$this->lang->words['post_edit']}</a></li>
					</if>
					<!-- Matt: Approve / unapprove post button -->
					<if test="approvePost:|:$this->memberData['is_mod']">
						<li id='toggle_post_{$post['post']['pid']}'>
							<a href='{parse url="app=forums&amp;module=moderate&amp;section=moderate&amp;do=postchoice&amp;tact=approve&amp;selectedpids[{$post['post']['pid']}]={$post['post']['pid']}&amp;t={$post['post']['topic_id']}&amp;f={$post['post']['forum_id']}&amp;auth_key={$this->member->form_hash}&amp;return=modcp:unapproved" base="public"}' title='{$this->lang->words['post_toggle_visible']}' class='ipsButton_secondary ipsType_smaller'><span id='toggletext_post_{$post['post']['pid']}'><if test="approveUnapprove:|:$post['post']['queued']==1">{$this->lang->words['post_approve']}<else />{$this->lang->words['post_unapprove']}</if></span></a>
						</li>
					</if>
					<if test="canDelete:|:$post['post']['_can_delete'] === TRUE OR $post['post']['_softDelete']">
						<li class='post_del' id='del_post_{$post['post']['pid']}'>
							<a href='{parse url="app=forums&amp;module=moderate&amp;section=moderate&amp;do=04&amp;f={$post['post']['forum_id']}&amp;t={$post['post']['topic_id']}&amp;p={$post['post']['pid']}&amp;st={$this->request['st']}&amp;auth_key={$this->member->form_hash}&amp;return=modcp:unapproved" base="public"}' title='{$this->lang->words['post_delete_title']}' class='delete_post ipsButton_secondary important ipsType_smaller'>{$this->lang->words['post_delete']}</a>
						</li>
					</if>
					<if test="reportedPostData:|:$this->memberData['_cache']['report_temp']['post_marker']['post'][ $post['post']['pid'] ]['gfx'] > 0">
						<img src="{$this->settings['img_url']}/reports/post_alert_{$this->memberData['_cache']['report_temp']['post_marker']['post'][ $post['post']['pid']]['gfx']}.png" alt="" class='ipbmenu clickable' id='post-report-{$post['post']['pid']}' />
					</if>
					<li class='desc'>
						<strong>{$this->lang->words['posted']}</strong> <span class='desc lighter'>{parse date="$post['post']['post_date']" format="short"}</span>
					</li>
					<li class='desc'>
						<strong>{$this->lang->words['in_topic']}</strong> <a class='desc lighter' href='{parse url="showtopic={$topic['post']['tid']}" seotitle="{$topic['post']['title_seo']}" template="showtopic" base="public"}'>{IPSText::truncate( $topic['post']['title'], 35 )}</a>
					</li>
				</ul>
			</if>
			<div class='post entry-content <if test="$post['post']['_repignored'] == 1">imgsize_ignore</if>'>
				{$post['post']['post']}
				{$post['post']['attachmentHtml']}
				<br />
				<if test="postEditBy:|:$post['post']['edit_by']">
					<p class='edit'>
						{$post['post']['edit_by']}
						<if test="postEditByReason:|:$post['post']['post_edit_reason'] != ''">
							<br />
							<span class='reason'>{$this->lang->words['reason_for_edit']} {$post['post']['post_edit_reason']}</span>
						</if>
					</p>
				</if>
			</div>
			<br />
		</div>
		
		<script type='text/javascript'>
			if( $('toggle_post_{$post['post']['pid']}') ){
				$('toggle_post_{$post['post']['pid']}').show();
			}
			
			// Add perm data
			ipb.topic.deletePerms[{$post['post']['pid']}] = { 'canDelete' : {parse expression="intval($post['post']['_can_delete'])"}, 'canSoftDelete' : {parse expression="intval($post['post']['_softDelete'])"} };
		</script>
		<if test="reportedPostData:|:$this->memberData['_cache']['report_temp']['post_marker']['post'][ $post['post']['pid'] ]['gfx'] > 0">
			<ul id='post-report-{$post['post']['pid']}_menucontent' class='ipbmenu_content report_menu' style='display: none'>
				<li><a href="{parse url="app=core&amp;module=reports&amp;do=show_report&amp;rid={$this->memberData['_cache']['report_temp']['post_marker']['post'][ $post['post']['pid'] ]['info']['id']}" base="public"}" id='report_mark_{$post['post']['pid']}'><img src='{$this->settings['img_url']}/reports/mark_complete.png' alt='' /> {$this->lang->words['report_menu_mark_complete']}</a></li>
				<li><a href="{$this->settings['base_url']}app=core&amp;module=reports&amp;section=reports&amp;do=show_report&amp;rid={$this->memberData['_cache']['report_temp']['post_marker']['post'][$post['post']['pid']]['info']['id']}"><img src='{$this->settings['img_url']}/reports/view_report.png' alt='' /> {$this->lang->words['report_menu_view_report']}</a></li>
			</ul>
			<script type="text/javascript">
				$('report_mark_{$post['post']['pid']}').observe('click',
				 	ipb.global.updateReportStatus.bindAsEventListener( 	
						this, {$this->memberData['_cache']['report_temp']['post_marker']['post'][$post['post']['pid']]['info']['id']},2,2
					)
				);
			</script>
		</if>
	</div>
</div>]]></template_content>
      <template_name>modCPpost</template_name>
      <template_data>$post, $displayData, $topic, $type</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_modcp</template_group>
      <template_content><![CDATA[<foreach loop="topics:$topics as $tid => $data">
	<tr class='__topic' id='trow_{$data['tid']}' data-tid="{$data['tid']}">
		<td class='__tid{$data['tid']} with_mod_links'>	
			<if test="isLink:|:$data['state'] == 'link'">
				{$this->lang->words['moved_topic_link']}
				<em>
			</if>
			<a id="tid-link-{$data['tid']}" href="{parse url="showtopic={$data['tid']}" base="public" template="showtopic" seotitle="{$data['title_seo']}"}" title='{$data['title']} {$this->lang->words['topic_started_on']} {parse date="$data['start_date']" format="LONG"}' class='topic_title'>{$data['title']}</a>
			<if test="isLinkEnd:|:$data['state'] == 'link'">
				</em>
			</if>
			<if test="multipages:|:isset( $data['pages'] ) AND is_array( $data['pages'] ) AND count( $data['pages'] )">
				<ul class='mini_pagination'>
				<foreach loop="pages:$data['pages'] as $page">
						<if test="haslastpage:|:$page['last']">
							<li><a href="{parse url="showtopic={$data['tid']}&amp;st={$page['st']}" seotitle="{$data['title_seo']}" template="showtopic" base="public"}" title='{$this->lang->words['topic_goto_page']} {$page['page']}'>{$page['page']} {$this->lang->words['_rarr']}</a></li>
						<else />
							<li><a href="{parse url="showtopic={$data['tid']}&amp;st={$page['st']}" seotitle="{$data['title_seo']}" template="showtopic" base="public"}" title='{$this->lang->words['topic_goto_page']} {$page['page']}'>{$page['page']}</a></li>
						</if>
				</foreach>
				</ul>
			</if>
			<br />
			<if test="isntLink:|:$data['state'] != 'link'">
				<ul class='ipsList_inline'>
					<li class='desc lighter'>
						<strong>{$this->lang->words['dlt_topic_startedby']}</strong> <span class='desc lighter blend_links'><if test="hasStarterId:|:$data['starter_id']">{parse template="userHoverCard" group="global" params="$data"}<else />{$data['starter']}</if></span>
					</li>
					<li class='desc lighter'>
						<strong>{$this->lang->words['dlt_topic_posted']}</strong> <span class='desc lighter'>{parse date="$data['start_date']" format="short"}</span>
					</li>
					<li class='desc lighter'>
						<strong>{$this->lang->words['dlt_topic_inforum']}</strong> <span class='desc lighter blend_links'><a href='{parse url="showforum={$data['forum']['id']}" template="showforum" seotitle="{$data['forum']['name_seo']}" base="public"}'>{$data['forum']['name']}</a></span>
					</li>
				</ul>
			<else />
				<ul class='ipsList_inline'>
					<li class='desc lighter'>
						<strong>{$this->lang->words['dlt_topic_link_from']}</strong>
						<span class='desc lighter'><a href='{parse url="showforum={$data['_toForum']['id']}" template="showforum" seotitle="{$data['_toForum']['name_seo']}" base="public"}'>{$data['_toForum']['name']}</a></span>
					</li>
					<li class='desc lighter'>
						<strong>{$this->lang->words['dlt_topic_link_to']}</strong>
						<span class='desc lighter'><a href='{parse url="showforum={$data['forum']['id']}" template="showforum" seotitle="{$data['forum']['name_seo']}" base="public"}'>{$data['forum']['name']}</a></span>
					</li>
				</ul>
			</if>
			<if test="topicDeletedReason:|:$data['_isDeleted']">
				<ul class='ipsList_inline'>
					<li class='desc lighter'>
						<strong>{$this->lang->words['dlt_topic_deletedby']}</strong> <span class='desc lighter blend_links'>{parse template="userHoverCard" group="global" params="$sdelete[ $data['tid'] ]"}</span>
					</li>
					<if test="showReason:|:$data['permissions']['SoftDeleteReason']">
						<li class='desc lighter'>
							<strong>{$this->lang->words['dlt_topic_reason']}</strong> <span class='desc lighter'><em><if test="hasDeletedReason:|:$sdelete[ $data['tid'] ]['sdl_obj_reason']">{$sdelete[ $data['tid'] ]['sdl_obj_reason']}<else />{$this->lang->words['tdb__noreasongi']}</if></em></span>
						</li>
					</if>
				</span>
			</if>
		</td>
		<td>
			<if test="isntLink3:|:$data['state'] == 'link'">
				<span class='desc'>{parse format_number="$data['posts']"} <if test="replylang:|:intval($data['posts']) == 1">{$this->lang->words['reply']}<else />{$this->lang->words['replies']}</if></span>
			</if>
		</td>
		<td>
			<ul class='ipsList_inline right'>
				<if test="$type == 'deleted'">
					<if test="isntLink4:|:$data['state'] == 'link'">
						<if test="tidRestoreLink:|:$data['permissions']['TopicSoftDeleteRestore']">
							<li><a href='{parse url="app=forums&amp;module=moderate&amp;section=moderate&amp;do=topic_restore&amp;t={$data['real_tid']}&amp;f={$data['_toForum']['id']}&amp;auth_key={$this->member->form_hash}&amp;return=modcp:deleted" base="public"}' title='{$this->lang->words['restore_topic_desc']}' class='ipsButton_secondary ipsType_smaller'>{$this->lang->words['restore_topic']}</a></li>
						</if>
						<if test="canHardDeleteLinkFromDb:|:$this->registry->getClass('class_forums')->canHardDeleteTopics( $data['forum_id'], $data )">
							<li><a href='{parse url="app=forums&amp;module=moderate&amp;section=moderate&amp;do=09&amp;t={$data['real_tid']}&amp;f={$data['_toForum']['id']}&amp;auth_key={$this->member->form_hash}&amp;return=modcp:deleted" base="public"}' title='{$this->lang->words['dlt_delete_topic']}' class='ipsButton_secondary ipsType_smaller important'>{$this->lang->words['perm_delete_topic']}</a></li>
						</if>
					<else />
						<if test="topicIsHardDeleted:|:!$data['_isDeleted']">
							<li>
								<img data-tooltip="{$this->lang->words['hard_delete_warn_topic']}" src='{$this->settings['img_url']}/icon_timewarning.png' />
							</li>
						</if>
						<if test="tidRestore:|:$data['permissions']['TopicSoftDeleteRestore']">
							<li><a href='{parse url="app=forums&amp;module=moderate&amp;section=moderate&amp;do=topic_restore&amp;t={$data['real_tid']}&amp;f={$data['forum_id']}&amp;auth_key={$this->member->form_hash}&amp;return=modcp:deleted" base="public"}' title='{$this->lang->words['restore_topic_desc']}' class='ipsButton_secondary ipsType_smaller'>{$this->lang->words['restore_topic']}</a></li>
						</if>
						<if test="canHardDeleteFromDb:|:$this->registry->getClass('class_forums')->canHardDeleteTopics( $data['forum_id'], $data )">
							<li><a href='{parse url="app=forums&amp;module=moderate&amp;section=moderate&amp;do=09&amp;t={$data['real_tid']}&amp;f={$data['forum_id']}&amp;auth_key={$this->member->form_hash}&amp;return=modcp:deleted" base="public"}' title='{$this->lang->words['dlt_delete_topic']}' class='ipsButton_secondary ipsType_smaller important'>{$this->lang->words['perm_delete_topic']}</a></li>
						</if>
					</if>
				</if>
				<if test="$type == 'unapproved'">
					<li>
						<a href='{parse url="app=forums&amp;module=moderate&amp;section=moderate&amp;do=topic_approve&amp;t={$data['real_tid']}&amp;f={$data['forum_id']}&amp;auth_key={$this->member->form_hash}&amp;return=modcp:unapproved" base="public"}' class='ipsButton_secondary ipsType_smaller'>{$this->lang->words['modcp_approvelink']}</a>
					</li>
					<if test="canSoftDelete:|:$data['permissions']['TopicSoftDelete']">
						<li>
							<a href='{parse url="app=forums&amp;module=moderate&amp;section=moderate&amp;do=03&amp;t={$data['real_tid']}&amp;f={$data['forum_id']}&amp;auth_key={$this->member->form_hash}&amp;return=modcp:unapproved" base="public"}' class='ipsButton_secondary ipsType_smaller'>{$this->lang->words['HIDE_TOPIC']}</a>
						</li>
					</if>
					<if test="canHardDelete:|:$this->registry->getClass('class_forums')->canHardDeleteTopics( $data['forum_id'], $data )">
						<li>
							<a href='{parse url="app=forums&amp;module=moderate&amp;section=moderate&amp;do=08&amp;t={$data['real_tid']}&amp;f={$data['forum_id']}&amp;auth_key={$this->member->form_hash}&amp;return=modcp:unapproved" base="public"}' class='ipsButton_secondary ipsType_smaller important'>{$this->lang->words['modcp_deletelink']}</a>
						</li>
					</if>
				</if>
			</ul>
		</td>
	</tr>
</foreach>]]></template_content>
      <template_name>modCPtopic</template_name>
      <template_data>$topics, $pagelinks, $type, $sdelete=array()</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_modcp</template_group>
      <template_content><![CDATA[<h1 class='ipsType_pagetitle'>{$this->lang->words['modcp_page_title']}</h1>
<br />
<div class='ipsBox'>
	<div class='ipsVerticalTabbed ipsLayout ipsLayout_withleft ipsLayout_smallleft clearfix'>
		<div class='ipsVerticalTabbed_tabs ipsLayout_left' id='modcp_tabs'>
			<ul class='clear'>
				<li id='index' class='<if test="$_activeNav['primary'] == 'index' && $_activeNav['secondary'] == 'index'">active </if>tab_toggle'>
					<a href='{parse url="app=core&amp;module=modcp" base="public"}'>{$this->lang->words['modcp_tab_index']}</a>
				</li>
				<if test="accessRC:|:IPSMember::isInGroup( $this->memberData, explode( ',', IPSText::cleanPermString( $this->settings['report_mod_group_access'] ) ) )">
					<li id='reported_content' class='<if test="$_activeNav['primary'] == 'reported_content' && $_activeNav['secondary'] == 'reports'">active </if>tab_toggle'>
						<a href='{parse url="app=core&amp;module=reports&amp;do=index" base="public"}'>{$this->lang->words['modcp_tab_reports']}</a>
					</li>
				</if>
				<foreach loop="tabs:$tabs as $mainTabKey => $subTabs">
					<li id='{$mainTabKey}' class='<if test="$_activeNav['primary'] == $mainTabKey">active </if>tab_toggle' data-tabid='{$mainTabKey}'>
						<a href='{parse url="app=core&amp;module=modcp&amp;fromapp={$subTabs[0][1]}&amp;tab={$subTabs[0][0]}" base="public"}'>{$this->lang->words['modcp_mtab_' . $mainTabKey ]}</a>
					</li>
				</foreach>
			</ul>
		</div>
		<div class='ipsVerticalTabbed_content ipsLayout_content ipsBox_container' id='modcp_content'>
			<div class='ipsPad'>
				{$output}
			</div>
		</div>
	</div>
</div>
<script type='text/javascript'>
	$("modcp_content").setStyle( { minHeight: $('modcp_tabs').measure('margin-box-height') + 5 + "px" } );
</script>]]></template_content>
      <template_name>portalPage</template_name>
      <template_data>$output, $tabs=array(), $_activeNav=array()</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_modcp</template_group>
      <template_content><![CDATA[<foreach loop="findTab:$this->templateVars['tabs'] as $mainTabKey => $subTabs">
	<if test="isMainTab:|:$mainTabKey == $this->templateVars['activeNav']['primary']">
		<if test="count( $subTabs ) > 1">
			<div class='maintitle ipsFilterbar clear'>
				<ul class='ipsList_inline'>									
					<foreach loop="subTabs:$subTabs as $sub">
						<li<if test="$this->templateVars['activeNav']['secondary'] == $sub[0]"> class='active'</if>>
							<a href='{parse url="app=core&amp;module=modcp&amp;fromapp={$sub[1]}&amp;tab={$sub[0]}" base="public"}'>
							{$this->lang->words['modcp_tab_' . $sub[0] ]}</a>
						</li>
					</foreach>
				</ul>
			</div>
		</if>
	</if>
</foreach>]]></template_content>
      <template_name>subTabLoop</template_name>
      <template_data/>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_modcp</template_group>
      <template_content><![CDATA[{parse js_module="topic"}
<if test="disablelightbox:|:!$this->settings['disable_lightbox']">
{parse template="include_lightbox" group="global" params=""}
</if>
<script type='text/javascript'>
	ipb.topic.inSection	= 'topicview';
</script>
<style type='text/css'>
	.post_mod { display: none; }
</style>
<div>{$pagelinks}</div>
{parse template="subTabLoop" group="modcp" params=""}
<div class='clearfix'>
	<if test="hasPosts:|:is_array( $posts ) AND count( $posts )">
		<div id='ips_Posts2'>
			<foreach loop="post_data:$posts as $post">
				{parse template="modCPpost" group="modcp" params="$post, array(), $post, 'unapproved'"}
			</foreach>
		</div>
	<else />
		<div class='no_messages'>
			{$this->lang->words['no_unapproved_posts']}
		</div>
	</if>
	<div>{$pagelinks}</div>
</div>]]></template_content>
      <template_name>unapprovedPosts</template_name>
      <template_data>$posts, $pagelinks</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_modcp</template_group>
      <template_content><![CDATA[{parse js_module="forums"}
<div>{$pagelinks}</div>
{parse template="subTabLoop" group="modcp" params=""}
<div class='clearfix'>
	<table class='ipb_table topic_list' id='forum_table'>
		<if test="hastopics:|:is_array( $topics ) AND count( $topics )">
			{parse template="modCPtopic" group="modcp" params="$topics, $pagelinks, 'unapproved'"}
		<else />
			<tr> 
				<td colspan='3' class='no_messages'>{$this->lang->words['no_unapproved_topics']}</td>
			</tr>
		</if>
	</table>
	<div>{$pagelinks}</div>
</div>]]></template_content>
      <template_name>unapprovedTopics</template_name>
      <template_data>$topics, $pagelinks</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
  </templategroup>
  <templategroup group="skin_register">
    <template>
      <template_group>skin_register</template_group>
      <template_content><![CDATA[{parse js_module="register"}
<script type='text/javascript'>
//<!#^#|CDATA|
	ipb.register.inSection	   = "completeReg";
	ipb.register.nameMaxLength = "{$this->settings['max_user_name_length']}";
	ipb.register.allowedChars  = "{$this->settings['username_characters']}";
	ipb.register.memberPartial = parseInt('{$mid}');
	ipb.templates['accept']    = "&nbsp;<span id='[id]_msg' class='reg_msg reg_accept' style='display: none'><img src='{$this->settings['img_url']}/accept.png' alt='' /> [msg]</span>";
	ipb.templates['error']     = "&nbsp;<span id='[id]_msg' class='reg_msg reg_error' style='display: none'><img src='{$this->settings['img_url']}/exclamation.png' alt='' /> [msg]</span>";
//|#^#]>
</script>
<div id='register_form'>	
	<h1 class='ipsType_pagetitle'><if test="hasAName:|:$this->request['members_display_name'] OR $userFromService['_name']">{parse expression="sprintf($this->lang->words['connect_sub'], $userFromService['_name'] ? IPSText::utf8ToEntities( $userFromService['_name'] ) : $this->request['members_display_name'])"}<else />{$this->lang->words['connect_sub2']}</if></h1>
	<br />
	<if test="count( $userFromService ) AND ! empty( $userFromService['service'] )">
		<input type='hidden' name='connectService' value='{$userFromService['service']}' />
		<div id='facebookComplete' class='clearfix'>
			<img src="{$userFromService['_pic']}" class='ipsUserPhoto ipsUserPhoto_medium left' />
			<img src="{$userFromService['_sImage']}" class='servicepic' />
			<p class='ipsBox_withphoto'>
				{parse expression="sprintf($this->lang->words['connect_sub_desc'], ucfirst($userFromService['service']))"}
				<br />
				{parse expression="sprintf($this->lang->words['connect_desc'], ucfirst($userFromService['service']))"}
			</p>
		</div>
	<else />
		<p class='message'>{$this->lang->words['clogin_text']}</p>
	</if>
	<br />
	<if test="partialLoginErrors:|:!empty( $errors )">
		<p class='message error'>
			<strong>{$this->lang->words['errors_found']}</strong>
			{$errors}
		</p>
		<br />
	</if>
	<div id='connect_choose'>
		<h2 class='ipsType_subtitle'>{parse expression="sprintf( $this->lang->words['already_have_account'], $this->settings['board_name'] )"}</h2>
		<div class='ipsBox' style='margin-top: 5px'>
			<div class='ipsBox_container ipsPad' style='text-align: center'>
				<a href='#connect_new' class='ipsButton' id='choose_new'>{$this->lang->words['need_to_create_acc']}</a>&nbsp;&nbsp;&nbsp;
				<if test="count( $userFromService ) AND ! empty( $userFromService['service'] )">
					<a href='#connect_existing' id='choose_existing'>{$this->lang->words['use_an_existing_acc']}</a>
				</if>
			</div>
		</div>
	</div>
	<div id='connect_new'>
		<br />
		<h2 class='maintitle'>{$this->lang->words['new_account_title']}</h2>
		<div class='ipsBox'>
			<div class='ipsBox_container <if test="count( $userFromService ) AND ! empty( $userFromService['service'] )"> completeLeft</if>'>
				<form action="{parse url="app=core&amp;module=global&amp;section=register&amp;do=complete_login_do&amp;key=$key&amp;mid=$mid&amp;connectService={$userFromService['service']}" base="public"}" method="POST">
					<input type="hidden" name="termsread" value="1" />
					<input type="hidden" name="agree_to_terms" value="1" />
					<input type='hidden' name='from' value='new' />
					<fieldset class='main'>
						<ul class='ipsForm ipsForm_horizontal ipsPad'>
							<if test="partialAllowDnames:|:$this->settings['auth_allow_dnames'] == 1">
								<li class='ipsField clear'>
									<if test="fbDisplayName:|:$userFromService['service'] == 'facebook' AND $this->settings['fb_realname'] != 'any' AND $userFromService['_displayName']">
										<if test="fbDNInner:|:$this->settings['fb_realname'] == 'prefilled'">
											<label for='display_name' class='ipsField_title'>{$this->lang->words['dname_name']}</label>
											<p class='ipsField_content'>
												<input id='display_name' class='input_text'  type="text" size="40" maxlength="64" value="{$userFromService['_displayName']}" name="members_display_name" />
											</p>
										<else />
											<span class='ipsField_title'></span>
											<p class='ipsField_content'><strong>{IPSText::utf8ToEntities( $userFromService['_displayName'] )}</strong></p>
											<input type="hidden" value="{$userFromService['_displayName']}" name="members_display_name" />
										</if>
									<else />
										<label for='display_name' class='ipsField_title'>{$this->lang->words['dname_name']}</label>
										<p class='ipsField_content'>
											<input id='display_name' class='input_text'  type="text" size="40" maxlength="64" value="{$this->request['members_display_name']}" name="members_display_name" />
										</p>
									</if>
								</li>
							</if>
							<if test="partialNoEmail:|:! $reg['partial_email_ok']">
								<li class='ipsField clear'>
									<label for='email_1' class='ipsField_title'>{$this->lang->words['email_address']}</label>
									<p class='ipsField_content'>
										<input id='email_1' class='input_text'  type="text" size="40" maxlength="50" value="{$this->request['EmailAddress']}" name="EmailAddress" />
									</p>
								</li>
								<li class='ipsField clear'>
									<label for='email_2' class='ipsField_title'>{$this->lang->words['email_address_confirm']}</label>
									<p class='ipsField_content'>
										<input id='email_2' class='input_text'  type="text" size="40" maxlength="50"  value="{$this->request['EmailAddress_two']}" name="EmailAddress_two" />
									</p>
								</li>
							</if>
							<if test="partialCustomFields:|:$custom_fields != ''">
								<fieldset class='rcomplete'>
								<if test="reqCfields:|:is_array( $custom_fields['required'] ) && count( $custom_fields['required'] )">
									<foreach loop="custom_required:$custom_fields['required'] as $_field">
										<li class='ipsField clear {$_field['type']}'>
											<label for='cprofile_{$_field['id']}' class='ipsField_title'>{$_field['name']} <span class='ipsForm_required'>*</span></label>
											<div class='ipsField_content'>
												{$_field['field']}
												<if test="reqCfieldDescSpan:|:$_field['desc'] != ''"><span class='desc'>{$_field['desc']}</span></if>
											</div>
										</li>
									</foreach>
								</if>
	
								<if test="optCfields:|:is_array( $custom_fields['optional'] ) && count( $custom_fields['optional'] )">
									<foreach loop="custom_optional:$custom_fields['optional'] as $_field">
										<li class='ipsField clear {$_field['type']}'>
											<label for='cprofile_{$_field['id']}' class='ipsField_title'>{$_field['name']}</label>
											<div class='ipsField_content'>
												{$_field['field']}
												<if test="optCfieldDescSpan:|:$_field['desc'] != ''"><span class='desc'>{$_field['desc']}</span></if>
											</div>
										</li>
									</foreach>
								</if>
								</fieldset>
							</if>
						</ul>
					</fieldset>
					<fieldset class='submit'>
						<input type='submit' value='{$this->lang->words['new_account_submit']}' class='input_submit' />
					</fieldset>
				</form>
			</div>
		</div>
	</div>
	<if test="count( $userFromService ) AND ! empty( $userFromService['service'] )">
		<br />
		<div id='connect_existing'>
			<h2 class='maintitle'>{$this->lang->words['connect_account_title']}</h2>
			<div class='ipsBox'>
				<div class='ipsBox_container'>
					<form action="{parse url="app=core&amp;module=global&amp;section=register&amp;do=complete_login_do&amp;key={$key}&amp;mid={$mid}&amp;connectService={$userFromService['service']}" base="public"}" method="POST">
						<input type="hidden" name="termsread" value="1" />
						<input type="hidden" name="agree_to_terms" value="1" />
						<input type='hidden' name="from" value="existing" />
						<fieldset class='ipsPad_double'>
							<ul class='ipsForm ipsForm_horizontal'>
								<li class='ipsField clear'>
									<label for='login_user' class='ipsField_title'>{$this->lang->words['connect_username']}</label>
									<div class='ipsField_content'>
										<input id='login_user' class='input_text' type="text" size="50" maxlength="50" value="{$this->request['login_user']}" name="login_user" /><br />
										<span class='desc'>{$this->lang->words['connect_username_desc']}</span> 
									</div>
								</li>
								<li class='ipsField clear'>
									<label for='login_pass' class='ipsField_title'>{$this->lang->words['connect_password']}</label>
									<div class='ipsField_content'>
										<input id='login_pass' class='input_text' type="password" size="50" maxlength="50"  value="" name="login_pass" /><br />
										<span class='desc'>{$this->lang->words['connect_password_desc']}</span>
									</div>
								</li>
							</ul>
						</fieldset>
						<fieldset class='submit'>
							<input type='submit' value='{$this->lang->words['connect_account_submit']}' class='input_submit' />
						</fieldset>
					</form>
				</div>
			</div>
		</div>
	</if>
</div>
<script type='text/javascript'>
	<if test="$this->request['from']">
		ipb.vars['register_active'] = "{$this->request['from']}";
	</if>
	
	function setUpSignin(){
		if( !$('connect_existing') ){
			$('connect_choose').hide();
			return;
		}
		
		if( !Object.isUndefined( ipb.vars['register_active'] ) ){
			if( ipb.vars['register_active'] == 'new' ){
				$('connect_new').show();
				$('connect_existing').hide();
			} else {
				$('connect_existing').show();
				$('connect_new').hide();
			}
		} else {
			$('connect_new').hide();
			$('connect_existing').hide();
		}
		
		$('choose_new').observe('click', toggleSignIn);
		$('choose_existing').observe('click', toggleSignIn);
	}
	
	function toggleSignIn(e){
		Event.stop(e);
		var toggleTo = Event.findElement(e, 'a');
		if( !toggleTo ){ return; }
		
		if( toggleTo == $('choose_new') ){
			if( !$('connect_new').visible() ){
				$('connect_existing').fade( { duration: 0.3, afterFinish: function(){
					$('connect_new').appear( { duration: 0.2 } );
				} } );
			}
		} else {
			if( !$('connect_existing').visible() ){
				$('connect_new').fade( { duration: 0.3, afterFinish: function(){
					$('connect_existing').appear({ duration: 0.2});
				}});
			}
		}
	}
	
	setUpSignin();
</script>]]></template_content>
      <template_name>completePartialLogin</template_name>
      <template_data><![CDATA[$mid="",$key="",$custom_fields="",$errors="", $reg="", $userFromService=array()]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_register</template_group>
      <template_content><![CDATA[<h1 class='ipsType_pagetitle'>{$this->lang->words['lost_pass_form']}</h1>
<div class='ipsType_pagedesc'>
	{$this->lang->words['lost_your_password']} {$this->lang->words['lp_text']}
</div>
<br />
<if test="lostPasswordErrors:|:!empty( $errors )">
	<p class='message error'>
		<strong>{$this->lang->words['errors_found']}</strong><br />
		{$errors}
	</p>
	<br />
</if>

<form action="{parse url="app=core&module=global&section=lostpass" base="public"}" method="post">
<input type="hidden" name="do" value="11" />
<h2 class='maintitle'>{$this->lang->words['recover_password']}</h2>
<div id='lost_pass_form' class='ipsBox'>
	<div class='ipsBox_container ipsPad_double'>
		<fieldset>
			<ul class='ipsForm ipsForm_horizontal'>
				<li class='ipsField clear'>
					<label for='member_name' class='ipsField_title'>{$this->lang->words['lp_user_name']}</label>
					<p class='ipsField_content'>
						<input type="text" size="32" name="member_name" id='member_name' class='input_text' />
					</p>
				</li>
				<li class='ipsField clear'>
					<label for='email_addy' class='ipsField_title'>{$this->lang->words['lp_email_or']}</label>
					<p class='ipsField_content'>
						<input type="text" size="32" name="email_addy" id='email_addy' class='input_text' />
					</p>
				</li>
			</ul>
		</fieldset>
		<!--{REG.ANTISPAM}-->
	</div>
	<fieldset class='submit'>
			<input class='input_submit' type="submit" value="{$this->lang->words['lp_send']}" /> {$this->lang->words['or']} <a href='{$this->settings['board_url']}' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
</div>
</form>]]></template_content>
      <template_name>lostPasswordForm</template_name>
      <template_data><![CDATA[$errors=""]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_register</template_group>
      <template_content><![CDATA[<h1 class='ipsType_pagetitle'>{$this->lang->words['lpf_title']}</h1>
<br />
<p class='message'>
	{$this->lang->words['lpass_text']}
</p>]]></template_content>
      <template_name>lostPasswordWait</template_name>
      <template_data><![CDATA[$member=""]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_register</template_group>
      <template_content><![CDATA[<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=<% CHARSET %>" />
		<title>{$this->lang->words['cpf_title']}</title>
	</head>
	
	<body>
	<h2>{$this->settings['board_name']}: {$this->lang->words['cpf_title']}</h2>
	<if test="coppaConsentExtra:|:$this->settings['coppa_consent_extra']">
		<div>
			<b>{$this->lang->words['coppa_additional_info']}</b>
			<div>{$this->settings['coppa_consent_extra']}</div>
		</div>
	</if>
	<hr />
	<div>
		<b>{$this->lang->words['cpf_perm_parent']}</b>
		<div style='padding:8px;'>{$this->lang->words['cpf_fax']} <u>{$this->settings['coppa_fax']}</u></div>
		<div style='padding:8px;'>{$this->lang->words['cpf_address']}<br />
			<address>{$this->settings['coppa_address']}</address>
		</div>
	</div>
	<hr />
	<div>	
		<table class='ipbtable' cellspacing="1" cellpadding='8'>
			<tr>
				<td width="40%">{$this->lang->words['user_name']}</td>
				<td style='text-decoration:underline;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
			</tr>
			<tr>
				<td width="40%">{$this->lang->words['password']}</td>
				<td style='text-decoration:underline;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
			</tr>
			<tr>
				<td width="40%">{$this->lang->words['email_address']}</td>
				<td style='text-decoration:underline;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
			</tr>
		</table>
	</div>
	<hr />
	<div>
		<b>{$this->lang->words['cpf_sign']}</b>
	</div>
	<br />
	<div>
		<table class='ipbtable' cellspacing="1" cellpadding='8'>
			<tr>
				<td width="40%">{$this->lang->words['cpf_name']}</td>
				<td style='text-decoration:underline;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
			</tr>
			<tr>
				<td width="40%">{$this->lang->words['cpf_relation']}</td>
				<td style='text-decoration:underline;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
			</tr>
			<tr>
				<td width="40%">{$this->lang->words['cpf_signature']}</td>
				<td style='text-decoration:underline;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
			</tr>
			<tr>
				<td width="40%">{$this->lang->words['cpf_email']}</td>
				<td style='text-decoration:underline;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
			</tr>
			<tr>
				<td width="40%">{$this->lang->words['cpf_phone']}</td>
				<td style='text-decoration:underline;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
			</tr>
			<tr>
				<td width="40%">{$this->lang->words['cpf_date']}</td>
				<td style='text-decoration:underline;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
			</tr>
		</table>
	</div>
	<hr />
	<div><b>{$this->lang->words['coppa_admin_reminder']}</b>
		<div>{$this->lang->words['coppa_admin_remtext']}</div>
	</div>
	</body>
</html>]]></template_content>
      <template_name>registerCoppaForm</template_name>
      <template_data/>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_register</template_group>
      <template_content><![CDATA[<if test="useCoppa:|:$this->settings['use_coppa'] && (!$this->request['coppa'] && !IPSCookie::get('coppa'))">
<div class='post_form' id='coppa_form'>
	<fieldset class='general_box'>
		<h3>{$this->lang->words['coppa_info']}</h3>
		<div class='ipsPad'>
			{$this->lang->words['confirm_over_thirteen']}
		</div>
		<div class='ipsPad ipsForm_center'>
			<form>
			<select name='month' id='coppa_bday_m'>
				<foreach loop="coppaMRange:range( 1, 12 ) as $k">
					<option value='{$k}'>{$this->lang->words[ 'M_' . $k ]}</option>
				</foreach>
			</select>
			&nbsp;
			<select name='day' id='coppa_bday_d'>
				<foreach loop="coppaDRange:range( 1, 31 ) as $_day">
					<option value='{$_day}'>{$_day}</option>
				</foreach>
			</select>
			&nbsp;
			<select name='year' id='coppa_bday_y'>
				<foreach loop="coppaYRange:array_reverse( range( date('Y') - 110, date('Y') ) ) as $_year">
					<option value='{$_year}'>{$_year}</option>
				</foreach>
			</select>
			</form>
		</div>
	</fieldset>
	<fieldset class='ipsForm_submit ipsForm_right'>
		<a href='{parse url="app=core&amp;module=global&amp;section=register&amp;do=coppa_two&amp;coppa=1" base="public"}' id='confirm_coppa' class='ipsButton'>{$this->lang->words['coppa_continue_button']}</a>
	</fieldset>
</div>
<script type='text/javascript'>
	$('coppa_form').hide();
	
	function validateDate( popup )
	{
		var day		= parseInt($('coppa_bday_d').value);
		var month	= parseInt($('coppa_bday_m').value);
		var year	= parseInt($('coppa_bday_y').value);
		var compare		= Math.round( new Date( year + 13, month - 1, day ).getTime() / 1000 );
		var today		= Math.round( new Date().getTime() / 1000 );
		if ( (today - compare) < 0 )
		{
			window.location = ipb.vars['base_url'] + "app=core&module=global&section=register&do=coppa_two";
		}
		else
		{
			popup.hide();
			ipb.Cookie.set('coppa', 'no', true);
		}
	}
	
	ipb.vars['coppa_popup'] = new ipb.Popup( 'coppa_popup', {	type: 'pane',
																initial: $('coppa_form').show(),
																hideAtStart: false,
																hideClose: true,
																defer: false,
																modal: true,
																w: '550px' },
															{
																afterInit: function( popup ){
																	popup.getObj().select("#confirm_coppa")[0].observe('click', function(e){
																		Event.stop(e);
																		
																		return validateDate( popup );
																	});
																}
															} );
</script>
</if>]]></template_content>
      <template_name>registerCoppaStart</template_name>
      <template_data/>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_register</template_group>
      <template_content><![CDATA[{parse js_module="register"}
<h1 class='ipsType_pagetitle'>{$this->lang->words['cp2_title']}</h1>
<div class='ipsBox'>
	<div class='ipsBox_container ipsPad_double'>
		<h2 class='clear ipsType_subtitle'>{$this->lang->words['coppa_form']}</h2>
		<p>
			{$this->lang->words['cp2_text']}<br /><br />
			<strong><a href='{parse url="app=core&amp;module=global&amp;section=register&amp;do=12" base="public"}' title='{$this->lang->words['coppa_form']}'>{$this->lang->words['coppa_clickhere']}</a></strong>
		</p>
		<p>
			<br />
			{$this->lang->words['coppa_form_text']}
		</p>
		<p>
			<br />
			<a href='{parse url="app=core&amp;module=global&amp;section=register&amp;do=coppa_one" base="public"}' title='{$this->lang->words['cancel']}' class='cancel'>&lt; {$this->lang->words['cancel']}</a>
		</p>
	</div>	
</div>]]></template_content>
      <template_name>registerCoppaTwo</template_name>
      <template_data/>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_register</template_group>
      <template_content><![CDATA[{parse js_module="register"}
<script type='text/javascript'>
//<!#^#|CDATA|
	ipb.register.inSection = "mainform";
	ipb.register.nameMaxLength = "{$this->settings['max_user_name_length']}";
	ipb.register.allowedChars = "{$this->settings['username_characters']}";
	ipb.templates['accept'] = "&nbsp;<span id='[id]_msg' class='reg_msg reg_accept' style='display: none'><img src='{$this->settings['img_url']}/accept.png' alt='' /> [msg]</span>";
	ipb.templates['error'] = "&nbsp;<span id='[id]_msg' class='reg_msg reg_error' style='display: none'><img src='{$this->settings['img_url']}/exclamation.png' alt='' /> [msg]</span>";
//|#^#]>
</script>
<div id='register_form'>
	<!--<h1 class='ipsType_pagetitle'>{$this->lang->words['ready_register']}</h1>-->
	{parse template="registerStepBar" group="register" params="array('register_form' => 'ipsSteps_active', 'confirmation' => '')"}
	<if test="registerHasErrors:|:is_array( $general_errors ) && count( $general_errors )">
	<div class='message error'>
		{$this->lang->words['following_errors']}
		<ul>
			<foreach loop="general_errors:$general_errors as $r">
				<li>{$r}</li>
			</foreach>
		</ul>
	</div>
	<br />
	</if>
	<form action="{parse url="app=core&amp;module=global&amp;section=register" base="public"}" method="post" name="REG" id='register'>
		<input type="hidden" name="termsread" value="1" />
		<input type="hidden" name="agree_to_terms" value="1" />
		<input type="hidden" name="do" value="process_form" />
		<input type="hidden" name="coppa_user" value="{$data['coppa_user']}" />
		<input type='hidden' name='nexus_pass' value='1' />
		<input type='hidden' name='time_offset' id='auto_time_offset' value='0' />
		<input type='hidden' name='dst' id='auto_dst' value='0' />
		
		<h1 class='maintitle'>
			{$this->lang->words['ready_register']}
		</h1>
		<div class='ipsBox'>
		
			<div class='ipsBox_container ipsPad'>
			
				<if test="registerServices:|:IPSLib::loginMethod_enabled('facebook') || IPSLib::loginMethod_enabled('twitter')">
					<div class='ipsBox_container ipsBox_notice ipsForm ipsForm_horizontal' id='external_services'>
						<strong class='ipsField_title' id='save_time'>{$this->lang->words['want_to_save_time']}</strong>
						<div class='ipsField_content'>
							<ul class='ipsList_inline'>
								<if test="registerUsingFb:|:IPSLib::loginMethod_enabled('facebook')">
									<li><a href="{parse url="app=core&amp;module=global&amp;section=login&amp;serviceClick=facebook" base="public"}"><img src="{$this->settings['img_url']}/facebook_login.png" alt="" /></a></li>
								</if>
								<if test="twitterBox:|:IPSLib::loginMethod_enabled('twitter')">
									<li><a href="{parse url="app=core&amp;module=global&amp;section=login&amp;serviceClick=twitter" base="public"}"><img src="{$this->settings['img_url']}/twitter_login.png" alt="" /></a></li>
								</if>
							</ul>
						</div>
					</div>
				</if>
			
				<if test="registerHasInlineErrors:|:is_array( $inline_errors ) && ( $inline_errors['username'] || $inline_errors['dname'] || $inline_errors['email'] || $inline_errors['password'] )">
					<p class='message error'>{$this->lang->words['reg_errors_found']}</p>
					<br />
				</if>
				<fieldset>
					<ul class='ipsForm ipsForm_horizontal'>
						<li class='ipsField'>
							<p class='ipsField_content'>
								<span class='ipsForm_required ipsType_smaller'>* {$this->lang->words['required_field']}</span>
							</p>
						</li>
						<li class='ipsField clear <if test="ieDnameClass:|:$inline_errors['dname']">error</if>'>
							<label for='display_name' class='ipsField_title'>{$this->lang->words['reg_choose_dname']} <span class='ipsForm_required'>*</span></label>
							<p class='ipsField_content'>
								<input type='text' class='input_text' id='display_name' size='45' maxlength='{$this->settings['max_user_name_length']}' value='{$this->request['members_display_name']}' name='members_display_name' /><br />
								<span class='desc primary lighter'>
									<if test="ieDname:|:$inline_errors['dname']"><span class='error'>{$inline_errors['dname']}<br /></span></if>
									{parse expression="sprintf( $this->lang->words['dname_desc'], $this->settings['max_user_name_length'])"}
								</span>
							</p>
						</li>
						<li class='ipsField clear <if test="ieEmailClass:|:$inline_errors['email']">error</if>'>
							<label for='email_1' class='ipsField_title'>{$this->lang->words['reg_enter_email']} <span class='ipsForm_required'>*</span></label>
							<p class='ipsField_content'>
								<input type='text' id='email_1' class='input_text email' size='45' maxlength='150' name='EmailAddress' value='{$this->request['EmailAddress']}' /><br />
								<if test="ieEmail:|:$inline_errors['email']"><span class='desc'><span class='error'>{$inline_errors['email']}</span></span></if>
							</p>
						</li>
						<li class='ipsField clear <if test="iePasswordClass:|:$inline_errors['password']">error</if>'>
							<label for='password_1' class='ipsField_title'>{$this->lang->words['reg_choose_password']} <span class='ipsForm_required'>*</span></label>
							<p class='ipsField_content'>
								<input type='password' id='password_1' class='input_text password' size='45' maxlength='32' value='{$this->request['PassWord']}' name='PassWord' /><br />
								<span class='desc lighter'><if test="iePassword:|:$inline_errors['password']"><span class='error'>{$inline_errors['password']}<br /></span></if>{$this->lang->words['reg_choose_password_desc']}</span>
							</p>
						</li>
						<li class='ipsField clear'>
							<label for='password_2' class='ipsField_title'>{$this->lang->words['reg_reenter_password']} <span class='ipsForm_required'>*</span></label>
							<p class='ipsField_content'>
								<input type='password' id='password_2' class='input_text password' size='45' maxlength='32' value='{$this->request['PassWord_Check']}' name='PassWord_Check' /><br />
							</p>
						</li>
					</ul>
				</fieldset>
				<if test="hasNexusFields:|:!empty( $nexusFields )">
					<script type='text/javascript'>
						var _countriesWithStates = [];
						<foreach loop="statesJs:$nexusStates as $k => $v">
							_countriesWithStates["{$k}"] = 1;
						</foreach>
					</script>
					<hr />
					<fieldset>
						<ul class='ipsForm ipsForm_horizontal'>
							<foreach loop="fields:$nexusFields as $f">
								<if test="isAddressOrPhone:|:in_array( $f['f_column'], array( 'cm_address_1', 'cm_phone' ) )">
									<br />
								</if>
								<if test="isText:|:$f['f_type'] == 'text'">
									<li class='ipsField clear'>
										<label for='{$f['f_column']}' class='ipsField_title'><if test="isAddress1:|:$f['f_column'] == 'cm_address_1'">{$this->lang->words['cm_address']}<else /><if test="isAddress2:|:$f['f_column'] == 'cm_address_2'">&nbsp;<else />{$f['f_name']}</if></if> <if test="textRequired:|:$f['f_reg_require']"><span class='ipsForm_required'>*</span></if></label>
										<p class='ipsField_content'>
											<input type='text' class='input_text' id='{$f['f_column']}' size='25' maxlength='255' value='{$this->request[ $f['f_column'] ]}' name='{$f['f_column']}' />
										</p>
										<if test="textErrorMessage:|:$f['f_reg_require'] and $this->request['do'] == 'process_form' and !$this->request[ $f['f_column'] ]">
											<span class='error'>{$this->lang->words['err_complete_form']}</span>
										</if>
									</li>
								</if>
								<if test="isDropdown:|:$f['f_type'] == 'dropdown'">
									<li class='ipsField clear'>
										<label for='{$f['f_column']}' class='ipsField_title'>{$f['f_name']} <if test="dropdownRequired:|:$f['f_reg_require']"><span class='ipsForm_required'>*</span></if></label>
										<div class='ipsField_content'>
											<select name='{$f['f_column']}' id='{$f['f_column']}' <if test="isCountry:|:$f['f_column'] == 'cm_country'">onchange='states()'</if>>
												<foreach loop="options:explode( "\n", $f['f_extra'] ) as $k => $v">
													{parse variable="selected" default="" oncondition="$k == $this->request[ $f['f_column'] ] or $v == $this->request[ $f['f_column'] ]" value=" selected='selected'"}
													<option value='<if test="isCountrySelect:|:$f['f_column'] == 'cm_country'">{$v}<else />{$k}</if>'{parse variable="selected"}><if test="isCountryWords:|:$f['f_column'] == 'cm_country'">{$this->lang->words['nc_'.$v]}<else />{$v}</if></option>
												</foreach>
											</select>
										</div>
										<if test="dropdownErrorMessage:|:$f['f_reg_require'] and $this->request['do'] == 'process_form' and !$this->request[ $f['f_column'] ]">
											<span class='error'>{$this->lang->words['err_complete_form']}</span>
										</if>
									</li>
								</if>
								<if test="isSpecial:|:$f['f_type'] == 'special'">
									<li class='ipsField clear'>
										<label for='cm_state' class='ipsField_title'>{$this->lang->words['cm_state']} <if test="specialRequired:|:$f['f_reg_require']"><span class='ipsForm_required'>*</span></if></label>
										<div class='ipsField_content'>
											<input type='text' class='input_text' id='text-states' size='25' name='cm_state' value='{$this->request['cm_state']}' />
											<foreach loop="statesCountries:$nexusStates as $country => $_states">
												<select name='_cm_state' id='{$country}-states' class='input_select' style='display:none'>
													<foreach loop="states:$_states as $s">
														{parse variable="selected" default="" oncondition="$s[0] == $this->request['cm_state']" value=" selected='selected'"}
														<option value='{$s[0]}'{parse variable="selected"}>{$s[1]}</option>
													</foreach>
												</select>
											</foreach>
										</div>
										<if test="specialErrorMessage:|:$f['f_reg_require'] and $this->request['do'] == 'process_form' and !$this->request[ $f['f_column'] ]">
											<span class='error'>{$this->lang->words['err_complete_form']}</span>
										</if>
									</li>
								</if>
							</foreach>
						</ul>
					</fieldset>
					<script type='text/javascript'>
						function states()
						{
							var c = $('cm_country').value;
							if ( c in _countriesWithStates )
							{
								$( _display ).style.display = 'none';
								$( _display ).name = '_cm_state';
								
								$( c + '-states' ).style.display = '';
								$( c + '-states' ).name = 'cm_state';
								
								_display = c + '-states';
							}
							else
							{
								$( _display ).style.display = 'none';
								$( _display ).name = '_cm_state';
								
								$( 'text-states' ).style.display = '';
								$( 'text-states' ).name = 'cm_state';
								
								_display = 'text-states';
							}
						}
						
						var _display = 'text-states';
						states();
					</script>
				</if>				
				<if test="hasCfields:|:( is_array( $custom_fields['required'] ) && count( $custom_fields['required'] ) ) || ( is_array( $custom_fields['optional'] ) && count( $custom_fields['optional'] ) )">
				<hr />
					<fieldset>
						<ul class='ipsForm ipsForm_horizontal'>
						<if test="reqCfields:|:is_array( $custom_fields['required'] ) && count( $custom_fields['required'] )">
							<foreach loop="custom_required:$custom_fields['required'] as $_field">
								<li class='ipsField clear ipsField_{$_field['type']}'>
									<label for='cprofile_{$_field['id']}' class='ipsField_title'>{$_field['name']} <span class='ipsForm_required'>*</span></label>
									<div class='ipsField_content'>
										{$_field['field']}
										<if test="reqCfieldDescSpan:|:$_field['desc'] != ''"><br /><span class='desc lighter'>{$_field['desc']}</span></if>
									</div>
								</li>
							</foreach>
						</if>
			
						<if test="optCfields:|:is_array( $custom_fields['optional'] ) && count( $custom_fields['optional'] )">
							<foreach loop="custom_optional:$custom_fields['optional'] as $_field">
								<li class='ipsField clear ipsField_{$_field['type']}'>
									<label for='cprofile_{$_field['id']}' class='ipsField_title'>{$_field['name']}</label>
									<div class='ipsField_content'>
										{$_field['field']}
										<if test="optCfieldDescSpan:|:$_field['desc'] != ''"><br /><span class='desc lighter'>{$_field['desc']}</span></if>
									</div>
								</li>
							</foreach>
						</if>
					</fieldset>
				</if>
				<hr />
				{$data['qandaHTML']}
				{$data['captchaHTML']}
				<hr />
				<fieldset>
					<ul class='ipsForm ipsForm_horizontal'>
						<li class='ipsField clear ipsField_checkbox'>
							<input type="checkbox" name="allow_admin_mail" id="allow_admin_mail" value="1" class="input_check" <if test="defaultAAE:|:$this->request['allow_admin_mail'] || !isset( $this->request['allow_admin_mail'] )">checked='checked'</if> />
							<p class='ipsField_content'>
								<label for='allow_admin_mail'>{$this->lang->words['receive_admin_emails']}</label>
							</p>
						</li>
						<li class='ipsField clear ipsField_checkbox'>
							<input type='checkbox' name='agree_tos' id='agree_tos' value='1' class='input_check' <if test="checkedTOS:|:$this->request['agree_tos']">checked="checked"</if> />
							<p class='ipsField_content'>
								<label for='agree_tos' <if test="ieDnameClass:|:$inline_errors['dname']">error</if>>
									<strong>{$this->lang->words['agree_to_tos']} <a href='#' id='tou_link'>{$this->lang->words['terms_of_use']}</a></strong>
									<if test="ieTOS:|:$inline_errors['tos']"><br /><span class='error'>{$inline_errors['tos']}</span></if>
								</label>	
								<textarea id='tou' class='input_text' style='width: 350px; height: 100px; display: block;'>
									{$this->settings['_termsAndConditions']}
								</textarea>
							</p>
						</li>
						<if test="privvy:|:$this->settings['priv_title']">
						<li class='ipsPad_top ipsForm_center desc ipsType_smaller'>
							<a rel="nofollow" href='{parse url="app=core&amp;module=global&amp;section=privacy" template="privacy" seotitle="false" base="public"}'>{$this->settings['priv_title']}</a>
						</li>
						</if>
					</ul>
					<script type='text/javascript'>
						$('tou').hide();
					</script>
				</fieldset>
				<br />
				<fieldset>
					<input type='submit' class='ipsButton' id='register_submit' value='{$this->lang->words['register']}' />
				</fieldset>
			</div>
		</div>
	</form>
	<script type='text/javascript'>
		ipb.templates['registration_terms'] = new Template("<h3>{$this->lang->words['reg_terms_popup_title']}</h3><div class='ipsPad' id='tou_popup'>#{content}</div>");
	</script>
	{parse template="registerCoppaStart" group="register" params=""}
</div>]]></template_content>
      <template_name>registerForm</template_name>
      <template_data>$general_errors=array(), $data=array(), $inline_errors=array(), $time_select=array(), $custom_fields=array(), $nexusFields=array(), $nexusStates=array()</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_register</template_group>
      <template_content><![CDATA[<php>
	$this->templateVars['step_count'] = 1;
</php>
<div class='ipsSteps clearfix'>
	<ul>
		<if test="IPSLib::appIsInstalled('nexus') AND $this->settings['nexus_reg_show'] AND $this->settings['nexus_store_online']">
			<li class='<if test="$this->request['nexus_pass']">ipsSteps_done<else />ipsSteps_active</if>'>
				<strong class='ipsSteps_title'>{parse expression="sprintf($this->lang->words['regstep'], $this->templateVars['step_count'])"}</strong>
				<span class='ipsSteps_desc'>{$this->lang->words['regstep_choose_package']}</span>
				<span class='ipsSteps_arrow'>&nbsp;</span>
			</li>
			<!--Don't delete: {parse expression="$this->templateVars['step_count']++"}-->
		</if>
		<li class='{$step['register_form']}'>
			<strong class='ipsSteps_title'>{parse expression="sprintf($this->lang->words['regstep'], $this->templateVars['step_count'])"}</strong>
			<span class='ipsSteps_desc'>{$this->lang->words['regstep_your_account']}</span>
			<span class='ipsSteps_arrow'>&nbsp;</span>
			<!--Don't delete: {parse expression="$this->templateVars['step_count']++"}-->
		</li>
		<li class='{$step['confirmation']}'>
			<strong class='ipsSteps_title'>{parse expression="sprintf($this->lang->words['regstep'], $this->templateVars['step_count'])"}</strong>
			<span class='ipsSteps_desc'>{$this->lang->words['regstep_confirm']}</span>
			<span class='ipsSteps_arrow'>&nbsp;</span>
		</li>
	</ul>
</div>
<br />]]></template_content>
      <template_name>registerStepBar</template_name>
      <template_data>$step</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_register</template_group>
      <template_content><![CDATA[<input type="hidden" name="uid" value="{$uid}" />
<input type="hidden" name="aid" value="{$aid}" />]]></template_content>
      <template_name>show_lostpass_form_auto</template_name>
      <template_data><![CDATA[$aid="",$uid=""]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_register</template_group>
      <template_content><![CDATA[<h3 class='bar'>{$this->lang->words['lpf_title']}</h3>
	<ul>
		<li class='field'>
			<label for='user_id'>{$this->lang->words['user_id']}</label>
			<input type="text" size="32" maxlength="32" name="uid" id='user_id' class='input_text' />
		</li>
		<li class='field'>
			<label for='aid'>{$this->lang->words['val_key']}</label>
			<input type="text" size="32" maxlength="50" name="aid" id='aid' class='input_text' />
		</li>
	</ul>]]></template_content>
      <template_name>show_lostpass_form_manual</template_name>
      <template_data/>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_register</template_group>
      <template_content><![CDATA[<div id='register_form'>
	{parse template="registerStepBar" group="register" params="array('register_form' => '', 'confirmation' => 'ipsSteps_active')"}
	<h1 class='maintitle'>{$this->lang->words['ready_register']}</h1>
	<div class='ipsBox'>
		<div class='ipsBox_container ipsPad'>
			{parse expression="sprintf( $this->lang->words['auth_text'], $member['members_display_name'], $member['email'] )"}
		</div>
	</div>
</div>]]></template_content>
      <template_name>showAuthorize</template_name>
      <template_data><![CDATA[$member=""]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_register</template_group>
      <template_content><![CDATA[<h1 class='ipsType_pagetitle'>{$this->lang->words['dumb_header']}</h1>
<div class='ipsType_pageinfo'>
	{$this->lang->words['dumb_text']}
</div>
<if test="lostpassFormErrors:|:!empty( $error )">
	<p class='message error'>
		{$error}
	</p>
</if>
<form action="{parse url="app=core&module=global&section=lostpass" base="public"}" method="post">
<input type="hidden" name="do" value="03" />
<input type="hidden" name="type" value="lostpass" />
<div class='generic_bar'></div>
	<div class='post_form'>
		<!--IBF.INPUT_TYPE-->
		<h3 class='bar'>{$this->lang->words['new_password']}</h3>
		<if test="lpFormMethodChoose:|:$this->settings['lp_method'] == 'choose'">
			<ul>
				<li class='field'>
					<label for="pass1">{$this->lang->words['lpf_pass1']}</label>
					<input type="password" size="32" maxlength="32" name="pass1" id='pass1' class='input_text' />
					<br /><span class='desc'>{$this->lang->words['lpf_pass11']}</span>
				</li>
				<li class='field'>
					<label for="pass2">{$this->lang->words['lpf_pass2']}</label>
					<input type="password" size="32" maxlength="32" name="pass2" id='pass2' class='input_text' />
					<br /><span class='desc'>{$this->lang->words['lpf_pass22']}</span>
				</li>
			</ul>
		<else />
			<p class='field'>
		 		{$this->lang->words['lp_random_pass']}
			</p>
		</if>
		<!--{REG.ANTISPAM}-->
		<fieldset class='submit'>
			<input class='input_submit' type="submit" value="{$this->lang->words['dumb_submit']}" />
		</fieldset>
	</div>
</form>]]></template_content>
      <template_name>showLostpassForm</template_name>
      <template_data>$error</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_register</template_group>
      <template_content><![CDATA[<h1 class='ipsType_pagetitle'>{$this->lang->words['lpf_title']}</h1>
<br />
<p class='message'>
	{$this->lang->words['lpass_text_random']}
</p>]]></template_content>
      <template_name>showLostPassWaitRandom</template_name>
      <template_data><![CDATA[$member=""]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_register</template_group>
      <template_content><![CDATA[<h1 class='ipsType_pagetitle'>{$this->lang->words['dumb_header']}</h1>
<br />
<p class='message unspecific'>
	{$this->lang->words['validate_instructions_1']}<br />
	{parse expression="sprintf( $this->lang->words['validate_instructions_2'], "<a href='{parse url="app=core&module=global&section=register&do=reval" base="public"}'>{$this->lang->words['validate_instructions_click']}</a>" )"}
</p>
<br />
<form action="{parse url="" base="public"}" method="post" name="REG">
	<input type="hidden" name="app" value="core" />
	<input type="hidden" name="module" value="global" />
	<input type="hidden" name="section" value="register" />
	<input type="hidden" name="do" value="auto_validate" />
	<input type="hidden" name="type" value="{$type}" />
	<div class='ipsBox'>
		<div class='ipsBox_container ipsPad'>
			<ul class='ipsForm ipsForm_horizontal'>
				<li class='ipsField'>
					<label class='ipsField_title'>{$this->lang->words['user_id']} <span class='ipsForm_required'>*</span></label>
					<div class='ipsField_content'>
						<input type="text" size="32" maxlength="32" name="uid" id='userid' class='input_text' />
					</div>
				</li>
				<li class='ipsField'>
					<label class='ipsField_title'>{$this->lang->words['val_key']} <span class='ipsForm_required'>*</span></label>
					<div class='ipsField_content'>
						<input type="text" size="32" maxlength="50" name="aid" id='valkey' class='input_text' />
					</div>
				</li>
			</ul>
		</div>
	</div>
	<fieldset class='submit'>
		<input class='input_submit' type="submit" value="{$this->lang->words['dumb_submit']}" />
	</fieldset>
</form>]]></template_content>
      <template_name>showManualForm</template_name>
      <template_data><![CDATA[$type="reg"]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_register</template_group>
      <template_content><![CDATA[<h1 class='ipsType_pagetitle'>{$this->lang->words['registration_process']}</h1>
<br />
<p class='message'>
	{$this->lang->words['thank_you']} {$member['members_display_name']}. {$this->lang->words['preview_reg_text']}
</p>]]></template_content>
      <template_name>showPreview</template_name>
      <template_data><![CDATA[$member=""]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_register</template_group>
      <template_content><![CDATA[<h1 class='ipsType_pagetitle'>{$this->lang->words['rv_title']}</h1>
<br />
<p class='message'>
	{$this->lang->words['rv_process']}<br />
	{$this->lang->words['rv_done']}
</p>]]></template_content>
      <template_name>showRevalidated</template_name>
      <template_data/>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_register</template_group>
      <template_content><![CDATA[<h1 class='ipsType_pagetitle'>{$this->lang->words['rv_title']}</h1>
<br />
<if test="revalidateError:|:$error">
<p class='message error'>{$this->lang->words[$error]}</p>
<br />
</if>
<form action="{parse url="app=core&amp;module=global&amp;section=register" base="public"}" method="post" name="REG">
<input type="hidden" name="do" value="reval2" />
	<p class='message unspecific'>
		{$this->lang->words['rv_ins']}
	</p>
	
	<div class='post_form'>
		<fieldset class='general_box'>
			<h3>{$this->lang->words['rv_bar_title']}</h3>
			<label for='username'>{$this->lang->words['rv_name']}</label>
			<input type="text" class='input_text' id='username' size="32" maxlength="64" name="username" value="$name" />
		</fieldset>
		<fieldset class='submit'>
			<input class='input_submit' type="submit" value="{$this->lang->words['rv_go']}" /> {$this->lang->words['or']} <a href='{$this->settings['board_url']}' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
		</fieldset>
	</div>
</form>]]></template_content>
      <template_name>showRevalidateForm</template_name>
      <template_data><![CDATA[$name="",$error=""]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
  </templategroup>
  <templategroup group="skin_reports">
    <template>
      <template_group>skin_reports</template_group>
      <template_content><![CDATA[<h2 class='maintitle'>{$this->lang->words['report_basic_title']}</h2>
<div class='generic_bar'></div>
<form action="{$this->settings['base_url']}app=core&amp;module=reports&amp;rcom={$this->request['rcom']}&amp;send=1" method="post" name="REPLIER">
	<input type='hidden' name='k' value='{$this->member->form_hash}' />
	<div class='ipsForm ipsForm_horizontal'>
		<fieldset>
			<h3 class='bar'>{$this->lang->words['reporting_title']} <a href="{$url}" title='{$this->lang->words['view_content']}'>{$name}</a></h3>
			<ul class='ipsPad'>
				<li class='ipsField'>
					<label for='message' class='ipsField_title'>{$this->lang->words['report_basic_enter']}</label>
					<p class='ipsField_content'>
						<textarea id='message' class='input_text' name='message' cols='60' rows='8'></textarea><br />
						<span class='desc'>{$this->lang->words['report_basic_desc']}</span>
					</p>
				</li>
				{$extra_data}
			</ul>
		</fieldset>
		<fieldset class='submit'>
			<input type="submit" class='input_submit' value="{$this->lang->words['report_basic_submit']}" accesskey='s' /> {$this->lang->words['or']} <a href='{$url}' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
		</fieldset>
	</div>
</form>]]></template_content>
      <template_name>basicReportForm</template_name>
      <template_data><![CDATA[$name="", $url="", $extra_data=""]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_reports</template_group>
      <template_content><![CDATA[{parse js_module="reports"}
<if test="noviewall:|:!$this->request['showall']">
	<p class='message'>{$this->lang->words['only_active_note']}  <a href='{parse url="app=core&amp;module=reports&amp;do=index&amp;showall=1" base="public"}'>{$this->lang->words['click_here_link']}</a> {$this->lang->words['to_view_allrep']}</p>
</if>
<if test="hasPages:|:$pages">
	<div class='topic_controls'>
		{$pages}
	</div>
</if>
<br class='clear' />
<form method="post" action="{$this->settings['base_url']}app=core&amp;module=reports&amp;do=process&amp;st={$this->request['st']}">
<input type='hidden' name='k' value='{$this->member->form_hash}' />
<table class='ipb_table report_center' summary='{$this->lang->words['reported_content_summary']}'>
	<caption class='maintitle'>{$this->lang->words['list_title']}</caption>
	<tr class='header'>
		<th scope='col' class='col_r_icon'>&nbsp;</th>
		<th scope='col' class='col_r_title'>{$this->lang->words['list_header_title']}</th>
		<th scope='col' class='col_r_section'>{$this->lang->words['list_header_section']}</th>
		<th scope='col' class='col_r_total short'>{$this->lang->words['list_header_reports']}</th>
		<th scope='col' class='col_r_comments short'>{$this->lang->words['list_header_comments']}</th>
		<th scope='col' class='col_r_updated'>{$this->lang->words['list_header_updated_by']}</th>
		<th scope='col' class='col_r_mod short'><input type='checkbox' id='checkAllReports' title='{$this->lang->words['select_all_reports']}' class='input_check' /></th>
	</tr>
	<if test="indexHasReports:|:count($reports)">
		{parse striping="reportsTable" classes="row1,row2"}
		<foreach loop="reports:$reports as $report">
			<tr class='{parse striping="reportsTable"}'>
				<td class='short altrow'>
					<if test="isUnread:|:empty($report['_isRead'])">
						{parse replacement="t_unread"}
					</if>
					<a href="{parse url="app=core&amp;module=reports&amp;section=reports&amp;do=process&amp;report_ids[{$report['id']}]={$report['id']}&amp;newstatus=2&amp;k={$this->member->form_hash}" base="public"}" title='{$this->lang->words['change_current_status']}' class='ipbmenu' id='change_status-{$report['id']}'><span id="rstat-{$report['id']}">{$report['status_icon']}</span></a>
				</td>
				<td>
					<a href="{$this->settings['base_url']}&amp;app=core&amp;module=reports&amp;do=show_report&amp;rid={$report['id']}" title='{$this->lang->words['view_report']}'>{$report['title']}</a>
					<if test="statusesLoop:|:is_array( $statuses ) && count( $statuses )">
						<ul class='ipbmenu_content' id='change_status-{$report['id']}_menucontent'>
							<foreach loop="statuses:$statuses as $status_id => $status">
								<li class='{$status_id} <if test="$status_id == $report['status']">status-selected</if>'><a href="{parse url="app=core&amp;module=reports&amp;section=reports&amp;do=process&amp;report_ids[{$report['id']}]={$report['id']}&amp;newstatus={$status_id}&amp;k={$this->member->form_hash}" base="public"}" title='{$this->lang->words['change_status_title']}' class='change-status' id='{$report['id']}:{$status_id}'>{$this->lang->words['mark_status_as']} <strong>{$status['title']}</strong></a></li>
							</foreach>
						</ul>
					</if>
				</td>
				<td class='altrow'>
					<if test="indexReportUrl:|:$report['section']['url']">
						<if test="!$report['section']['title']">
							<a href="{$report['section']['url']}" title='{$this->lang->words['go_to_section']}' class='desc blend_links'>{$this->lang->words['report_no_title']}</a>
						<else />
							<a href="{$report['section']['url']}" title='{$this->lang->words['go_to_section']}'>{$report['section']['title']}</a>
						</if>
					<else />
						<if test="!$report['section']['title']">
							{$this->lang->words['report_no_title']}
						<else />
							{$report['section']['title']}
						</if>
					</if>
				</td>
				<td class='short'>{$report['num_reports']}</td>
				<td class='short altrow'>{$report['num_comments']}</td>
				<td>
					<a href='{parse url="showuser={$report['updated_by']}" seotitle="{$report['member']['members_seo_name']}" template="showuser" base="public"}' class='ipsUserPhotoLink left'>
						<img src='{$report['member']['pp_small_photo']}' class='ipsUserPhoto ipsUserPhoto_mini' />
					</a>
					<ul class='last_post ipsType_small'>
						<li>{$this->lang->words['by_ucfirst']} {parse template="userHoverCard" group="global" params="$report['member']"}</li>
						<li>{parse date="$report['date_updated']" format="date"}</li>
					</ul>
				</td>
				<td class='short altrow'>
					<input type='checkbox' id='report_check_{$report['id']}' class='input_check checkall' name='report_ids[]' value='{$report['id']}' />
				</td>
			</tr>
		</foreach>
	<else />
		<tr>
			<td colspan='7' class='no_messages row1'>
				{$this->lang->words['no_reports']}
			</td>
		</tr>
	</if>
</table>
<div id='topic_mod' class='moderation_bar rounded with_action clear'>
	<a href='#' class='ipsButton_secondary left' id='prune_reports'>{$this->lang->words['report_option_prune']}</a>
	<span class='desc'>{$this->lang->words['r_with_selected']}</span>
	<select name="newstatus" id="report_actions">
		<option value="x">---</option>
		<if test="accessACP:|:$this->memberData['g_access_cp']">
			<optgroup label="{$this->lang->words['report_actions']}"  style="font-style: normal;">
			<if test="$this->memberData['g_access_cp']"><option value="d">{$this->lang->words['report_option_delete']}</option></if>
			</optgroup>
		</if>
		<optgroup label="{$this->lang->words['report_actions_mark_optgroup']}" style="font-style: normal;">
		{$acts}
		</optgroup>
	</select>
	<label for='pruneDayBox' id='pruneDayLabel'>{$this->lang->words['older_than']}</label>
	<input type="text" name="pruneDays" id="pruneDayBox" class='input_text' size="3" value="" />
	<span id='pruneDayLang'>{$this->lang->words['report_prune_days_box']}</span>
	<input type="submit" id='report_mod' class="input_submit alt" value="{$this->lang->words['r_go']}" />
</div>
</form>
<div id='prune_reports_form' style='display: none'>
	<div class='ipsPad ipsForm_center'>
		<form method="post" action="{$this->settings['base_url']}app=core&amp;module=reports&amp;do=process&amp;st={$this->request['st']}">
		<input type='hidden' name='k' value='{$this->member->form_hash}' />
		<input type='hidden' name='newstatus' value='p' />
		{$this->lang->words['report_prune_1']} <input type="text" name="pruneDays" id="pruneDayBox" class='input_text' size="3" value="" /> {$this->lang->words['report_prune_2']}&nbsp;&nbsp;
		<input type="submit" id='report_mod' class="input_submit alt" value="{$this->lang->words['r_go']}" />
	</div>
</div>
<script type='text/javascript'>
	$('prune_reports').observe('click', function(e){
		Event.stop(e);
		
		if( ipb.reports.prunePopup ){
			ipb.reports.prunePopup.show();
		}
		else
		{
			ipb.reports.prunePopup = new ipb.Popup( 'prune', { type: 'balloon',
													initial: $('prune_reports_form').show(),
													stem: true,
													hideClose: true,
													hideAtStart: false,
													attach: { target: $('prune_reports'), position: 'auto', 'event': 'click' },
													w: '350px' }
												);
			
		}
	});
</script>]]></template_content>
      <template_name>reportsIndex</template_name>
      <template_data><![CDATA[$reports=array(), $acts="", $pages="", $statuses=array()]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_reports</template_group>
      <template_content><![CDATA[<img src='{$this->settings['public_dir']}{$img}' alt='{$this->lang->words['status']}' />]]></template_content>
      <template_name>statusIcon</template_name>
      <template_data>$img, $width, $height</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_reports</template_group>
      <template_content><![CDATA[{parse js_module="reports"}
<div class='message'>
	{$this->lang->words['report_about_intro']} <if test="handlePmSpecial:|:$options['class'] == 'messages'">
		{$this->lang->words['report_about_pm']} {$options['title']}.
		<if test="canJoinPm:|:in_array( $this->memberData['member_group_id'], explode( ',', $this->registry->getClass('reportLibrary')->plugins['messages']->_extra['plugi_messages_add'] ) )">
			<a href='{parse url="app=core&amp;module=reports&amp;section=reports&amp;do=showMessage&amp;topicID={$options['topicID']}" base="public"}'>{$this->lang->words['report_join_pm']}</a>
		</if>
	<else />
		<a href="{$options['url']}" title="{$this->lang->words['report_view_reported']}">{$options['title']}</a>
	</if>
</div>
<br />
<div class='topic_controls'>
	<ul class='topic_buttons'>
		<if test="$this->memberData['g_access_cp']"><li><a href='{parse url="app=core&amp;module=reports&amp;section=reports&amp;do=process&amp;report_ids[{$options['rid']}]={$options['rid']}&amp;newstatus=d&amp;k={$this->member->form_hash}" base="public"}' title='{$this->lang->words['delete_report']}'><img src='{$this->settings['img_url']}/delete.png' alt='' id='delete_report' /> {$this->lang->words['delete_report']}</a></li></if>
		<li><a href='{parse url="app=core&amp;module=reports&amp;section=reports&amp;do=process&amp;report_ids[{$options['rid']}]={$options['rid']}&amp;newstatus=2&amp;k={$this->member->form_hash}" base="public"}' title='{$this->lang->words['change_current_status']}' class='ipbmenu' id='change_status'>{$options['status_icon']} {$this->lang->words['current_status']} <strong>{$options['status_text']}</strong></a></li>
	</ul>
</div>
<if test="statusesLoop:|:is_array( $options['statuses'] ) && count( $options['statuses'] )">
	<ul class='ipbmenu_content' id='change_status_menucontent'>
		<foreach loop="statuses:$options['statuses'] as $status_id => $status">
			<if test="setStatus:|:$status_id != $options['status_id']">
				<li><a href="{parse url="app=core&amp;module=reports&amp;section=reports&amp;do=process&amp;report_ids[{$options['rid']}]={$options['rid']}&amp;newstatus={$status_id}&amp;k={$this->member->form_hash}" base="public"}" title='{$this->lang->words['change_status_title']}' />{$this->lang->words['mark_status_as']} <strong>{$status['title']}</strong></a></li>
			</if>
		</foreach>
	</ul>
</if>
<br />
<div class='topic hfeed'>
<h2 class='maintitle'>{$this->lang->words['reports_h2']}</h2>
<div class='generic_bar'></div>
<if test="hasReports:|:is_array($reports) AND count($reports)">
	<foreach loop="viewReports:$reports as $report">
		<div class='post_block  hentry clear'>
			<div class='post_wrap'>
				<h3>{parse template="userHoverCard" group="global" params="$report"}</h3>
				<div class='author_info'>
					{parse template="userInfoPane" group="global" params="$report['author'], 'mreport', array( 'id2' => $report['rid'] )"}
				</div>
				<div class='post_body'>
					<p class='posted_info'>{$this->lang->words['posted_prefix']} {parse date="$report['date_reported']" format="long"}</p>
					<div class='post entry-content'>{$report['report']}</div>
				</div>
			</div>
			<br class='clear' />
		</div>
	</foreach>
</if>
</div>
<br /><hr /><br />
<div class='ipsBox'>
	<div class='ipsBox_container ipsPad'>
		<h2 class='ipsType_subtitle'>{$comments['count']} {$this->lang->words['comments_h2']}</h2>
		<div>
			{$comments['html']}
		</div>
	</div>
</div>
<if test="disablelightbox:|:!$this->settings['disable_lightbox']">
{parse template="include_lightbox" group="global" params=""}
</if>
{parse template="include_highlighter" group="global" params="1"}]]></template_content>
      <template_name>viewReport</template_name>
      <template_data>$options=array(), $reports=array(), $comments=array()</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
  </templategroup>
  <templategroup group="skin_search">
    <template>
      <template_group>skin_search</template_group>
      <template_content><![CDATA[<!--Begin Msg Number {$data['pid']}-->
<div class='post_block hentry clear no_sidebar ipsBox_container' id='post_id_{$data['pid']}'>
	<div class='post_wrap'>
		<if test="postMid:|:$data['member_id']">
			<h3 class='row2'>
		<else />
			<h3 class='guest row2'>
		</if>
		<if test="postModCheckbox:|:$this->memberData['g_is_supmod']">
			<span class='right'>
				<label for='checkbox_{$data['pid']}' class='post_mod hide'>{$this->lang->words['mod_select_post']}</label><input type='checkbox' id='checkbox_{$data['pid']}' name='selectedpids[]' value='{$data['pid']}' class='post_mod right'<if test="postModSelected:|:!empty( $data['_pid_selected'] )"> checked='checked'</if> />
			</span>
		</if>
			<span class='post_id right ipsType_small desc blend_links'><a href='{parse url="showtopic={$data['topic_id']}&amp;view=findpost&amp;p={$data['pid']}" template="showtopic" seotitle="{$data['title_seo']}" base="public"}' rel='bookmark' title='{$this->lang->words['link_to_post']} #{$data['pid']}'>#{$data['pid']}</a></span>
			<a href="{parse url="showtopic={$data['tid']}" seotitle="{$data['title_seo']}" template="showtopic" base="public"}">{IPSText::truncate( $data['topic_title'], 80)}</a>
		</h3>
		<div class='post_body'>
			<p class='posted_info desc lighter ipsType_small'>
				<img src='{$data['pp_thumb_photo']}' class='ipsUserPhoto ipsUserPhoto_tiny' /> {$this->lang->words['posted']} {$this->lang->words['search_by']}
				<if test="postMember:|:$data['member_id']"><span class="author vcard">{parse template="userHoverCard" group="global" params="$data"}</span><else />{$data['members_display_name']}</if>
				{$this->lang->words['on']} <abbr class="published" title="{parse expression="date( 'c', $data['_post_date'] )"}">{parse date="$data['_post_date']" format="long"}</abbr>
				<if test="hasForumTrail:|:$data['_forum_trail']">
					{$this->lang->words['in']}
					<foreach loop="topicsForumTrail:$data['_forum_trail'] as $i => $f">
						<if test="notLastFtAsForum:|:$i+1 == count( $data['_forum_trail'] )"><a href='{parse url="{$f[1]}" template="showforum" seotitle="{$f[2]}" base="public"}'>{$f[0]}</a></if>
					</foreach>
				</if>
			</p>
			<div class='post entry-content'>
				{$data['post']}
				{$data['attachmentHtml']}
			</div>
		</div>
	</div>
	<br />
</div>
<hr />
<br />]]></template_content>
      <template_name>asForumPosts</template_name>
      <template_data>$data</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_search</template_group>
      <template_content><![CDATA[<tr class='__topic __tid{$data['tid']} <if test="!$data['_icon']['is_read']">unread</if> expandable <if test="$data['approved'] != 1"> moderated</if>' id='trow_{$data['tid']}' data-tid="{$data['tid']}">
	<td class='col_f_icon short altrow'>
		{parse template="generateTopicIcon" group="global_other" params="$data['_icon'], $data['_unreadUrl']"}
	</td>
	<td>
		<if test="archivedBadge:|:$this->registry->class_forums->fetchArchiveTopicType( $data ) == 'archived'">
			<span class='ipsBadge ipsBadge_lightgrey'>{$this->lang->words['topic_is_archived']}</span>
		</if>
		<if test="hasPrefix:|:!empty($data['tags']['formatted']['prefix'])">
			{$data['tags']['formatted']['prefix']}
		</if>
		<h4><a href='{parse url="showtopic={$data['tid']}<if test="isNewPostTR:|:$this->request['do']=='new_posts' OR $this->request['do']=='active'">&amp;view=getnewpost<else /><if test="resultIsPostTR:|:$data['pid'] AND $data['pid'] != $data['topic_firstpost']">&amp;view=findpost&amp;p={$data['pid']}</if></if>&amp;hl={$data['cleanSearchTerm']}" seotitle="{$data['title_seo']}" template="showtopic" base="public"}' title='{$this->lang->words['view_result']}'>{$data['_shortTitle']}</a></h4>
		<span class='desc blend_links'>
			<foreach loop="topicsForumTrail:$data['_forum_trail'] as $i => $f">
			<if test="notLastFtAsForum:|:$i+1 == count( $data['_forum_trail'] )"><span class='desc lighter'>{$this->lang->words['search_aft_in']}</span> <a href='{parse url="{$f[1]}" template="showforum" seotitle="{$f[2]}" base="public"}'>{$f[0]}</a></if>
			</foreach>
		</span>
		<span class='desc lighter blend_links toggle_notify_off'>
			<br />{$this->lang->words['aft_started_by']} {$data['starter']}, {parse date="$data['start_date']" format="DATE"}
			<if test="hasTags:|:count($data['tags']['formatted'])">
				&nbsp;<img src='{$this->settings['img_url']}/icon_tag.png' /> {$data['tags']['formatted']['truncatedWithLinks']}
			</if>
		</span>
		<if test="multipages:|:isset( $data['pages'] ) AND is_array( $data['pages'] ) AND count( $data['pages'] )">
			<ul class='mini_pagination toggle_notify_off'>
			<foreach loop="pages:$data['pages'] as $page">
					<if test="haslastpage:|:$page['last']">
						<li><a href="{parse url="showtopic={$data['tid']}&amp;st={$page['st']}" seotitle="{$data['title_seo']}" template="showtopic" base="public"}" title='{$this->lang->words['topic_goto_page']} {$page['page']}'>{$page['page']} {$this->lang->words['_rarr']}</a></li>
					<else />
						<li><a href="{parse url="showtopic={$data['tid']}&amp;st={$page['st']}" seotitle="{$data['title_seo']}" template="showtopic" base="public"}" title='{$this->lang->words['topic_goto_page']} {$page['page']}'>{$page['page']}</a></li>
					</if>
			</foreach>
			</ul>
		</if>
		<if test="bothSearchUnderTitle:|:IPSSearchRegistry::get('set.searchResultType') == 'both'">
			<span class='desc lighter blend_links toggle_notify_off'>
				<br />{$this->lang->words['n_last_post_by']} {$data['last_poster']},
				<a href='{parse url="showtopic={$data['tid']}&amp;view=getlastpost" seotitle="{$data['title_seo']}" template="showtopic" base="public"}' title='{$this->lang->words['goto_last_post']}'>{parse date="$data['_last_post']" format="DATE"}</a>
			</span>
		</if>
		<if test="isFollowedStuff:|:count($data['_followData'])">
			{parse template="followData" group="search" params="$data['_followData']"}
		</if>
	</td>
	<td class='col_f_preview __topic_preview'>
		<a href='#' class='expander closed' title='{$this->lang->words['view_topic_preview']}'>&nbsp;</a>
	</td>
	<td class='col_f_views'>
		<ul>
			<li>{parse format_number="$data['posts']"} <if test="replylang:|:intval($data['posts']) == 1">{$this->lang->words['reply']}<else />{$this->lang->words['replies']}</if></li>
			<li class='views desc'>{parse format_number="$data['views']"} {$this->lang->words['views']}</li>
		</ul>
	</td>
	<td class='col_f_post'>
		{parse template="userSmallPhoto" group="global" params="$data"}
		<ul class='last_post ipsType_small'>
			<if test="bothSearch:|:IPSSearchRegistry::get('set.searchResultType') == 'both'">
				<li>{parse template="userHoverCard" group="global" params="$data"}</li>
				<li>
					<a href='{parse url="showtopic={$data['tid']}&amp;view=getlastpost" seotitle="{$data['title_seo']}" template="showtopic" base="public"}' title='{$this->lang->words['goto_last_post']}'>{$this->lang->words['n_posted']} {parse date="$data['_post_date']" format="DATE"}</a>
				</li>
			<else />
				<li>{$data['last_poster']}</li>
				<li>
					<a href='{parse url="showtopic={$data['tid']}&amp;view=getlastpost" seotitle="{$data['title_seo']}" template="showtopic" base="public"}' title='{$this->lang->words['goto_last_post']}'>{parse date="$data['_last_post']" format="DATE"}</a>
				</li>
			</if>
		</ul>
	</td>
	<if test="isFollowedStuff:|:count($data['_followData'])">
		<td class='col_f_mod'>
			<input class='input_check checkall toggle_notify_on' type="checkbox" name="likes[]" value="{$data['_followData']['like_app']}-{$data['_followData']['like_area']}-{$data['_followData']['like_rel_id']}" />
		</td>
	<else />
		<if test="isAdmin:|:$this->memberData['g_is_supmod']">
			<td class='col_f_mod'>
				<if test="isArchivedCb:|:$this->request['search_app_filters']['forums']['liveOrArchive'] == 'archive'">
					&nbsp;
				<else />
					<input type='checkbox' class='input_check topic_mod' id='tmod_{$data['tid']}' />
				</if>
			</td>
		</if>
	</if>
</tr>
<if test="$data['pid']">
<script type='text/javascript'>
ipb.global.searchResults[ {$data['tid']} ] = { pid: {parse expression="intval($data['pid'])"}, searchterm:"{$data['cleanSearchTerm']}" };
</script>
</if>]]></template_content>
      <template_name>asForumTopics</template_name>
      <template_data>$data</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_search</template_group>
      <template_content><![CDATA[<p class='notify_info toggle_notify_on'>
	<span>
		<if test="$followData['like_notify_do']">
			<img src='{$this->settings['img_url']}/icon_follow_freq.png' /> &nbsp;{$this->lang->words['notify_freq_' . $followData['like_notify_freq'] ]}
		<else />
		 	<img src='{$this->settings['img_url']}/icon_follow_freq_none.png' /> &nbsp;{$this->lang->words['notify_freq_none']}
		</if>
	</span>
	<if test="$followData['like_is_anon']">
		<span>
			<img src='{$this->settings['img_url']}/icon_follow_anon.png' /> &nbsp;{$this->lang->words['anonymous']}
		</span>
	</if>
</p>]]></template_content>
      <template_name>followData</template_name>
      <template_data>$followData</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_search</template_group>
      <template_content><![CDATA[{parse js_module="forums"}
<script type='text/javascript' src='{$this->settings['public_dir']}js/ips.forums.js'></script>
<table class='ipb_table topic_list' id='forum_table'>
	<if test="count($results)">
		<foreach loop="NCresultsAsForum:$results as $result">
			{$result['html']}
		</foreach>
	</if>
</table>]]></template_content>
      <template_name>followedContentForumsWrapper</template_name>
      <template_data>$results</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_search</template_group>
      <template_content><![CDATA[<script type='text/javascript'>
//<!#^#|CDATA|
	var markerURL  = ipb.vars['base_url'] + "app=forums&module=ajax&section=markasread&i=1"; // Ajax URL so don't use &amp;
	var unreadIcon = "<img src='{$this->settings['img_url']}/f_icon_read.png' />";
//|#^#]>
</script>
<table class='ipb_table topic_list' id='forum_table'>
	<if test="count($results)">
		<foreach loop="NCresultsAsForum:$results as $forum_data">
			<tr class='<if test="$forum_data['_has_unread']">unread</if>'>
				<td class='col_c_icon altrow'>
					<if test="$forum_data['_has_unread']">
						<a id='forum_img_{$forum_data['id']}' href="{parse url="app=forums&amp;module=forums&amp;section=markasread&amp;marktype=forum&amp;forumid={$forum_data['id']}&amp;returntoforumid={$this->request['f']}&amp;i=1" base="public"}" data-tooltip="{$this->lang->words['bi_markread']}" class='forum_marker'><img src='{$this->settings['img_url']}/f_icon.png' /></a>
						<script type='text/javascript'>
							ipb.global.registerMarker( "forum_img_{$forum_data['id']}", "{$forum_data['img_new_post']}", markerURL + "&forumid={$forum_data['id']}" );
						</script>
					<else />
						<img src='{$this->settings['img_url']}/f_icon_read.png' />
					</if>
				</td>
				<td class='col_c_forum'>
					<h4><a href="{parse url="showforum={$forum_data['id']}" seotitle="{$forum_data['name_seo']}" template="showforum" base="public"}" title='{$forum_data['name']}'>{$forum_data['name']}</a></h4>
					
					<if test="showSubForums:|:$forum_data['show_subforums'] AND count( $forum_data['subforums'] ) AND $forum_data['show_subforums']">
						<br />
						<ol class='ipsList_inline ipsType_small subforums toggle_notify_off' id='subforums_{$forum_data['id']}'>
							<foreach loop="subforums:$forum_data['subforums'] as $__id => $__data">
								<if test="showSubForumsLit:|:$__data[3]"><li class='unread'><else /><li></if>
									<a href="{parse url="showforum={$__data[0]}" seotitle="{$__data[2]}" template="showforum" base="public"}" title='{$__data[1]}'>{$__data[1]}</a>
								</li>
							</foreach>
						</ol>
					</if>
					<if test="isFollowedStuff:|:count($forum_data['_followData'])">
						{parse template="followData" group="search" params="$forum_data['_followData']"}
					</if>
				</td>
				<td class='col_c_stats ipsType_small'>
					<strong>{$forum_data['topics']}</strong> {$this->lang->words['topics']}<br />
					<strong>{$forum_data['posts']}</strong> {$this->lang->words['replies']}
				</td>
				<td class='col_c_post'>
					<if test="hideLastInfo:|:$forum_data['hide_last_info']">
						<ul class='last_post'>
							<li class='desc'>{$this->lang->words['f_protected']}</li>
						</ul>
					<else />
						<if test="hasphoto:|:$forum_data['pp_small_photo'] AND !$forum_data['hide_last_info']">
							<a href='{parse url="showuser={$forum_data['last_poster_id']}" template="showuser" seotitle="{$forum_data['seo_last_name']}" base="public"}' class='ipsUserPhotoLink left'>
								<img src='{$forum_data['pp_small_photo']}' alt='{$this->lang->words['photo']}' class='ipsUserPhoto ipsUserPhoto_mini' />
							</a>
						</if>
						<ul class='last_post ipsType_small'>
							<if test="!$forum_data['last_id']">
								<li class='desc lighter'><em>{$this->lang->words['f_none']}</em></li>
							<else />
								<li>
									<a href='{parse url="showtopic={$forum_data['last_topic_id']}&amp;view=getnewpost" seotitle="{$forum_data['seo_last_title']}" template="showtopic" base="public"}' title="{$this->lang->words['view_new_post']}">
										{parse expression="IPSText::truncate( $forum_data['last_title'], 28)"}
									</a>
								</li>
								<if test="lastPosterID:|:$forum_data['last_poster_id']">
									<li>{$this->lang->words['by_ucfirst']} {parse template="userHoverCard" group="global" params="$forum_data"}</li>
								</if>
								<if test="hideDateUrl:|:$forum_data['_hide_last_date']">
									<li class='desc lighter'>{parse date="$forum_data['last_post']" format="DATE"}</li>
								<else />
									<li class='desc lighter blend_links'><a href='{parse url="showtopic={$forum_data['last_id']}&amp;view=getlastpost" base="public" template="showtopic" seotitle="{$forum_data['seo_last_title']}"}' title='{$this->lang->words['view_last_post']}'>{parse date="$forum_data['last_post']" format="DATE"}</a></li>
								</if>
							</if>
						</ul>
					</if>
				</td>
				<td class='col_f_mod'>
					<input class='input_check checkall toggle_notify_on' type="checkbox" name="likes[]" value="{$forum_data['_followData']['like_app']}-{$forum_data['_followData']['like_area']}-{$forum_data['_followData']['like_rel_id']}" />
				</td>
			</tr>
		</foreach>
	</if>
</table>]]></template_content>
      <template_name>followedContentForumsWrapperForums</template_name>
      <template_data>$results</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_search</template_group>
      <template_content><![CDATA[<if test="haslikeserror:|:$error">
<p class='message error'>
	{$error}
</p>
<else />
	<if test="hasconfirm:|:$this->request['confirm']">
	<p class='message'>
		{$this->lang->words['likes_rem_suc']}
	</p>
	</if>
</if>
<br />
<input type='hidden' name="usedInJsLater" id="urlString" value="{parse expression="base64_encode( $this->registry->output->buildUrl( "app=core&amp;module=search&amp;do=followed&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}", "public" ) )"}" />
<h1 class='ipsType_pagetitle'>{$this->lang->words['followed_content']}</h1>
<div class='ipsType_pagedesc'>
	{$this->lang->words['followed_content_desc']}
</div>
<br />
<div class='ipsLayout ipsLayout_withleft clearfix'>
	<div class='ipsLayout_left'>
		<div class='ipsBox'>
			<div class='ipsBox_container ipsSideMenu'>
				<h4>{$this->lang->words['filter_by_app']}</h4>
				<ul>
					<if test="memberFollow:|:IPSLib::appSupportsExtension( 'forums', array('like') )"><li <if test="forumsTab:|:$this->request['search_app'] == 'forums'">class='active'</if>><a href='{parse url="app=core&amp;module=search&amp;do=followed&amp;search_app=forums&amp;sid={$this->request['_sid']}" base="public"}'>{IPSLib::getAppTitle( 'forums' )}</a></li></if>
					<if test="memberFollow:|:IPSLib::appSupportsExtension( 'members', array('like') )"><li <if test="membersTab:|:$this->request['search_app'] == 'members'">class='active'</if>><a href='{parse url="app=core&amp;module=search&amp;do=followed&amp;search_app=members&amp;sid={$this->request['_sid']}" base="public"}'>{IPSLib::getAppTitle( 'members' )}</a></li></if>
					<foreach loop="apps:$this->registry->getApplications() as $app">
						<if test="supportsLikes:|:IPSLib::appSupportsExtension( $app['app_directory'], array('like') ) AND !in_array( $app['app_directory'], array('core','forums','members') )">
							<li <if test="appIsSearched:|:$this->request['search_app'] == $app['app_directory']">class='active'</if>>
								<a href='{parse url="app=core&amp;module=search&amp;do=followed&amp;search_app={$app['app_directory']}&amp;sid={$this->request['_sid']}" base="public"}'>
									{IPSLib::getAppTitle( $app['app_directory'] )}
								</a>
							</li>
				 		</if>
					</foreach>
				</ul>
				<if test="is_array($contentTypes) AND count( $contentTypes )">
					<h4>{$this->lang->words['filter_by_section']}</h4>
					<ul>
						<foreach loop="$contentTypes as $type">
							<li <if test="$this->request['contentType'] == $type">class='active'</if>>
								<a href='{parse url="app=core&amp;module=search&amp;do=followed&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;contentType={$type}" base="public"}'>{$this->lang->words['followed_type__' . $type]}</a>
							</li>
						</foreach>
					</ul>
				</if>
			</div>
		</div>
	</div>
	<form action="{parse url="app=core&amp;module=search&amp;do=manageFollowed&amp;search_app={$this->request['search_app']}&amp;contentType={$this->request['contentType']}" base="public"}" id="checkBoxForm" method="post">
	<input type="hidden" name="secure_key" value="{$this->member->form_hash}" />
	
	<div class='right clearfix'>
		<a href='#' id='toggle_notification' class='ipsButton_secondary'>{$this->lang->words['display_edit_options']}</a>
	</div>
	<br /><br />
	
	<div class='ipsLayout_content'>
		<h2 class='maintitle'>
			<span class='right'>
				<input type='checkbox' id='checkAllLikes' class='input_check toggle_notify_on' title='{$this->lang->words['search_select_all']}' value='1' />
			</span>
			<if test="searchedApp:|:$this->request['search_app']">{IPSLib::getAppTitle( $this->request['search_app'] )}<else />{$this->lang->words['search_all']}</if>
		</h2>
		<div>
			<if test="NPTotal:|:$total">
				{$results}
				
				<if test="hasLikeForMod:|:count($results)">
					
					<div class='moderation_bar rounded with_action toggle_notify_on'>
						<select name='modaction' class='input_select'>
							<option value=''>{$this->lang->words['like_mod__chose']}</option>
							<option value='delete'>{$this->lang->words['like_mod__delete']}</option>
							<option value='change-donotify'>{$this->lang->words['like_mod__change_donotify']}</option>
							<option value='change-donotnotify'>{$this->lang->words['like_mod__change_nonotify']}</option>
							<option value='change-immediate'>{$this->lang->words['like_mod__change_immediate']}</option>
							<option value='change-offline'>{$this->lang->words['like_mod__change_offline']}</option>
							<if test="forumsDigests:|:$this->request['search_app'] == 'forums'">
								<option value='change-daily'>{$this->lang->words['like_mod__change_daily']}</option>
								<option value='change-weekly'>{$this->lang->words['like_mod__change_weekly']}</option>
							</if>
							<option value='change-anon'>{$this->lang->words['like_mod__change_anon']}</option>
							<option value='change-noanon'>{$this->lang->words['like_mod__change_noanon']}</option>
						</select>
							
						<input type="submit" class="input_submit alt" value="{$this->lang->words['update_selected']}" />
					</div>
				</if>
				<br />
				{$pagination}
			<else />
				<p class='no_messages'>{$this->lang->words['followed_content_none']}</p>
			</if>
		</div>
	</div>
	
	</form>
</div>
<br class='clear' />
<script type='text/javascript'>
	ipb.global.registerCheckAll('checkAllLikes', 'checkall');
	
	if( $('toggle_notification') ){
		$('toggle_notification').observe( 'click', function(e){
			Event.stop(e);
			$('checkBoxForm').toggleClassName('show_notify');
		});
	}
</script>]]></template_content>
      <template_name>followedContentView</template_name>
      <template_data>$results, $pagination, $total, $error, $contentTypes</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_search</template_group>
      <template_content><![CDATA[<fieldset class='{parse striping="search"}'>
	<span class='search_msg'>
		{$this->lang->words['s_forum_desc']}
	</span>
	<ul class='ipsForm_horizontal'>
		<if test="hasArchives:|:$archivedPostCount > 0">
			<li class='ipsField clear'>
				<label class='ipsField_title' for='forums_display'>{$this->lang->words['fs_search_type_title']}</label>
				<p class='ipsField_content'>
					<input type='radio' name='search_app_filters[forums][liveOrArchive]' value='live' checked="checked" /> {$this->lang->words['fs_search_type_live']}&nbsp;&nbsp;&nbsp;
					<input type='radio' name='search_app_filters[forums][liveOrArchive]' value='archive' /> {$this->lang->words['fs_search_type_archive']}
				</p>
			</li>
		</if>
		<li class='ipsField ipsField_select clear'>
			<if test="is_null( $topic )">
				<label class='ipsField_title' for='forums_filter'>{$this->lang->words['find_forum']}</label>
				<p class='ipsField_content'>
					<select name='search_app_filters[forums][forums][]' class='input input_select' size='6' multiple='multiple'>
						{$forums}
					</select>
				</p>
			<else />
				<input type='hidden' name='cType' value='topic' />
				<input type='hidden' name='cId' value='{$topic['tid']}' />
				<label class='ipsField_title' for='topic_checkbox'>{$this->lang->words['find_topic']}</label>
				<p class='ipsField_content'>
					{$topic['title']}
				</p>
			</if>
		</li>
		<li class='ipsField clear'>
			<label class='ipsField_title' for='forums_display'>{$this->lang->words['s_forum_display']}</label>
			<p class='ipsField_content'>
				<input type='radio' name='search_app_filters[forums][noPreview]' value='0' /> {$this->lang->words['s_forum_asposts']}&nbsp;&nbsp;&nbsp;
				<input type='radio' name='search_app_filters[forums][noPreview]' value='1' checked="checked" /> {$this->lang->words['s_forum_astopics']}
			</p>
		</li>
		<li class='ipsField clear'>
			<label class='ipsField_title' for='f_p_data'>{$this->lang->words['s_forum_stuff']}</label>
			<p class='ipsField_content'>
				{parse expression="sprintf( $this->lang->words['s_forum_stuff_2'], "<input id='f_p_count' type='text' name='search_app_filters[forums][pCount]' class='input_text' style='vertical-align: middle; width:40px' size='5' value='' />", "<input id='f_p_views' type='text' name='search_app_filters[forums][pViews]' class='input_text' style='vertical-align: middle; width:40px' size='5' value='' />")"}
			</p>
		</li>
	</ul>
</fieldset>]]></template_content>
      <template_name>forumAdvancedSearchFilters</template_name>
      <template_data>$forums, $archivedPostCount=0, $topic</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_search</template_group>
      <template_content><![CDATA[<h3>
	{$this->lang->words['vnc_filters_header']}
</h3>
<div class='fixed_inner ipsBox ipsLayout clearfix'>
	<div class='ipsLayout_content ipsBox_container search_filter_container'>
		<div id="vnc_filter_popup_close"><a class='input_submit' id='save_vnc_filters' href='#'>{$this->lang->words['save_vnc_filters']}</a> &nbsp;&nbsp;{$this->lang->words['or']}&nbsp;&nbsp;<a href='#' id='cancel_vnc_filters' class='cancel'>{$this->lang->words['cancel']}</a></div>
		<ul class='block_list'>
			<li class='clickable<if test="noFiltersSet:|:$currentPrefs == null OR !count($currentPrefs)"> active</if>' id='forum_all'><span><strong>{$this->lang->words['vnc_filter_showall_forums']}</strong></span><input type='hidden' name='forum_all' id='hf_all' value='<if test="noFiltersSet:|:$currentPrefs == null OR !count($currentPrefs)">1</if>' /></li>
			<foreach loop="forumlist:$data as $_data">
				<if test="hasTitle:|: ! empty( $_data['important'] )">
					<li><span class='heading'>{$_data['title']}</span></li>
				<else />
					<li class='clickable<if test="hasFiltersSet:|:count($currentPrefs) AND in_array($_data['id'], $currentPrefs)"> active</if>' id='forum_{$_data['id']}'><if test="depth:|:!empty($_data['depth'])"></if><span>{parse expression="str_repeat( '&nbsp;&nbsp;&nbsp;&nbsp;', $_data['depth'])"}{$_data['title']}</span><input type='hidden' name='forum_{$_data['id']}' id='hf_{$_data['id']}' value='<if test="hasFiltersSet:|:count($currentPrefs) AND in_array($_data['id'], $currentPrefs)">1<else />0</if>' /></li>
				</if>
			</foreach>
		</ul>
	</div>
</div>]]></template_content>
      <template_name>forumsVncFilters</template_name>
      <template_data>$data, $currentPrefs</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_search</template_group>
      <template_content><![CDATA[<php>
$st = IPSSearchRegistry::get('in.search_higlight');
</php>
<div class='result_info'>
	<h3><a href='{parse url="app=core&amp;module=help&amp;do=01&amp;HID={$r['type_id_2']}&amp;hl={$st}" base="public"}'>{$r['content_title']}</a></h3>
	<if test="showHelpContent:|:!$resultAsTitle">
	<p>
		{$r['content']}
	</p>
	</if>
</div>]]></template_content>
      <template_name>helpSearchResult</template_name>
      <template_data>$r, $resultAsTitle=false</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_search</template_group>
      <template_content><![CDATA[<span class='icon'>
	{parse expression="IPSMember::buildPhotoTag( $r['status_author'], 'small' )"}
</span>
<div class='result_info'>
	<h3>
		{parse template="userHoverCard" group="global" params="$r['status_author']"}
		<if test="isUpdate:|: $r['status_member_id'] != $r['status_author_id']">
			&rarr;
			{parse template="userHoverCard" group="global" params="$r['status_member']"}
		</if>
	</h3>
	<span class='desc breadcrumb'>
		<a href='{parse url="app=members&amp;module=profile&amp;section=status&amp;type=single&amp;status_id={$r['status_id']}" seotitle="true" template="members_status_single" base="public"}'>{$this->lang->words['results_pf_comment']}</a>, {parse date="$r['status_date']" format="short"}
	</span>
	<p>{$r['status_content']}</p>
	<div id="statusFeedback-{$r['status_id']}" class='status_feedback'>
		<if test="$r['status_replies'] AND count( $r['replies'] )">
			<if test="hasMore:|:$r['status_replies'] > 3">
				<div class='status_mini_wrap row2 altrow' id='statusMoreWrap-{$r['status_id']}'>
					<img src="{$this->settings['img_url']}/comments.png" alt="" /> &nbsp;<a href="#" id="statusMore-{$r['status_id']}" class='__showAll __x{$r['status_id']}'>{parse expression="sprintf( $this->lang->words['status_show_all_x'], $r['status_replies'] )"}</a>
				</div>
			</if>
			<ul id='statusReplies-{$r['status_id']}' class='ipsList_withtinyphoto clear'>
				{parse template="statusReplies" group="profile" params="$r['replies'], 1"}
			</ul>
		</if>
		<div id='statusReplyBlank-{$r['status_id']}'></div>
		<div class='status_mini_wrap row2 altrow' id='statusMaxWrap-{$r['status_id']}' <if test="maxReplies:|:$r['status_replies'] < $this->settings['su_max_replies']">style='display:none'</if>>
			<img src="{$this->settings['img_url']}/locked_replies.png" title="{$this->lang->words['status_too_many_replies']}" alt='x' /> {$this->lang->words['status_too_many_replies']}
		</div>
	</div>
</div>]]></template_content>
      <template_name>memberCommentsSearchResult</template_name>
      <template_data>$r, $resultAsTitle=false</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_search</template_group>
      <template_content><![CDATA[<span class='icon'>
	{parse template="userSmallPhoto" group="global" params="array_merge( $r, array( '_customClass' => 'ipsUserPhoto_medium' ) )"}
</span>
<div class='result_info'>
	<h3>{parse template="userHoverCard" group="global" params="$r"}</h3>
	<span class='desc lighter breadcrumb'>
		{$this->lang->words['member_joined']} {parse date="$r['joined']" format="short"}<br />
		{IPSMember::makeNameFormatted( $r['group'], $r['member_group_id'] )} &middot; {parse format_number="$r['posts']"} {$this->lang->words['member_posts']}
	</span>
</div>]]></template_content>
      <template_name>memberSearchResult</template_name>
      <template_data>$r, $resultAsTitle=false</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_search</template_group>
      <template_content><![CDATA[{parse js_module="search"}
<input type='hidden' name="usedInJsLater" id="urlString" value="{parse expression="base64_encode( $this->registry->output->buildUrl( "app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}", "public" ) )"}" />
<h1 class='ipsType_pagetitle'>{$this->lang->words['new_content']}</h1>
<div class='ipsType_pagedesc'>
	{$this->lang->words['new_content_desc']}
</div>
<br />
<div class='ipsLayout ipsLayout_withleft clearfix'>
	<div class='ipsLayout_left'>
		<div class='ipsBox'>
			<div class='ipsBox_container ipsSideMenu'>
				<h4>{$this->lang->words['filter_by_app']}</h4>
				<ul>
					<if test="IPSLib::appIsSearchable( 'forums', 'vnc' ) || IPSLib::appIsSearchable( 'forums', 'active' )">
						<li <if test="forumsTab:|:$this->request['search_app'] == 'forums'">class='active'</if>><a href='{parse url="app=core&amp;module=search&amp;do=viewNewContent&amp;search_app=forums&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;period={$this->request['period']}&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}" base="public"}'>{IPSLib::getAppTitle( 'forums' )}</a></li>
					</if>
					<if test="IPSLib::appIsSearchable( 'members', 'vnc' ) || IPSLib::appIsSearchable( 'members', 'active' )">
						<li <if test="membersTab:|:$this->request['search_app'] == 'members'">class='active'</if>><a href='{parse url="app=core&amp;module=search&amp;do=viewNewContent&amp;search_app=members&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;period={$this->request['period']}&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}" base="public"}'>{IPSLib::getAppTitle( 'members' )}</a></li>
					</if>
					<if test="IPSLib::appIsSearchable( 'core', 'vnc' ) || IPSLib::appIsSearchable( 'core', 'active' )">
						<li <if test="helpTab:|:$this->request['search_app'] == 'core'">class='active'</if>><a href='{parse url="app=core&amp;module=search&amp;do=viewNewContent&amp;search_app=core&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;period={$this->request['period']}&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}" base="public"}'>{IPSLib::getAppTitle( 'core' )}</a></li>
					</if>
					<foreach loop="apps:$this->registry->getApplications() as $app">
						<if test="appIsSearchable:|:(IPSLib::appIsSearchable( $app['app_directory'], 'vnc' ) || IPSLib::appIsSearchable( $app['app_directory'], 'active' ) ) AND !in_array( $app['app_directory'], array('core','forums','members') )">
							<li <if test="appIsSearched:|:$this->request['search_app'] == $app['app_directory']">class='active'</if>>
								<a href='{parse url="app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$app['app_directory']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;period={$this->request['period']}&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}" base="public"}'>
									{IPSLib::getAppTitle( $app['app_directory'] )}
								</a>
							</li>
				 		</if>
					</foreach>
				</ul>
			
				<if test="is_array($sortIn) AND count( $sortIn )">
					<h4>{$this->lang->words['filter_by_section']}</h4>
					<ul>
						<foreach loop="$sortIn as $id => $_data">
							<li <if test="$this->request['search_app_filters'][$this->request['search_app']]['searchInKey'] == $_data[0]">class='active'</if>>
								<a href='{parse url="app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$_data['0']}&amp;period={$this->request['period']}&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}" base="public"}'>{$_data[1]}</a>
							</li>
						</foreach>
					</ul>
				</if>
			
				<h4>{$this->lang->words['filter_by_time']}</h4>
				<ul>
					<if test="hazVNC:|:IPSLib::appIsSearchable( IPSSearchRegistry::get('in.search_app'), 'vncWithUnreadContent' ) AND $this->memberData['member_id']">
						<li <if test="$this->request['period']=='unread'">class='active'</if>>
							<a href='{parse url="app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;change=1&amp;period=unread&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}" base="public"}'>{$this->lang->words['filter_not_read']}</a>
						</li>
					</if>
					<if test="hazMember:|:$this->memberData['member_id']">
						<li <if test="$this->request['period']=='lastvisit'">class='active'</if>>
							<a href='{parse url="app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;change=1&amp;period=lastvisit&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}" base="public"}'>{$this->lang->words['filter_new_visit']}</a>
						</li>
					</if>
					<li <if test="$this->request['period']=='today'">class='active'</if>>
						<a href='{parse url="app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;change=1&amp;period=today&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}" base="public"}'>{$this->lang->words['actperiod_today']}</a>
					</li>
					<li <if test="$this->request['period']=='week'">class='active'</if>>
						<a href='{parse url="app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;change=1&amp;period=week&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}" base="public"}'>{$this->lang->words['actperiod_week']}</a>
					</li>
					<li <if test="$this->request['period']=='weeks'">class='active'</if>>
						<a href='{parse url="app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;change=1&amp;period=weeks&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}" base="public"}'>{$this->lang->words['actperiod_weeks']}</a>
					</li>
					<li <if test="$this->request['period']=='month'">class='active'</if>>
						<a href='{parse url="app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;change=1&amp;period=month&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}" base="public"}'>{$this->lang->words['actperiod_month']}</a>
					</li>
					<li <if test="$this->request['period']=='months'">class='active'</if>>
						<a href='{parse url="app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;change=1&amp;period=months&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}" base="public"}'>{$this->lang->words['actperiod_months']}</a>
					</li>
					<li <if test="$this->request['period']=='year'">class='active'</if>>
						<a href='{parse url="app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;change=1&amp;period=year&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}" base="public"}'>{$this->lang->words['actperiod_year']}</a>
					</li>
				</ul>
				
				<if test="canFollowFilter:|:IPSLib::appIsSearchable( $this->request['search_app'], 'vncWithFollowFilter' ) AND $this->memberData['member_id']">
					<h4>{$this->lang->words['filter_by_other']}</h4>
					<ul>
						<if test="checked:|:$this->request['followedItemsOnly']">
							<li class="active">
								<a href='{parse url="app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;period={$this->request['period']}&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly=0" base="public"}'>{$this->lang->words['filter_i_follow']}</a>
							</li>
						<else />
							<li>
								<a href='{parse url="app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;period={$this->request['period']}&amp;userMode={$this->request['userMode']}&amp;followedItemsOnly=1" base="public"}'>{$this->lang->words['filter_i_follow']}</a>
							</li>
						</if>
						<li <if test="$this->request['userMode'] == 'all'">class='active'</if>><a href='{parse url="app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;period={$this->request['period']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}&amp;userMode=<if test="$this->request['userMode'] != 'all'">all</if>" base="public"}'>{$this->lang->words['vnc_topics_and_posts']}</a></li>
						<li <if test="$this->request['userMode'] == 'title'">class='active'</if>><a href='{parse url="app=core&amp;module=search&amp;do=viewNewContent&amp;search_app={$this->request['search_app']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;period={$this->request['period']}&amp;followedItemsOnly={$this->request['followedItemsOnly']}&amp;userMode=<if test="$this->request['userMode'] != 'title'">title</if>" base="public"}'>{$this->lang->words['vnc_topics_only']}</a></li>
						<if test="vncFilterForumsOnly:|:$this->request['search_app'] == 'forums'"><li <if test="hasFilters:|:IPSSearchRegistry::get('forums.vncForumFilters') != null">class='active'</if>><a href='' id='vncForumFilter'>{$this->lang->words['vnc_filter_by_forum']}</a></li></if>
					</ul>
				</if>
			</div>
		</div>
	</div>
	<div class='ipsLayout_content'>
		<div class='clearfix'>
			{$pagination}
		</div>
		<h2 class='maintitle'>
			<if test="searchismod:|:$this->memberData['g_is_supmod'] == 1 && IPSSearchRegistry::get('config.can_moderate_results')">
				<span class='right'>
					<input type='checkbox' id='tmod_all' class='input_check' title='{$this->lang->words['search_select_all']}' value='1' />
				</span>
			</if>
			{IPSLib::getAppTitle( $this->request['search_app'] )}
		</h2>
		<div>
			<if test="NPTotal:|:$total">
				{$results}
				<br />
				{$pagination}
			<else />
				<p class='no_messages'>{$this->lang->words['new_content_none']}</p>
			</if>
		</div>
	</div>
</div>
<br class='clear' />]]></template_content>
      <template_name>newContentView</template_name>
      <template_data>$results, $pagination, $total, $sortDropDown, $sortIn, $dateCutSet=0</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_search</template_group>
      <template_content><![CDATA[<style type='text/css'>
 	@import url('{$this->settings['public_dir']}style_css/{$this->registry->output->skin['_csscacheid']}/calendar_select.css');
</style>
<script type='text/javascript' src='{$this->settings['public_dir']}js/3rd_party/calendar_date_select/calendar_date_select.js'></script>
{parse js_module="search"}
<h1 class='ipsType_pagetitle'>{$this->lang->words['search']}</h1>
<if test="searchTermsRemoved:|:is_array( $removed_search_terms ) && count( $removed_search_terms )">
<br />
<p class='message error'>{$this->lang->words['removed_search_terms']} <strong>{parse expression="implode( ',', $removed_search_terms )"}</strong></p>
</if>
<if test="searchError:|:$msg">
<br />
<p class='message error'>{$msg}</p>
</if>
<br />
<div class='ipsBox' id='main_search_form'>
	<form action="{parse url="app=core&amp;module=search&amp;section=search&amp;do=search" base="public"}&amp;fromsearch=1" method="post" id='search-box' >
		<input type='hidden' name='search_app' id='search_app' value='{$this->request['search_app']}' />
		<fieldset id='' class='ipsBox_container ipsPad'>
			<ul class='ipsForm_horizontal'>
				<li class='ipsField'>
					<label for='query' class='ipsField_title'>{$this->lang->words['find_words']}</label>
					<p class='ipsField_content'>
						<input type='text' class='input_text' name='search_term' id='query' value='{$this->request['search_term']}' size='50' /><br />
						<span class='desc lighter'>{$this->lang->words['s_andor_quotes']}</span>
					</p>
				</li>
				<if test="count($filters)">
					<li class='ipsField app_chooser'>
						<label class='ipsField_title' for=''>{$this->lang->words['search_section']}</label>
						<div class='ipsField_content'>
							<ul id='sapps'>
								<if test="IPSLib::appIsSearchable( 'forums', 'search' )">
									<li style='display: inline-block;' class='search_app' id='sapp_forums'>
										<input type='radio' data-allowtags='{$canTag[ 'forums' ]}' name='search_app' value='forums' id='radio_forums' <if test="$this->request['search_app'] == 'forums'">checked="checked"</if> /> <label for='radio_forums'>{IPSLib::getAppTitle( 'forums' )}</label>
									</li>
								</if>
								<if test="IPSLib::appIsSearchable( 'members', 'search' )">
									<li style='display: inline-block;' class='search_app' id='sapp_members'>
										<input type='radio' data-allowtags='{$canTag[ 'members' ]}' name='search_app' value='members' id='radio_members' <if test="$this->request['search_app'] == 'members'">checked="checked"</if> /> <label for='radio_members'>{IPSLib::getAppTitle( 'members' )}</label>
									</li>
								</if>
								<if test="IPSLib::appIsSearchable( 'core', 'search' )">
									<li style='display: inline-block;' class='search_app' id='sapp_core'>
										<input type='radio' data-allowtags='{$canTag[ 'core' ]}' name='search_app' value='core' id='radio_core' <if test="$this->request['search_app'] == 'core'">checked="checked"</if> /> <label for='radio_core'>{IPSLib::getAppTitle( 'core' )}</label>
									</li>
								</if>
			
								<foreach loop="appLoop:$this->registry->getApplications() as $app => $data">
									<if test="IPSLib::appIsSearchable( $app, 'search' ) AND !in_array( $app, array( 'forums', 'members', 'core' ) )">
										<li style='display: inline-block;' class='search_app' id='sapp_{$app}'>
											<input type='radio' data-allowtags='{$canTag[ $app ]}' name='search_app' value='{$app}' id='radio_{$app}' <if test="$app == $this->request['search_app']">checked="checked"</if> /> <label for='radio_{$app}'>{IPSLib::getAppTitle( $app )}</label>
										</li>
									</if>
								</foreach>
							</ul>
						</div>
					</li>
				</if>
			</ul>
		</fieldset>
		
		<fieldset id='other_filters' class='ipsBox_container ipsPad'>
			<ul class='ipsForm_horizontal'>
				<li class='ipsField ipsField_select clear'>
					<label for='andor_type' class='ipsField_title'><strong>{$this->lang->words['matchlabel']}</strong></label>
					<p class='ipsField_content'>
						<if test="isFullText:|:$this->settings['use_fulltext'] AND $this->DB->checkBooleanFulltextSupport()">
							<select name="andor_type" id="andor_type">
								<option value="and" <if test="$this->settings['s_andor_type'] == 'and'">selected='selected'</if>>{$this->lang->words['s_andor_and']}</option>
								<option value="or" <if test="$this->settings['s_andor_type'] == 'or'">selected='selected'</if>>{$this->lang->words['s_andor_or']}</option>
							</select>
							&nbsp;&nbsp;
						</if>
						
						<select name="search_content" id="search_content">
							<option value="both">{$this->lang->words['search_both_types']}</option>
							<option value="titles">{$this->lang->words['search_titles_types']}</option>
							<option value="content">{$this->lang->words['search_content_types']}</option>
						</select>
					</p>
				</li>
				<if test="tagyouareit:|:$canTag[ $current_app ]">
					<li class='ipsField clear' id='tag_row'>
						<label for='tags' class='ipsField_title'>{$this->lang->words['find_by_tags']}</label>
						<p class='ipsField_content'>
							<input type='text' class='input_text input' name='search_tags' id='tags' value='{$this->request['find_by_tags']}' size='50' />
							<br />
							<span class='desc lighter'>{$this->lang->words['find_by_tags_desc']}</span>
						</p>
					</li>
				</if>
				<li class='ipsField clear'>
					<label for='author' class='ipsField_title'>{$this->lang->words['find_author']}</label>
					<p class='ipsField_content'>
						<input type='text' class='input_text input' name='search_author' id='author' value='{$this->request['search_author']}' size='50' />
					</p>
				</li>
				<li class='ipsField clear'>
					<label for='date_start' class='ipsField_title'>{$this->lang->words['find_date']}</label>
					<p class='ipsField_content'>
						<input type='text' class='input_text' name='search_date_start' id='date_start' value='{$this->request['_search_date_start']}' /><img src='{$this->settings['img_url']}/date.png' alt='' id='date_start_icon' style='cursor: pointer' /> &nbsp;
						<strong>{$this->lang->words['to']}</strong> &nbsp;<input type='text' class='input_text' name='search_date_end' id='date_end' value='{$this->request['_search_date_end']}' /><img src='{$this->settings['img_url']}/date.png' alt='' id='date_end_icon' style='cursor: pointer' />
					</p>
				</li>
				
			</ul>
		</fieldset>
		<if test="count($filters)">
			<foreach loop="$filters as $app => $data">
				<div id='app_filter_{$app}' class='ipsBox_container ipsPad' style='display: none'>
					<if test="!empty($data['html'])">
						{$data['html']}
					</if>
					<if test="count($data['sortDropDown'])">
						<fieldset class='{parse striping="search"}'>
							<if test="is_array($data['sortDropIn']) AND count( $data['sortDropIn'] )">
								<foreach loop="$data['sortDropIn'] as $id => $_data">
									<ul class='ipsForm_horizontal'>
										<li class='ipsField ipsField_select'>
											<label class='ipsField_title' for='search_by_{$_data[0]}'><if test="! $id">{$this->lang->words['s_member_sin']}<else />&nbsp;</if></label>
											<p class='ipsField_content'>
												<input type='radio' name='search_app_filters[$app][searchInKey]' value='{$_data[0]}' <if test="$this->request['search_app_filters'][$app]['searchInKey'] == $_data[0] || ( ! $this->request['search_app_filters'][$app]['searchInKey'] AND ! $id )">checked="checked"</if> /> $_data[1]
												<select name='search_app_filters[$app][{$_data[0]}][sortKey]' class='input_select' style='width:auto'>
												<foreach loop="$data['sortDropDown'][$_data[0]] as $k => $l">
													<option value='$k' <if test="$this->request['search_app_filters'][$app][$_data[0]]['sortKey'.$_data[0]] == $k">selected='selected'</if>>{$l}</option>
												</foreach>
												</select>
												<select name='search_app_filters[$app][{$_data[0]}][sortDir]' class='input_select' style='width:auto'>
													<option value='0' <if test="!$this->request['search_app_filters'][$app][$_data[0]]['sortDir']">selected='selected'</if>>{$this->lang->words['s_search_type_o_0']}</option>
													<option value='1' <if test="$this->request['search_app_filters'][$app][$_data[0]]['sortDir']">selected='selected'</if>>{$this->lang->words['s_search_type_o_1']}</option>
												</select>
											</p>
										</li>
									</ul>
								</foreach>
							<else />
								<ul class='ipsForm_horizontal'>
									<li class='ipsField ipsField_select'>
										<label class='ipsField_title' for='search_by'>{$this->lang->words['s_search_type']}</label>
										<p class='ipsField_content'>
											<select name='search_app_filters[$app][sortKey]' id='search_sort_by_{$app}' class='input_select' style='width:auto'>
											<foreach loop="$data['sortDropDown'] as $k => $l">
												<option value='$k' <if test="$this->request['search_app_filters'][$app]['sortKey'] == $k">selected='selected'</if>>{$l}</option>
											</foreach>
											</select>
											<select name='search_app_filters[$app][sortDir]' id='search_sort_order_{$app}' class='input_select' style='width:auto'>
												<option value='0' <if test="!$this->request['search_app_filters'][$app]['sortDir']">selected='selected'</if>>{$this->lang->words['s_search_type_o_0']}</option>
												<option value='1' <if test="$this->request['search_app_filters'][$app]['sortDir']">selected='selected'</if>>{$this->lang->words['s_search_type_o_1']}</option>
											</select>
										</p>
									</li>
								</ul>
							</if>
						</fieldset>
					</if>
				</div>
			</foreach>
		</if>
		<fieldset class='submit'>
			<input type='submit' name='submit' class='input_submit' value='{$this->lang->words['do_search']}'> {$this->lang->words['or']} <a href='{$this->settings['board_url']}' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
		</fieldset>
	</form>
</div>]]></template_content>
      <template_name>searchAdvancedForm</template_name>
      <template_data><![CDATA[$filters='', $msg='', $current_app, $removed_search_terms=array(), $isFT=false, $canTag=array()]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_search</template_group>
      <template_content><![CDATA[{parse striping="searchStripe" classes="row1,row2"}
<div id='search_results'>
	<ol>
		<if test="hasResults:|:is_array($results) && count($results)">
			<foreach loop="results:$results as $result">
				<if test="subResult:|:$result['sub']">
					<li class='{parse striping="searchStripe"} sub clearfix clear'>
						{$result['html']}
					</li>
				<else />
					<li class='{parse striping="searchStripe"} clearfix clear'>
						{$result['html']}
					</li>
				</if>
			</foreach>
		</if>
	</ol>
</div>]]></template_content>
      <template_name>searchResults</template_name>
      <template_data>$results, $titlesOnly</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_search</template_group>
      <template_content><![CDATA[{parse js_module="forums"}
<if test="asTawpiks:|:$titlesOnly">
<script type='text/javascript' src='{$this->settings['public_dir']}js/ips.forums.js'></script>
<table class='ipb_table topic_list' id='forum_table'>
</if>
	<if test="count($results)">
		<if test="asPostsStart:|:!$titlesOnly"><div class='ipsBox'></if>
		<foreach loop="NCresultsAsForum:$results as $result">
			{$result['html']}
		</foreach>
		<if test="asPostsEnd:|:!$titlesOnly"></div></if>
	</if>
<if test="asTawpiks2:|:$titlesOnly">
	</table>
	<if test="isAdminBottom:|:$this->memberData['g_is_supmod'] && $this->request['search_app_filters']['forums']['liveOrArchive'] != 'archive'">
		<div id='topic_mod' class='moderation_bar rounded with_action clear'>
			<form id='modform' method="post" action="{parse url="" base="public"}">
				<fieldset>
					<input type="hidden" name="app" value="forums" />
					<input type="hidden" name="module" value="moderate" />
					<input type="hidden" name="section" value="moderate" />
					<input type="hidden" name="do" value="topicchoice" />
					<input type="hidden" name="st" value="{$this->request['st']}" />
					<input type="hidden" name="auth_key" value="{$this->member->form_hash}" />
					<input type='hidden' name='fromSearch' value='1' />
					<input type='hidden' name='returnUrl' id='returnUrl' value='{$this->request['returnUrl']}' />
					<input type="hidden" name="modfilter" value="{$this->request['modfilter']}" />
					<input type="hidden" value="{$this->request['selectedtids']}" id='selectedtids' name="selectedtids" />
				
					<select name="tact" id='mod_tact'>
						<option value='approve'>{$this->lang->words['cpt_approve_f']}</option>
						<option value='pin'>{$this->lang->words['cpt_pin_f']}</option>
						<option value='unpin'>{$this->lang->words['cpt_unpin_f']}</option>
						<option value='open'>{$this->lang->words['cpt_open_f']}</option>
						<option value='close'>{$this->lang->words['cpt_close_f']}</option>
						<option value='move'>{$this->lang->words['cpt_move_f']}</option>
						<option value='merge'>{$this->lang->words['cpt_merge_f']}</option>
						<option value='delete'>{$this->lang->words['cpt_hide_f']}</option>
						<option value='sundelete'>{$this->lang->words['cpt_unhide_f']}</option>
						<option value='deletedo'>{$this->lang->words['cpt_delete_f']}</option>
					</select>&nbsp;
					<input type="submit" name="gobutton" value="{$this->lang->words['f_go']}" class="input_submit alt" id='mod_submit' />
				</fieldset>
			</form>
			<script type='text/javascript'>
				/* Set return string */
				$('returnUrl').value = $('urlString').value;
				$('modform').observe('submit', ipb.forums.submitModForm);
				$('mod_tact').observe('change', ipb.forums.updateTopicModButton);
			</script>
		</div>
	</if>
<else />
	<script type='text/javascript' src='{$this->settings['public_dir']}js/ips.topic.js'></script>
	<script type="text/javascript">
		ipb.topic.inSection = 'searchview';
	</script>
	<if test="isAdmin:|:$this->memberData['g_is_supmod'] && $this->request['search_app_filters']['forums']['liveOrArchive'] != 'archive'">
	<div id='topic_mod_2' class='moderation_bar rounded'>
		<form method="post" id="modform" name="modform" action="{parse url="" base="public"}">
			<fieldset>
				<input type="hidden" name="app" value="forums" />
	 			<input type="hidden" name="module" value="moderate" />
	 			<input type="hidden" name="section" value="moderate" />
	 			<input type="hidden" name="do" value="postchoice" />
	 			<input type="hidden" name="auth_key" value="{$this->member->form_hash}" />
	 			<input type="hidden" name="st" value="{$this->request['st']}" />
	 			<input type="hidden" value="{$this->request['selectedpids']}" name="selectedpidsJS" id='selectedpidsJS' />
				<input type='hidden' name='fromSearch' value='1' />
				<input type='hidden' name='returnUrl' id='returnUrl' value='{$this->request['returnUrl']}' />
				<select name="tact" class="input_select" id='topic_moderation'>
					<option value='approve'>{$this->lang->words['cpt_approve']}</option>
					<option value='delete'>{$this->lang->words['cpt_hide']}</option>
					<option value='sundelete'>{$this->lang->words['cpt_undelete']}</option>
					<option value='deletedo'>{$this->lang->words['cpt_delete']}</option>
					<option value='merge'>{$this->lang->words['cpt_merge']}</option>
					<option value='split'>{$this->lang->words['cpt_split']}</option>
					<option value='move'>{$this->lang->words['cpt_move']}</option>
				</select>&nbsp;
				<input type="submit" value="{$this->lang->words['jmp_go']}" class="input_submit alt" />
			</fieldset>
		</form>
		
		<script type='text/javascript'>
			/* Set return string */
			$('returnUrl').value = $('urlString').value;
			$('modform').observe('submit', ipb.topic.submitPostModeration );
		</script>
	</div>
	</if>
	<if test="disablelightbox:|:!$this->settings['disable_lightbox']">
		{parse template="include_lightbox" group="global" params=""}
	</if>
</if>]]></template_content>
      <template_name>searchResultsAsForum</template_name>
      <template_data>$results, $titlesOnly</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_search</template_group>
      <template_content><![CDATA[<input type='hidden' name="usedInJsLater" id="urlString" value="{parse expression="base64_encode( $this->registry->output->buildUrl( "{$url_string}&amp;search_app={$current_key}", "public" ) )"}" />
<h1 class='ipsType_pagetitle'>{$this->lang->words['search_results']}</h1>
<div class='ipsType_pagedesc'>
	<if test="hasSearchResults:|:$total > 0 AND $search_term != ''">
		<if test="hasSearchResultsCut:|:$limited AND $wasLimited">
			{parse expression="sprintf( $this->lang->words['your_search_limited'], $search_term, $limited )"}
		<else />
			{$this->lang->words['your_search']} <em><strong>{$search_term}</strong></em> {$this->lang->words['your_search_returned']} <strong>{$total}</strong> {$this->lang->words['your_search_results']}
		</if>
	<else />
		<if test="hasSearchResults:|:$total > 0 AND $search_tags != ''">
			{parse expression="sprintf( $this->lang->words['tag_search_results'], $total, $search_tags )"}
		</if>
	</if>
</div>
<br />
<div class='ipsLayout ipsLayout_withleft clearfix'>
	<div class='ipsLayout_left'>
		<div class='ipsBox'>
			<div class='ipsBox_container ipsSideMenu'>
				<h4>{$this->lang->words['filter_by_app']}</h4>
				<ul>
					<if test="IPSLib::appIsSearchable( 'forums', 'search' )">
						<li <if test="forumsTab:|:$this->request['search_app'] == 'forums'">class='active'</if>><a href='{parse url="{$url_string}&amp;search_app=forums" base="public"}'>{IPSLib::getAppTitle( 'forums' )}</a></li>
					</if>
					<if test="IPSLib::appIsSearchable( 'members', 'search' )">
						<li <if test="membersTab:|:$this->request['search_app'] == 'members'">class='active'</if>><a href='{parse url="{$url_string}&amp;search_app=members" base="public"}'>{IPSLib::getAppTitle( 'members' )}</a></li>
					</if>
					<if test="IPSLib::appIsSearchable( 'core', 'search' )">
						<li <if test="helpTab:|:$this->request['search_app'] == 'core'">class='active'</if>><a href='{parse url="{$url_string}&amp;search_app=core" base="public"}'>{IPSLib::getAppTitle( 'core' )}</a></li>
					</if>
					<foreach loop="apps:$this->registry->getApplications() as $app">
						<if test="appIsSearchable:|:IPSLib::appIsSearchable( $app['app_directory'], 'search' ) AND !in_array( $app['app_directory'], array('core','forums','members') )">
							<li <if test="appIsSearched:|:$this->request['search_app'] == $app['app_directory']">class='active'</if>><a href='{parse url="{$url_string}&amp;search_app={$app['app_directory']}" base="public"}'>{IPSLib::getAppTitle( $app['app_directory'] )}</a></li>
				 		</if>
					</foreach>
				</ul>
			
				<if test="is_array($sortIn) AND count( $sortIn )">
					<h4>{$this->lang->words['filter_by_section']}</h4>
					<ul>
						<foreach loop="$sortIn as $id => $_data">
							<li <if test="$this->request['search_app_filters'][$this->request['search_app']]['searchInKey'] == $_data[0]">class='active'</if>>
								<a href='{parse url="{$url_string}&amp;search_app={$current_key}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$_data['0']}" base="public"}'>{$_data[1]}</a>
							</li>
						</foreach>
					</ul>
				</if>
			</div>
		</div>
	</div>
	<div class='ipsLayout_content'>		
		<div class='clearfix'>
			{$pagination}
		</div>
		<div class='maintitle ipsFilterbar'>
			<if test="searchismod:|:$this->memberData['g_is_supmod'] == 1 && IPSSearchRegistry::get('config.can_moderate_results')">
				<span class='right'>
					<input type='checkbox' id='tmod_all' class='input_check' title='{$this->lang->words['search_select_all']}' value='1' />
				</span>
			</if>		
			<if test="IPSSearchRegistry::get('config.contentTypes') AND is_array( IPSSearchRegistry::get('config.contentTypes') )">
				<if test="count($sortDropDown)">
					<span class='ipsType_small'>{$this->lang->words['sort_by']}</span>&nbsp;&nbsp;
					<if test="count($sortDropDown) <= 4">
						<ul class='ipsList_inline ipsType_smaller' style='display: inline'>
							<foreach loop="$sortDropDown as $k => $l">
								<li <if test="$this->request['search_app_filters'][$current_key][$this->request['search_app_filters'][$current_key]['searchInKey']]['sortKey'] == $k">class='active'</if>>
									<a href='{parse url="{$url_string}&amp;search_app={$current_key}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[$current_key][{$this->request['search_app_filters'][$current_key]['searchInKey']}][sortKey]={$k}&amp;search_app_filters[$current_key][{$this->request['search_app_filters'][$current_key]['searchInKey']}][sortDir]={$this->request['search_app_filters'][$current_key][$this->request['search_app_filters'][$current_key]['searchInKey']]['sortDir']}" base="public"}'>{$l}</a>
								</li>
							</foreach>
						</ul>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					<else />
						<ul class='ipsList_inline ipsType_smaller' style='display: inline'>
							<li class='active'>
								<a href='#' id='search_sort' class='ipbmenu'>{$sortDropDown[ $this->request['search_app_filters'][$current_key][$this->request['search_app_filters'][$current_key]['searchInKey']]['sortKey'] ]} &nbsp;&nbsp;<span class='submenu_indicator'></span>&nbsp;</a>
							</li>
						</ul>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</if>
				</if>
				<span class='ipsType_small'>{$this->lang->words['order']}</span>&nbsp;&nbsp;
				<ul class='ipsList_inline ipsType_smaller' style='display: inline'>
					<li <if test="$this->request['search_app_filters'][$current_key][$this->request['search_app_filters'][$current_key]['searchInKey']]['sortDir'] == 0">class='active'</if>>
						<a href='{parse url="{$url_string}&amp;search_app={$current_key}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[$current_key][{$this->request['search_app_filters'][$current_key]['searchInKey']}][sortKey]={$this->request['search_app_filters'][$current_key][$this->request['search_app_filters'][$current_key]['searchInKey']]['sortKey']}&amp;search_app_filters[$current_key][{$this->request['search_app_filters'][$current_key]['searchInKey']}][sortDir]=0" base="public"}'>{$this->lang->words['s_search_type_o_0']}</a>
					</li>
					<li <if test="$this->request['search_app_filters'][$current_key][$this->request['search_app_filters'][$current_key]['searchInKey']]['sortDir'] == 1">class='active'</if>>
						<a href='{parse url="{$url_string}&amp;search_app={$current_key}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[$current_key][{$this->request['search_app_filters'][$current_key]['searchInKey']}][sortKey]={$this->request['search_app_filters'][$current_key][$this->request['search_app_filters'][$current_key]['searchInKey']]['sortKey']}&amp;search_app_filters[$current_key][{$this->request['search_app_filters'][$current_key]['searchInKey']}][sortDir]=1" base="public"}'>{$this->lang->words['s_search_type_o_1']}</a>
					</li>
				</ul>
			<else />
				<if test="count($sortDropDown)">
					<span class='ipsType_small'>{$this->lang->words['sort_by']}</span>&nbsp;&nbsp;
					<if test="count($sortDropDown) <= 4">
						<ul class='ipsList_inline ipsType_smaller' style='display: inline'>
							<foreach loop="$sortDropDown as $k => $l">
								<li <if test="$this->request['search_app_filters'][$current_key]['sortKey'] == $k">class='active'</if>>
									<a href='{parse url="{$url_string}&amp;search_app={$current_key}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[$current_key][sortKey]={$k}&amp;search_app_filters[$current_key][sortDir]={$this->request['search_app_filters'][$current_key]['sortDir']}" base="public"}'>{$l}</a>
								</li>
							</foreach>
						</ul>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					<else />
						<ul class='ipsList_inline ipsType_smaller' style='display: inline'>
							<li class='active'>
								<a href='#' id='search_sort' class='ipbmenu'>{$sortDropDown[ $this->request['search_app_filters'][$current_key]['sortKey'] ]} &nbsp;&nbsp;<span class='submenu_indicator'></span>&nbsp;</a>
							</li>
						</ul>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</if>
				</if>
				<span class='ipsType_small'>{$this->lang->words['order']}</span>&nbsp;&nbsp;
				<ul class='ipsList_inline ipsType_smaller' style='display: inline'>
					<li <if test="$this->request['search_app_filters'][$current_key]['sortDir'] == 0">class='active'</if>>
						<a href='{parse url="{$url_string}&amp;search_app={$current_key}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[$current_key][sortKey]={$this->request['search_app_filters'][$current_key]['sortKey']}&amp;search_app_filters[$current_key][sortDir]=0" base="public"}'>{$this->lang->words['s_search_type_o_0']}</a>
					</li>
					<li <if test="$this->request['search_app_filters'][$current_key]['sortDir'] == 1">class='active'</if>>
						<a href='{parse url="{$url_string}&amp;search_app={$current_key}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[$current_key][sortKey]={$this->request['search_app_filters'][$current_key]['sortKey']}&amp;search_app_filters[$current_key][sortDir]=1" base="public"}'>{$this->lang->words['s_search_type_o_1']}</a>
					</li>
				</ul>
			</if>
		</div>
		<if test="count($sortDropDown) && count($sortDropDown) >= 5">
			<!-- The menu for changing the sort field -->
			<ul id='search_sort_menucontent' class='ipbmenu_content with_checks' style='display: none'>
				<if test="IPSSearchRegistry::get('config.contentTypes') AND is_array( IPSSearchRegistry::get('config.contentTypes') )">
					<foreach loop="$sortDropDown as $k => $l">
						<li <if test="$this->request['search_app_filters'][$current_key][$this->request['search_app_filters'][$current_key]['searchInKey']]['sortKey'] == $k">class='selected'</if>>
							<a href='{parse url="{$url_string}&amp;search_app={$current_key}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[$current_key][{$this->request['search_app_filters'][$current_key]['searchInKey']}][sortKey]={$k}&amp;search_app_filters[$current_key][{$this->request['search_app_filters'][$current_key]['searchInKey']}][sortDir]={$this->request['search_app_filters'][$current_key][$this->request['search_app_filters'][$current_key]['searchInKey']]['sortDir']}" base="public"}'>{$l}</a>
						</li>
					</foreach>
				<else />
					<foreach loop="$sortDropDown as $k => $l">
						<li <if test="$this->request['search_app_filters'][$current_key]['sortKey'] == $k">class='selected'</if>>
							<a href='{parse url="{$url_string}&amp;search_app={$current_key}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[$current_key][sortKey]={$k}&amp;search_app_filters[$current_key][sortDir]={$this->request['search_app_filters'][$current_key]['sortDir']}" base="public"}'>{$l}</a>
						</li>
					</foreach>
				</if>
			</ul>
		</if>
		<div class='ipsBox_container'>
			<if test="hasTotal:|:$total">
				{$results}
			<else />
				<p class='no_messages'>{$this->lang->words['no_results_found']}<if test="noResultsTerm:|:$search_term"> {$this->lang->words['no_results_found_for']} '{$search_term}'</if>.</p>
			</if>
		</div>
		<div class='clearfix'>
			{$pagination}
		</div>
	</div>
</div>]]></template_content>
      <template_name>searchResultsWrapper</template_name>
      <template_data>$results, $sortDropDown, $sortIn, $pagination, $total, $showing, $search_term, $url_string, $current_key, $removed_search_terms=array(), $limited=0, $wasLimited=false, $search_tags</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_search</template_group>
      <template_content><![CDATA[<div class='result_info'>
	<h3>{$r['content_title']}</h3>
	<if test="showGenericContent:|:!$resultAsTitle">
	<p>
		{$r['content']}
	</p>
	</if>
</div>
<if test="$r['updated'] OR $r['member_id']">
	<div class='result_details desc'>
		<ul>
			<if test="$r['updated']">
				<li>{parse date="$r['updated']" format="short"}</li>
			</if>
			<if test="$r['member_id']">
				<li>{$this->lang->words['search_by']} <a href='{parse url="showuser={$r['member_id']}" template="showuser" seotitle="{$r['members_seo_name']}" base="public"}'>{$r['members_display_name']}</a></li>
			</if>
		</ul>
	</div>
</if>]]></template_content>
      <template_name>searchRowGenericFormat</template_name>
      <template_data>$r, $resultAsTitle=false</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_search</template_group>
      <template_content><![CDATA[<if test="whichWayToGo:|:$resultAsTitle">
	{parse template="asForumTopics" group="search" params="$data"}
<else />
	{parse template="asForumPosts" group="search" params="$data"}
</if>]]></template_content>
      <template_name>topicPostSearchResultAsForum</template_name>
      <template_data>$data, $resultAsTitle=false</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_search</template_group>
      <template_content><![CDATA[<php>
	$datecut		= ( $this->settings['search_ucontent_days'] ) ? $this->registry->class_localization->getDate( time() - ( 86400 * intval( $this->settings['search_ucontent_days'] ) ), 'joined' ) : 0;
</php>
<h2 class='ipsType_pagetitle'>{parse expression="sprintf( $this->lang->words['s_participation_title'], $member['members_display_name'] )"}</h2>
<input type='hidden' name="usedInJsLater" id="urlString" value="{parse expression="base64_encode( $this->registry->output->buildUrl( "app=core&amp;module=search&amp;do=user_activity&amp;search_app={$this->request['search_app']}&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;sid={$this->request['_sid']}", "public" ) )"}" />
<if test="NPhasResults:|:$total">
		<p class='ipsType_pagedesc'>
			{parse expression="sprintf( $this->lang->words['s_participation_msg'], $total, $member['members_display_name'] )"}
			<if test="$datecut">
				<span class='desc lighter'>{parse expression="sprintf( $this->lang->words['s_participation_range'], $datecut )"}</span>
			</if>
		</p>
	<br />
</if>
<div class='ipsLayout ipsLayout_withleft clearfix'>
	<div class='ipsLayout_left'>
		<div class='ipsBox'>
			<div class='ipsBox_container ipsSideMenu'>
				<h4>{$this->lang->words['filter_by_app']}</h4>
				<ul>
					<if test="IPSLib::appIsSearchable( 'forums', 'usercontent' )">
						<li <if test="forumsTab:|:$this->request['search_app'] == 'forums'">class='active'</if>><a href='{parse url="app=core&amp;module=search&amp;do=user_activity&amp;search_app=forums&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;sid={$this->request['_sid']}" base="public"}'>{IPSLib::getAppTitle( 'forums' )}</a></li>
					</if>
					<if test="IPSLib::appIsSearchable( 'members', 'usercontent' )">
						<li <if test="membersTab:|:$this->request['search_app'] == 'members'">class='active'</if>><a href='{parse url="app=core&amp;module=search&amp;do=user_activity&amp;search_app=members&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;sid={$this->request['_sid']}" base="public"}'>{IPSLib::getAppTitle( 'members' )}</a></li>
					</if>
					<if test="IPSLib::appIsSearchable( 'core', 'usercontent' )">
						<li <if test="helpTab:|:$this->request['search_app'] == 'core'">class='active'</if>><a href='{parse url="app=core&amp;module=search&amp;do=user_activity&amp;search_app=core&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;sid={$this->request['_sid']}" base="public"}'>{IPSLib::getAppTitle( 'core' )}</a></li>
					</if>
					<foreach loop="apps:$this->registry->getApplications() as $app">
						<if test="appIsSearchable:|:IPSLib::appIsSearchable( $app['app_directory'], 'usercontent' ) AND !in_array( $app['app_directory'], array('core','forums','members') )">
							<li <if test="appIsSearched:|:$this->request['search_app'] == $app['app_directory']">class='active'</if>><a href='{parse url="app=core&amp;module=search&amp;do=user_activity&amp;search_app={$app['app_directory']}&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;sid={$this->request['_sid']}" base="public"}'>{IPSLib::getAppTitle( $app['app_directory'] )}</a></li>
				 		</if>
					</foreach>
				</ul>
				
				<if test="$this->request['search_app'] == 'forums'">
					<h4>{$this->lang->words['userposts_morefilters']}</h4>
					<ul>
						<li <if test="$this->request['userMode'] == 'all'">class='active'</if>><a href='{parse url="app=core&amp;module=search&amp;do=user_activity&amp;search_app={$this->request['search_app']}&amp;mid={$this->request['mid']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;userMode=all" base="public"}'>{$this->lang->words['viewall_opt_dd']}</a></li>
						<li <if test="$this->request['userMode'] == 'title'">class='active'</if>><a href='{parse url="app=core&amp;module=search&amp;do=user_activity&amp;search_app={$this->request['search_app']}&amp;mid={$this->request['mid']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;userMode=title" base="public"}'>{$this->lang->words['viewallt_opt_dd']}</a></li>
						<li <if test="$this->request['userMode'] == 'content'">class='active'</if>><a href='{parse url="app=core&amp;module=search&amp;do=user_activity&amp;search_app={$this->request['search_app']}&amp;mid={$this->request['mid']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;userMode=content" base="public"}'>{$this->lang->words['viewallp_opt_dd']}</a></li>
					</ul>
				</if>
				
				<if test="is_array($sortIn) AND count( $sortIn )">
					<h4>{$this->lang->words['filter_by_type']}</h4>
					<ul>
						<foreach loop="$sortIn as $id => $_data">
							<li <if test="$this->request['search_app_filters'][$this->request['search_app']]['searchInKey'] == $_data[0]">class='active'</if>>
								<a href='{parse url="app=core&amp;module=search&amp;do=user_activity&amp;search_app={$this->request['search_app']}&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;sid={$this->request['_sid']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$_data[0]}" base="public"}'>{$_data[1]}</a>
							</li>
						</foreach>
					</ul>
				</if>
			</div>
		</div>
	</div>
	<div class='ipsLayout_content'>
		<if test="$pagination">
			<div class='topic_controls'>
				{$pagination}
			</div>
			<br />
		</if>
		<div class='maintitle ipsFilterbar'>
			<if test="IPSSearchRegistry::get('config.contentTypes') AND is_array( IPSSearchRegistry::get('config.contentTypes') )">
				<if test="count($sortDropDown)">
				<span class='ipsType_small'>{$this->lang->words['sort_by']}</span>&nbsp;&nbsp;
					<if test="count($sortDropDown) <= 4">
						<ul class='ipsList_inline ipsType_smaller' style='display: inline'>
							<foreach loop="$sortDropDown as $k => $l">
								<li <if test="$this->request['search_app_filters'][$this->request['search_app']][$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']]['sortKey'] == $k">class='active'</if>>
									<a href='{parse url="app=core&amp;module=search&amp;do=user_activity&amp;sid={$this->request['_sid']}&amp;mid={$this->request['mid']}&amp;search_app={$this->request['search_app']}&amp;userMode={$this->request['userMode']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[{$this->request['search_app']}][{$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}][sortKey]={$k}&amp;search_app_filters[{$this->request['search_app']}][{$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}][sortDir]={$this->request['search_app_filters'][$this->request['search_app']][$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']]['sortDir']}" base="public"}'>{$l}</a>
								</li>
							</foreach>
						</ul>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					<else />
						<ul class='ipsList_inline ipsType_smaller' style='display: inline'>
							<li class='active'>
								<a href='#' id='search_sort' class='ipbmenu'>{$sortDropDown[ $this->request['search_app_filters'][$this->request['search_app']][$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']]['sortKey'] ]} &nbsp;&nbsp;<span class='submenu_indicator'></span>&nbsp;</a>
							</li>
						</ul>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</if>
				</if>
				<span class='ipsType_small'>{$this->lang->words['order']}</span>&nbsp;&nbsp;
				<ul class='ipsList_inline ipsType_smaller' style='display: inline'>
					<li <if test="$this->request['search_app_filters'][$this->request['search_app']][$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']]['sortDir'] == 0">class='active'</if>>
						<a href='{parse url="app=core&amp;module=search&amp;do=user_activity&amp;sid={$this->request['_sid']}&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;search_app={$this->request['search_app']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[{$this->request['search_app']}][{$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}][sortKey]={$this->request['search_app_filters'][$this->request['search_app']][$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']]['sortKey']}&amp;search_app_filters[{$this->request['search_app']}][{$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}][sortDir]=0" base="public"}'>{$this->lang->words['s_search_type_o_0']}</a>
					</li>
					<li <if test="$this->request['search_app_filters'][$this->request['search_app']][$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']]['sortDir'] == 1">class='active'</if>>
						<a href='{parse url="app=core&amp;module=search&amp;do=user_activity&amp;sid={$this->request['_sid']}&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;search_app={$this->request['search_app']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[{$this->request['search_app']}][{$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}][sortKey]={$this->request['search_app_filters'][$this->request['search_app']][$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']]['sortKey']}&amp;search_app_filters[{$this->request['search_app']}][{$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}][sortDir]=1" base="public"}'>{$this->lang->words['s_search_type_o_1']}</a>
					</li>
				</ul>
			<else />
				<if test="count($sortDropDown)">
					<span class='ipsType_small'>{$this->lang->words['sort_by']}</span>&nbsp;&nbsp;
					<if test="count($sortDropDown) <= 4">
						<ul class='ipsList_inline ipsType_smaller' style='display: inline'>
							<foreach loop="$sortDropDown as $k => $l">
								<li <if test="$this->request['search_app_filters'][$this->request['search_app']]['sortKey'] == $k">class='active'</if>>
									<a href='{parse url="app=core&amp;module=search&amp;do=user_activity&amp;sid={$this->request['_sid']}&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;search_app={$this->request['search_app']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[{$this->request['search_app']}][sortKey]={$k}&amp;search_app_filters[{$this->request['search_app']}][sortDir]={$this->request['search_app_filters'][$this->request['search_app']]['sortDir']}" base="public"}'>{$l}</a>
								</li>
							</foreach>
						</ul>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					<else />
						<ul class='ipsList_inline ipsType_smaller' style='display: inline'>
							<li class='active'>
								<a href='#' id='search_sort' class='ipbmenu'>{$sortDropDown[ $this->request['search_app_filters'][$this->request['search_app']]['sortKey'] ]} &nbsp;&nbsp;<span class='submenu_indicator'></span>&nbsp;</a>
							</li>
						</ul>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</if>
				</if>
				<span class='ipsType_small'>{$this->lang->words['order']}</span>&nbsp;&nbsp;
				<ul class='ipsList_inline ipsType_smaller' style='display: inline'>
					<li <if test="$this->request['search_app_filters'][$this->request['search_app']]['sortDir'] == 0">class='active'</if>>
						<a href='{parse url="app=core&amp;module=search&amp;do=user_activity&amp;sid={$this->request['_sid']}&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;search_app={$this->request['search_app']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[{$this->request['search_app']}][sortKey]={$this->request['search_app_filters'][$this->request['search_app']]['sortKey']}&amp;search_app_filters[{$this->request['search_app']}][sortDir]=0" base="public"}'>{$this->lang->words['s_search_type_o_0']}</a>
					</li>
					<li <if test="$this->request['search_app_filters'][$this->request['search_app']]['sortDir'] == 1">class='active'</if>>
						<a href='{parse url="app=core&amp;module=search&amp;do=user_activity&amp;sid={$this->request['_sid']}&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;search_app={$this->request['search_app']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[{$this->request['search_app']}][sortKey]={$this->request['search_app_filters'][$this->request['search_app']]['sortKey']}&amp;search_app_filters[{$this->request['search_app']}][sortDir]=1" base="public"}'>{$this->lang->words['s_search_type_o_1']}</a>
					</li>
				</ul>
			</if>
		</div>
		<if test="count($sortDropDown) && count($sortDropDown) >= 5">
			<!-- The menu for changing the sort field -->
			<ul id='search_sort_menucontent' class='ipbmenu_content with_checks' style='display: none'>
				<if test="IPSSearchRegistry::get('config.contentTypes') AND is_array( IPSSearchRegistry::get('config.contentTypes') )">
					<foreach loop="$sortDropDown as $k => $l">
						<li <if test="$this->request['search_app_filters'][$this->request['search_app']][$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']]['sortKey'] == $k">class='selected'</if>>
							<a href='{parse url="app=core&amp;module=search&amp;do=user_activity&amp;sid={$this->request['_sid']}&amp;mid={$this->request['mid']}&amp;search_app={$this->request['search_app']}&amp;userMode={$this->request['userMode']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[{$this->request['search_app']}][{$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}][sortKey]={$k}&amp;search_app_filters[{$this->request['search_app']}][{$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}][sortDir]={$this->request['search_app_filters'][$this->request['search_app']][$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']]['sortDir']}" base="public"}'>{$l}</a>
						</li>
					</foreach>
				<else />
					<foreach loop="$sortDropDown as $k => $l">
						<li <if test="$this->request['search_app_filters'][$this->request['search_app']]['sortKey'] == $k">class='selected'</if>>
							<a href='{parse url="app=core&amp;module=search&amp;do=user_activity&amp;sid={$this->request['_sid']}&amp;mid={$this->request['mid']}&amp;userMode={$this->request['userMode']}&amp;search_app={$this->request['search_app']}&amp;search_app_filters[{$this->request['search_app']}][searchInKey]={$this->request['search_app_filters'][$this->request['search_app']]['searchInKey']}&amp;search_app_filters[{$this->request['search_app']}][sortKey]={$k}&amp;search_app_filters[{$this->request['search_app']}][sortDir]={$this->request['search_app_filters'][$this->request['search_app']]['sortDir']}" base="public"}'>{$l}</a>
						</li>
					</foreach>
				</if>
			</ul>
		</if>
		<div>
			<if test="NPTotal:|:$total">
				{$results}
				<br />
				{$pagination}
			<else />
				<p class='no_messages'>{$this->lang->words['user_posts_none']}</p>
			</if>
		</div>
	</div>
</div>]]></template_content>
      <template_name>userPostsView</template_name>
      <template_data>$results, $pagination, $total, $member, $limited=0, $wasLimited=false, $beginTime=0, $sortIn=null, $sortDropDown=array()</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
  </templategroup>
  <templategroup group="skin_stats">
    <template>
      <template_group>skin_stats</template_group>
      <template_content><![CDATA[<if test="hasPaginationTop:|:$pagination">
	<div class='topic_controls'>{$pagination}</div>
</if>
<h3 class='maintitle'>{$group}</h3>
<table class='ipb_table ipsMemberList'>
	<tr class='header'>
		<th scope='col' style='width: 3%'>&nbsp;</th>
		<th scope='col' style='width: 20%'>{$this->lang->words['leader_name']}</th>
		<th scope='col' style='width: 15%'>{$this->lang->words['leader_group']}</th>
		<th scope='col' style='width: 25%' class='short'>{$this->lang->words['leader_forums']}</th>
		<th scope='col' style='width: 25%'>{$this->lang->words['leader_last_seen']}</th>
		<th scope='col' style='width: 12%'>&nbsp;</th>
	</tr>
	<if test="hasLeaders:|:count($members) AND is_array($members)">
		{parse striping="staff" classes="row1,row2"}
		<foreach loop="members:$members as $info">
			<tr class='{parse striping="staff"}'>
				<td>{parse template="userSmallPhoto" group="global" params="$info"}</td>
				<td>{parse template="userHoverCard" group="global" params="$info"}</td>
				<td>{$info['_group_formatted']}</td>
				<td class='altrow short'>
					<if test="specificForums:|:is_array($info['forums'])">
						<if test="noVisibleForums:|: empty( $info['forums'] )">
							--
						<else />
							<if test="moreThanOne:|: count( $info['forums'] ) == 1">
								<foreach loop="forums:$info['forums'] as $id => $name">
									<a href="{parse url="showforum={$id}" base="public" template="showforum" seotitle="{$this->registry->class_forums->forum_by_id[ $id ]['name_seo']}"}">{$name}</a>
								</foreach>
							<else />
								<a href='#' id='mod_page_{$info['member_id']}'>{parse expression="sprintf($this->lang->words['no_forums'],count($info['forums']))"}</a>
								<ul class='ipbmenu_content' id='mod_page_{$info['member_id']}_menucontent'  style='display:none'>
								<foreach loop="forums:$info['forums'] as $id => $name">
									<li><a href="{parse url="showforum={$id}" base="public" template="showforum" seotitle="{$this->registry->class_forums->forum_by_id[ $id ]['name_seo']}"}">{$name}</a></li>
								</foreach>
								</ul>
								<script type='text/javascript'>
									document.observe("dom:loaded", function()
									{
										new ipb.Menu( $('mod_page_{$info['member_id']}'), $('mod_page_{$info['member_id']}_menucontent') );
									} );
								</script>
							</if>
						</if>
					<else />
						{$info['forums']}
					</if>
				</td>
				<td>
					<span class='ipsText_small desc'>{$info['_last_active']}</span>
					<if test="isonline:|:$info['_online'] && ($info['online_extra'] != $this->lang->words['not_online'])">
						<span data-tooltip="{$info['online_extra']}" class='ipsBadge ipsBadge_green'>{$this->lang->words['m_online']}</span>
					</if>
				</td>
				<td class='short altrow'>
					<ul class='ipsList_inline right ipsList_nowrap'>
						<if test="isFriendable:|:$this->memberData['member_id'] AND $this->memberData['member_id'] != $info['member_id'] && $this->settings['friends_enabled'] AND $this->memberData['g_can_add_friends']">
							<if test="isFriend:|:IPSMember::checkFriendStatus( $info['member_id'] )">
								<li class='mini_friend_toggle is_friend' id='friend_xxx_{$info['member_id']}'><a href='{parse url="app=members&amp;module=profile&amp;section=friends&amp;do=remove&amp;member_id={$info['member_id']}&amp;secure_key={$this->member->form_hash}" base="public"}' title='{$this->lang->words['remove_friend']}' class='ipsButton_secondary'>{parse replacement="remove_friend"}</a></li>
							<else />
								<li class='mini_friend_toggle is_not_friend' id='friend_xxx_{$info['member_id']}'><a href='{parse url="app=members&amp;module=profile&amp;section=friends&amp;do=add&amp;member_id={$info['member_id']}&amp;secure_key={$this->member->form_hash}" base="public"}' title='{$this->lang->words['add_friend']}' class='ipsButton_secondary'>{parse replacement="add_friend"}</a></li>
							</if>
						</if>
						<if test="canPm:|:$this->memberData['g_use_pm'] AND $this->memberData['member_id'] != $info['member_id'] AND $this->memberData['members_disable_pm'] == 0 AND IPSLib::moduleIsEnabled( 'messaging', 'members' )">
							<li class='pm_button' id='pm_xxx_{$info['member_id']}'><a href='{parse url="app=members&amp;module=messaging&amp;section=send&amp;do=form&amp;fromMemberID={$info['member_id']}" base="public"}' title='{$this->lang->words['pm_member']}' class='ipsButton_secondary'>{parse replacement="send_msg"}</a></li>
						</if>
					</ul>
				</td>
			</tr>
		</foreach>
	</if>
</table>
<if test="hasPaginationBottom:|:$pagination">
	<div class='topic_controls'>{$pagination}</div>
</if>
<br class='clear' />]]></template_content>
      <template_name>group_strip</template_name>
      <template_data><![CDATA[$group="", $members=array(), $pagination='']]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_stats</template_group>
      <template_content><![CDATA[<h1 class='ipsType_pagetitle'>{$this->lang->words['todays_posters']}</h1>
<br />
<table class='ipb_table ipsMemberList'>
	<tr class='header'>
		<th scope='col' style='width: 3%'>&nbsp;</th>
		<th scope='col'>{$this->lang->words['member']}</th>
		<th scope='col'>{$this->lang->words['member_joined']}</th>
		<th scope='col' class='short'>{$this->lang->words['member_posts']}</th>
		<th scope='col' class='short'>{$this->lang->words['member_today']}</th>
		<th scope='col' class='short'>{$this->lang->words['member_percent']}</th>
		<th scope='col' class='short'>&nbsp;</th>
	</tr>
	<if test="hasTopPosters:|:!is_array($rows) OR !count($rows)">
		<tr>
			<td colspan='7' class='no_messages'>{$this->lang->words['no_info']}</td>
		</tr>
	<else />
		{parse striping="top_posters" classes="row1,row2"}
		<foreach loop="topposters:$rows as $info">
			<tr class='{parse striping="top_posters"}'>
				<td>{parse template="userSmallPhoto" group="global" params="array_merge( $info, array( 'alt' => sprintf($this->lang->words['users_photo'], $info['members_display_name']) ) )"}</td>
				<td>{parse template="userHoverCard" group="global" params="$info"}</td>
				<td class='altrow'>
					{parse date="$info['joined']" format="joined"}
				</td>
				<td class='short'>
					{parse format_number="$info['posts']"}
				</td>
				<td class='altrow short'>
					{parse format_number="$info['tpost']"}
				</td>
				<td class='short'>
					{$info['today_pct']}%
				</td>
				<td class='altrow short'>
					<ul class='ipsList_inline right'>
						<if test="tpIsFrindable:|:$this->memberData['member_id'] AND $this->memberData['member_id'] != $info['member_id'] && $this->settings['friends_enabled'] AND $this->memberData['g_can_add_friends']">
							<if test="tpIsFriend:|:IPSMember::checkFriendStatus( $info['member_id'] )">
								<li class='mini_friend_toggle is_friend' id='friend_xxx_{$info['member_id']}'><a href='{parse url="app=members&amp;module=profile&amp;section=friends&amp;do=remove&amp;member_id={$info['member_id']}&amp;secure_key={$this->member->form_hash}" base="public"}' title='{$this->lang->words['remove_friend']}' class='ipsButton_secondary'>{parse replacement="remove_friend"}</a></li>
							<else />
								<li class='mini_friend_toggle is_not_friend' id='friend_xxx_{$info['member_id']}'><a href='{parse url="app=members&amp;module=profile&amp;section=friends&amp;do=add&amp;member_id={$info['member_id']}&amp;secure_key={$this->member->form_hash}" base="public"}' title='{$this->lang->words['add_friend']}' class='ipsButton_secondary'>{parse replacement="add_friend"}</a></li>
							</if>
						</if>
						<if test="tpPm:|:$this->memberData['g_use_pm'] AND $this->memberData['member_id'] != $info['member_id'] AND $this->memberData['members_disable_pm'] == 0 AND IPSLib::moduleIsEnabled( 'messaging', 'members' )">
							<li class='pm_button' id='pm_xxx_{$info['member_id']}'><a href='{parse url="app=members&amp;module=messaging&amp;section=send&amp;do=form&amp;fromMemberID={$info['member_id']}" base="public"}' title='{$this->lang->words['pm_member']}' class='ipsButton_secondary'>{parse replacement="send_msg"}</a></li>
						</if>
						<if test="tpBlog:|:$info['has_blog'] AND IPSLib::appIsInstalled( 'blog' )">
							<li><a href='{parse url="app=blog&amp;module=display&amp;section=blog&amp;mid={$info['member_id']}" base="public"}' title='{$this->lang->words['view_blog']}' class='ipsButton_secondary'>{parse replacement="blog_link"}</a></li>
						</if>
						<if test="tpGallery:|:$info['has_gallery'] AND IPSLib::appIsInstalled( 'gallery' )">
							<li><a href='{parse url="app=gallery&amp;user={$info['member_id']}" base="public" seotitle="{$info['members_seo_name']}" template="useralbum"}' title='{$this->lang->words['view_gallery']}' class='ipsButton_secondary'>{parse replacement="gallery_link"}</a></li>
						</if>
					</ul>
				</td>
			</tr>
		</foreach>
	</if>
</table>]]></template_content>
      <template_name>top_posters</template_name>
      <template_data>$rows</template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
    <template>
      <template_group>skin_stats</template_group>
      <template_content><![CDATA[<if test="$this->request['module']=='ajax'">
	<h3>{$this->lang->words['who_farted']} {IPSText::truncate( $title, 40 )}</h3>
<else />
	<h3 class='maintitle'>{$this->lang->words['who_farted']} {IPSText::truncate( $title, 30 )}</h3>
</if>
<div class='fixed_inner'>
	<table class='ipb_table'>
		<tr class='header'>
			<th>{$this->lang->words['whoposted_name']}</th>
			<th>{$this->lang->words['whoposted_posts']}</th>
		</tr>
		<if test="hasPosters:|:count($rows) AND is_array($rows)">
			{parse striping="whoposted" classes="row1,row2"}
			<foreach loop="whoposted:$rows as $row">
				<tr class='{parse striping="whoposted"}'>
					<td>{parse template="userHoverCard" group="global" params="$row"}</td>
					<td>{$row['pcount']}</td>
				</tr>
			</foreach>
		</if>
	</table>
</div>]]></template_content>
      <template_name>whoPosted</template_name>
      <template_data><![CDATA[$tid=0, $title="", $rows=array()]]></template_data>
      <template_updated>1339584003</template_updated>
      <template_removable>0</template_removable>
      <template_user_added>0</template_user_added>
      <template_user_edited>0</template_user_edited>
      <template_master_key>root</template_master_key>
    </template>
  </templategroup>
</templates>
